!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="94e72601-6d23-48e4-9c83-f47c92be2dd2",e._sentryDebugIdIdentifier="sentry-dbid-94e72601-6d23-48e4-9c83-f47c92be2dd2")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"4f7a062e"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7420],{404:(e,t,n)=>{"use strict";n.d(t,{Eu:()=>a,Md:()=>l,nj:()=>c,vh:()=>o,xj:()=>i});var r=n(85230),i="#00000000",o="transparent",a=function(e){return e===o?i:e===i?o:e},l=function(e){return e===o||e===i||e&&r.Ay.valid(e)&&0===(0,r.Ay)(e).alpha()},c=function(e){if(e&&r.Ay.valid(e))return(0,r.Ay)(e).hex()}},446:(e,t,n)=>{"use strict";n.d(t,{Of:()=>j,Fn:()=>H,M9:()=>O,fS:()=>B});var r=n(29935),i=n(62019),o=n(37743),a=n(1833),l=n(53847),c=n(12694),u=n(22531),s=n(89264),d=n(82643),f=n(49069),h=n(45773),m=n(65620),v=n(14779),p=n(60490),g=n(6862),y=n(69420),w=n(25386),x=n(83846),b=n(68488),S=n(14603),_=n(60910),C=n(41118),A=n(72764),k=n(39534),E="cm-lsp-definition-target-word",Y=h.Lz.theme((0,x._)({},".".concat(E," span"),{backgroundColor:k.LU.backgroundHigher,color:k.LU.accentPrimaryStrongest,cursor:"pointer",textDecoration:"underline"})),D=h.NZ.mark({class:E}),L=function(){function e(t,n){(0,o._)(this,e),this.range=t,this.requestIds=n}var t=e.prototype;return t.update=function(e){this.range=this.range.map(e)},t.eq=function(e){var t=e.range;return this.range.from<=t.to&&t.from<=this.range.to},t.toResult=function(e,t){var n=h.NZ,r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;if(!(!c||Array.isArray(c)&&0===c.length)){var u=this.range.from,s=this.range.to;if(Array.isArray(c)&&c.length>0&&"originSelectionRange"in c[0]){var d=c[0].originSelectionRange;d&&(u=(0,S.TU)(e.state.doc,d.start),s=(0,S.TU)(e.state.doc,d.end),u>=s&&(u=this.range.from,s=this.range.to))}if(!(u>=s))return{request:this,decs:h.NZ.set(D.range(u,s))}}}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return{request:this,decs:n.none}},e}(),T=f.Pe.define(),U=f.sU.define({create:function(){return null},update:function(e,t){if(t.state.facet(A.f))return null;t.docChanged&&(e=null);var n=!0,r=!1,i=void 0;try{for(var o,a=t.effects[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.is(T)&&(e=l.value)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e},provide:function(e){return h.Lz.decorations.from(e,function(e){var t;return null!=(t=null==e?void 0:e.decs)?t:h.NZ.none})}}),R=function(){function e(t,n){(0,o._)(this,e),this.view=t,this.lspClients=n,this.destroyed=!1,this.path=t.state.facet(p.Md)}var t=e.prototype;return t.update=function(e){(0,b.$H)(e,p.Md)&&(this.path=e.state.facet(p.Md)),this.inflight&&this.inflight.update(e.changes)},t.destroy=function(){this.destroyed=!0,this.clear()},t.clear=function(){if(!this.destroyed&&this.view.state.field(U,!1)&&this.view.dispatch({effects:T.of(null)}),this.inflight){var e=!0,t=!1,n=void 0;try{for(var r,i=this.lspClients[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value,a=this.inflight.requestIds.get(o.clientId);a&&o.notify.cancelRequest(a)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.inflight=void 0}},t.event=function(e){return(0,r._)(function(){var t,n,r,i,o,a,l,c,u,s,f,h,m,v,p,g,w,x,b,_,k,E,Y,D;return(0,d.YH)(this,function(d){switch(d.label){case 0:if(t=this,e.mouse&&(this.mouse=e.mouse),!(null==(n=this.view.state.facet(y.q))?void 0:n.isFindDefinitionSupported)||!e.key||!this.mouse||null===(r=this.view.posAtCoords(this.mouse))||!(i=this.view.state.wordAt(r))||i.from===i.to)return[2,this.clear()];o=new Map,a=!0,l=!1,c=void 0;try{for(u=this.lspClients[Symbol.iterator]();!(a=(s=u.next()).done);a=!0)f=s.value,(0,C.A)(f).isFindDefinitionSupported&&(h=f.generateId(),o.set(f.clientId,h))}catch(e){l=!0,c=e}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}if(m=new L(i,o),this.view.state.facet(A.f)||(v=this.view.state.field(U,!1))&&m.eq(v.request)||this.inflight&&m.eq(this.inflight))return[2];if(void 0!==this.inflight){p=!0,g=!1,w=void 0;try{for(x=this.lspClients[Symbol.iterator]();!(p=(b=x.next()).done);p=!0)_=b.value,(k=this.inflight.requestIds.get(_.clientId))&&_.notify.cancelRequest(k)}catch(e){g=!0,w=e}finally{try{p||null==x.return||x.return()}finally{if(g)throw w}}}return this.inflight=m,[4,Promise.all(this.lspClients.map(function(e){var n,r=null==(n=t.inflight)?void 0:n.requestIds.get(e.clientId);if(!r)return null;if(!t.path)throw Error("Expected path");return e.request.findDefinitions(t.path,(0,S.Z3)(t.view.state.doc,m.range.from),{id:r}).then(function(t){return{id:r,client:e.clientId,response:t}})}).filter(Boolean))];case 1:if(E=d.sent(),this.destroyed)return[2];return Y=E.map(function(e){var n=e.id,r=e.client,i=e.response;return!1===i.cancelled&&t.inflight&&t.inflight.requestIds.get(r)===n?i.result:null}),D=m.toResult(this.view,Y),this.inflight=void 0,this.view.dispatch({effects:T.of(D)}),[2]}})}).call(this)},e}();function F(e){var t=window.navigator.userAgent.includes("Macintosh");return e.key===(t?"Meta":"Control")}var M=n(59911),P=n(69071),I=n(25803),N=n(63289),H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.state.facet(y.q);return!!n&&!!n.isFindDefinitionSupported&&(e.dispatch({effects:[z.of({selection:e.state.selection.main.head,newPane:null!==t&&(0,_.T$)(t)})]}),!0)},B=function(e){var t=e.state.facet(y.q);return!!t&&!!t.isFindTypeDefinitionSupported&&(e.dispatch({effects:[q.of({selection:e.state.selection.main.head})]}),!0)},O=function(e){var t=e.state.facet(y.q);return!!t&&!!t.isFindImplementationSupported&&(e.dispatch({effects:[Z.of({selection:e.state.selection.main.head})]}),!0)},z=f.Pe.define(),q=f.Pe.define(),Z=f.Pe.define();function j(e){var t=e.lspClients;return h.Z9.define(function(e){var n,i=function(i,s){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r._)(function(){var h,y,x,b,_,A,k,E,Y,D,L,T,U;return(0,d.YH)(this,function(R){switch(R.label){case 0:if(!(h=e.state.facet(p.Md)))return[2];y=t.map(function(t){var n,r=o.get(t.clientId);r&&(t.notify.cancelRequest(r),o.delete(t.clientId));var a=(0,C.A)(t),l=(0,S.Z3)(e.state.doc,s);switch(i){case"definition":if(!a.isFindDefinitionSupported)return null;n=t.request.findDefinitions;break;case"type definition":if(!a.isFindTypeDefinitionSupported)return null;n=t.request.findTypeDefinitions;break;case"implementation":if(!a.isFindImplementationSupported)return null;n=t.request.findImplementations}var c=t.generateId();return o.set(t.clientId,c),n(h,l,{id:c,tap:function(t){return(0,g.o8)(e,t)}}).then(function(e){return{id:c,client:t.clientId,response:e}})}),R.label=1;case 1:return R.trys.push([1,3,,4]),[4,new Promise(function(e,i){return(0,r._)(function(){var r;return(0,d.YH)(this,function(l){return r=new Map(o),n=setTimeout(function(){a&&i();var e=!0,l=!1,c=void 0;try{for(var u,s=t[Symbol.iterator]();!(e=(u=s.next()).done);e=!0){var d=u.value,f=d.clientId,h=r.get(f);void 0!==h&&h===o.get(f)&&d.notify.cancelRequest(h)}}catch(e){l=!0,c=e}finally{try{e||null==s.return||s.return()}finally{if(l)throw c}}i(new V),n=null},12e3),[2,Promise.all(y.filter(Boolean)).then(function(t){n&&(clearTimeout(n),n=null),a&&i(),e(t)})]})})()})];case 2:if((x=R.sent()).every(function(e){return!0===e.response.cancelled}))return[2];o.clear(),b=!0,_=!1,A=void 0;try{for(k=function(){var n=Y.value,r=n.client,i=n.response;if("error"in i||i.cancelled)return"continue";var o=(0,I.U)(i.result);if(o&&o.length>0){var a=t.find(function(e){return e.clientId===r});if(!a)throw Error("Cannot find lsp client");var l=(0,c._)(o,1)[0],u=l.uri,d=l.range,v=d.start,p=a.documentUriToPath(u),g=v.line+1,y=v.character;if(p!==h||f)return(0,N.Tq)(e.state,{path:{path:p,line:g,col:y},secondary:!1}),{v:void 0};var x=(0,S.TU)(e.state.doc,d.start),b=(0,S.TU)(e.state.doc,d.end);return x<=s&&s<=b&&(0,w.y)(e,{offset:s})||((0,m.$)({view:e,line:g,col:y}),e.focus()),{v:void 0}}},E=x[Symbol.iterator]();!(b=(Y=E.next()).done);b=!0)if(D=k(),"object"===(0,u._)(D))return[2,D.v]}catch(e){_=!0,A=e}finally{try{b||null==E.return||E.return()}finally{if(_)throw A}}return(0,M.A)(e,{message:"No ".concat(i," found"),offset:s}),[2];case 3:if(L=R.sent(),a)return[2];return(0,l._)(L,V)&&(U=null!=(T=(0,v.A)(e.state))?T:"unknown",P.vF.warn("Timed out looking for ".concat(i),{filePath:h,offset:s,language:U}),(0,M.A)(e,{message:"Timed out looking for your ".concat(i,". Try again"),offset:s})),[3,4];case 4:return[2]}})})()},o=new Map,a=!1;return{goTo:i,update:function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e.transactions[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value,c=!0,u=!1,s=void 0;try{for(var d,f=l.effects[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=d.value;if(h.is(z))return i("definition",h.value.selection,h.value.newPane);if(h.is(q))return i("type definition",h.value.selection);if(h.is(Z))return i("implementation",h.value.selection)}}catch(e){u=!0,s=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw s}}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}},destroy:function(){var e=!0,r=!1,i=void 0;try{for(var l,c=t[Symbol.iterator]();!(e=(l=c.next()).done);e=!0){var u=l.value,s=o.get(u.clientId);s&&u.notify.cancelRequest(s)}}catch(e){r=!0,i=e}finally{try{e||null==c.return||c.return()}finally{if(r)throw i}}null!==n&&clearTimeout(n),a=!0}}},{eventHandlers:{click:function(e,t){var n=t.state.selection.main;if(n.from!==n.to)return!1;if((0,_.T$)(e)){var r=e.clientX,i=e.clientY,o=t.posAtCoords({x:r,y:i});if(null!==o)return this.goTo("definition",o,e.altKey),!1}}},provide:function(){return[Y,U,h.Z9.define(function(e){return new R(e,t)},{eventHandlers:{click:function(){this.clear()},keyup:function(e){F(e)&&this.clear()},keydown:function(e){if(F(e))this.event({key:!0});else{if("Alt"===e.key)return;this.clear()}},mousemove:function(e,t){if(0!==e.buttons&&!t.state.selection.main.empty)return this.clear();var n=(0,_.T$)(e);this.event({mouse:{x:e.clientX,y:e.clientY},key:n})}}})]}})}var V=function(e){function t(){return(0,o._)(this,t),(0,i._)(this,t,arguments)}return(0,a._)(t,e),t}((0,s._)(Error))},478:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var r=n(37743),i=n(48122),o=n(12694),a=function e(t,n){(0,r._)(this,e),this.next=null,this.prev=null,this.key=t,this.data=n},l=function(){function e(){(0,r._)(this,e),this.size_=0,this.head=null,this.tail=null}var t=e.prototype;return t.addFront=function(e){this.tail||(this.tail=e),this.head&&(this.head.prev=e),e.next=this.head,this.head=e,this.size_++},t.popBack=function(){if(!this.tail)return null;var e=this.tail;return this.tail=e.prev,this.size_--,e.prev&&(e.prev.next=null,e.prev=null),e},t.moveToFront=function(e){this.head!==e&&(this.tail===e&&(this.tail=e.prev),e.next&&(e.next.prev=e.prev,e.next=null),e.prev&&(e.prev.next=e.next,e.prev=null),this.size_--,this.addFront(e))},(0,i._)(e,[{key:"size",get:function(){return this.size_}}]),e}(),c=function(){function e(t){(0,r._)(this,e),this.items=Object.create(null),this.evictList=new l,this.maxSize=t}var t=e.prototype;return t.update=function(e,t){var n=this.items[e];if(n)return this.evictList.moveToFront(n),n.data=t(n.data),n.data;for(;this.evictList.size>=this.maxSize;){var r=this.evictList.popBack();if(!r)throw Error("invariant violation: could not pop back of the list");delete this.items[r.key]}var i=new a(e,t());return this.evictList.addFront(i),this.items[e]=i,i.data},t.getOrAdd=function(e,t){return this.update(e,function(e){return null!=e?e:t})},t.entries=function(){return Object.entries(this.items).map(function(e){var t=(0,o._)(e,2);return[t[0],t[1].data]})},t.set=function(e,t){this.update(e,function(){return t})},t.get=function(e){var t=this.items[e];return t?t.data:null},t.has=function(e){return e in this.items},(0,i._)(e,[{key:"size",get:function(){return this.evictList.size}}]),e}()},1224:(e,t,n)=>{"use strict";n.d(t,{G2:()=>a,KK:()=>c,gu:()=>o,u4:()=>l});var r=n(83045),i=n(62684);function o(e,t){var n=t.commands;return{data:e,match:t.match,commands:n}}var a=function(e){var t=e.defaultScore,n=void 0===t?1:t,i=e.matchScoreMultiplier,o=void 0===i?1:i;return function(e){var t=e.searchQuery,i=e.data,a=e.active;if("group"===i.type)return null;if(!t&&a||!t)return{score:n};var l=r.A.match(t,i.label);return l?{score:l.score*o,render:{ranges:l.ranges}}:null}}({defaultScore:1});function l(e){var t=e.defaultScore,n=void 0===t?1:t,r=e.matchScoreMultiplier,o=void 0===r?1:r,a=e.filterLowMatchScores,l=void 0===a||a;return function(e){var t=e.searchQuery,r=e.data,a=e.active;if("group"===r.type)return null;if(!t&&a||!t)return{score:n};var c=(0,i.w2)(t,r.label);if(!c)return null;var u=Math.floor(c.score*o),s=(0,i.hS)({queryLength:t.length});return l&&s&&u<s?null:{score:u,render:{ranges:c.ranges}}}}var c=l({defaultScore:1})},1807:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(34837),a=n(25590);function l(e){return(0,o.FD)(a.Ay,(0,i._)((0,r._)({},e),{children:[(0,o.Y)("path",{fillRule:"evenodd",d:"M12 8.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM9.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0Z",clipRule:"evenodd"}),(0,o.Y)("path",{fillRule:"evenodd",d:"M12 1.5a.75.75 0 0 1 .75.75v.78a9.002 9.002 0 0 1 8.22 8.22h.78a.75.75 0 0 1 0 1.5h-.78a9.002 9.002 0 0 1-8.22 8.22v.78a.75.75 0 0 1-1.5 0v-.78a9.002 9.002 0 0 1-8.22-8.22h-.78a.75.75 0 0 1 0-1.5h.78a9.002 9.002 0 0 1 8.22-8.22v-.78A.75.75 0 0 1 12 1.5Zm.75 3.037a7.503 7.503 0 0 1 6.713 6.713h-.713a.75.75 0 0 0 0 1.5h.713a7.503 7.503 0 0 1-6.713 6.713v-.713a.75.75 0 0 0-1.5 0v.713a7.503 7.503 0 0 1-6.713-6.713h.713a.75.75 0 0 0 0-1.5h-.713a7.502 7.502 0 0 1 6.713-6.713v.713a.75.75 0 0 0 1.5 0v-.713Z",clipRule:"evenodd"})]}))}},2008:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(17844),i=n(93629),o=n(21462),a=n(79203),l=n(68689),c=n(34896),u={content:!0,fontSize:!0,fontStyle:!0,alignment:!0,textColor:!0,backgroundColor:!0,margin:!0,padding:!0,imageSource:!1};function s(e){var t=(0,a.md)(l.AW);return(0,o.useMemo)(function(){var n=function(e,t){var n,o,a,l=(null!=(o=null==e||null==(n=e.textContent)?void 0:n.length)?o:0)>0,s=(null!=(a=null==e?void 0:e.siblingCount)?a:0)>1,d=t&&!t.includes("standalone")&&(0,c.C)(t,"0.2.7")>=0;switch(null==e?void 0:e.elementName.toLowerCase()){case"img":return(0,i._)((0,r._)({},u),{content:!1,fontSize:!1,fontStyle:!1,alignment:!1,textColor:!1,backgroundColor:!1,imageSource:!s&&!!d});case"input":case"textarea":case"select":return(0,i._)((0,r._)({},u),{content:!1,fontSize:!1,fontStyle:!1,alignment:!1,textColor:!1});default:return(0,i._)((0,r._)({},u),{content:l&&!s&&!(null==e?void 0:e.hasChildElements),fontSize:l,alignment:l,fontStyle:l})}}(null!=e?e:void 0,t);return(0,i._)((0,r._)({},n),{textSectionHeader:n.content||n.fontSize||n.fontStyle||n.alignment,imageSectionHeader:n.imageSource,appearanceSectionHeader:n.textColor||n.backgroundColor,layoutSectionHeader:n.margin||n.padding})},[e,t])}},4722:(e,t,n)=>{"use strict";function r(e,t){var n=e.split("/"),r=t.split("/");for(r.pop();n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();var i=r.map(function(){return".."}).concat(n).join("/");return 0===r.length?"./"+i:i}function i(e,t){return("debugger"===t?"Running the code in my project results in the error:":"My code has the following error:")+"\n```\n".concat(e,"\n```\n\n")}function o(e){var t=e;return e.length>1500&&(t=e.substring(e.length-1500)),"\nRunning the code in my project results in the following:\n\n```\n".concat(t,"\n```\n\nIf applicable, propose a fix immediately.\n")}function a(e){var t=e;return e.length>1500&&(t=e.substring(e.length-1500)),"\nIn the shell, I see the following:\n\n```\n".concat(t,"\n```\n\nIf applicable, propose a fix immediately.\n")}n.d(t,{Aj:()=>r,MM:()=>i,kq:()=>o,yt:()=>a})},4888:(e,t,n)=>{"use strict";n.d(t,{et:()=>h,fC:()=>d,lu:()=>f});var r=n(29935),i=n(37743),o=n(48122),a=n(82643),l=n(49069),c=function(){function e(t){(0,i._)(this,e),this.spec=t}var t=e.prototype;return t.format=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return(0,r._)(function(){return(0,a.YH)(this,function(r){return[2,this.spec.format(e,t,n)]})}).call(this)},t.onSuccess=function(){var e,t;null==(e=(t=this.spec).onSuccess)||e.call(t)},t.onError=function(){var e,t;null==(e=(t=this.spec).onError)||e.call(t)},t.rangeSupport=function(){var e;return null!=(e=this.spec.supportsRangeFormatting)&&e},e.build=function(t){return new e(t)},(0,o._)(e,[{key:"id",get:function(){return this.spec.identifier}},{key:"name",get:function(){var e,t;return null!=(t=null==(e=this.spec)?void 0:e.name)?t:this.spec.identifier}}]),e}(),u=l.sj.define({combine:function(e){var t=new Set;return e.filter(function(e){var n=t.has(e.id);return t.add(e.id),!n})}}),s=l.sj.define({combine:function(e){return e.filter(Boolean)[0]}}),d=l.sj.define({enables:function(e){return[u.computeN([e],function(t){return t.facet(e).map(c.build)}),s.compute([u],function(e){return e.facet(u)[0]})]}}),f=s.reader,h=u.reader},5336:(e,t,n)=>{"use strict";n.d(t,{LI:()=>y,OE:()=>x});var r=n(62019),i=n(37743),o=n(1833),a=n(12694),l=n(34837),c=n(21462),u=n(47993),s=n(45773),d=n(64498),f=n(73488),h=n(41409),m=n(48373),v=(0,c.memo)(function(e){var t=e.list,n=(0,m.A)(t);return(0,l.Y)(l.FK,{children:n})}),p=function(e){function t(e){var n;return(0,i._)(this,t),(n=(0,r._)(this,t,[e])).state={hasError:!1},n}(0,o._)(t,e);var n=t.prototype;return n.componentDidCatch=function(e){this.props.onError(e)},n.render=function(){return this.state.hasError?null:(0,l.Y)(l.FK,{children:this.props.node})},t.getDerivedStateFromError=function(){return{hasError:!0}},t}(c.PureComponent),g=function(){function e(t){(0,i._)(this,e),this.view=t,this.list=(0,h.F)([]),this.mounted=new Map,this.pending=!1,this.counter=0,this.root=(0,l.Y)(v,{list:this.list}),d.e.set(t.dom,t),Promise.resolve().then(function(){d.e.delete(t.dom)}),this.handleComponentError=this.handleComponentError.bind(this)}var t=e.prototype;return t.handleComponentError=function(e){(0,s.c_)(this.view.state,e)},t.flush=function(){var e=this;this.pending||(this.pending=!0,Promise.resolve().then(function(){e.pending&&(e.pending=!1,(0,u.flushSync)(function(){e.list.set(Array.from(e.mounted.values()))}))}))},t.mount=function(e){var t=this,n=(0,l.Y)(p,{node:e,onError:this.handleComponentError},"editor-react-".concat(this.counter));this.counter++;var r=!1,i=function(){r||(t.mounted.delete(i),t.flush(),r=!0)};return this.mounted.set(i,n),this.flush(),i},t.destroy=function(){var e=this;this.pending&&(this.pending=!1),this.mounted.size&&(this.mounted.clear(),(0,u.flushSync)(function(){e.list.set([])}))},e}(),y=s.Z9.fromClass(g,{provide:function(){return f.h}});function w(e){var t,n;return null!=(n=null==e||null==(t=e.plugin(y))?void 0:t.root)?n:null}function x(e){var t=e.view,n=(0,a._)((0,c.useState)(function(){return w(t)}),2),r=n[0],i=n[1];return(0,c.useEffect)(function(){return i(function(){return w(t)})},[t]),(0,l.Y)(l.FK,{children:r})}},6566:(e,t,n)=>{"use strict";n.d(t,{BD:()=>o,vl:()=>l,EI:()=>b,hb:()=>i.hb,cS:()=>i.cS});var r=n(4888),i=n(35846),o=function(e){return a(e)},a=function(e,t){return("function"!=typeof t&&(t=null),e.state.facet(r.et).length)?(e.dispatch({effects:i.qe.of({selection:null,onCompleted:t})}),!0):(Promise.resolve().then(function(){return null==t?void 0:t()}),!1)},l=function(e){var t;return!e.state.selection.main.empty&&!!(null==(t=e.state.facet(r.lu))?void 0:t.rangeSupport())&&(e.dispatch({effects:i.qe.of({selection:e.state.selection,onCompleted:null})}),!0)},c=n(29935),u=n(37743),s=n(53847),d=n(82643),f=n(90629),h=n(44725),m=n(49069),v=n(45773),p=n(60490),g=n(89943),y=n(64706),w=n(69071),x=function(){function e(t){(0,u._)(this,e),this.view=t}var t=e.prototype;return t.update=function(e){return(0,c._)(function(){var t,n,o,a,l,c,u,s,v,g,x,b;return(0,d.YH)(this,function(d){switch(d.label){case 0:if(t=this,!e.transactions.some(function(e){return e.effects.some(function(e){return e.is(i.qe)})})||!(n=this.view.state.field(i.sv)))return[2];if(o=(0,y.xW)(e.transactions.flatMap(function(e){return e.effects.flatMap(function(e){return e.is(i.qe)?e.value.onCompleted:null}).filter(Boolean)})),!(a=this.view.state.facet(r.lu)))throw Error("Expected a formatting provider");return l=Date.now(),c=n.original,u=n.requestId,s=n.selection,v=this.view.state.facet(p.Md),[4,Promise.race([a.format(c,s,{tabSize:e.state.facet(m.$t.tabSize),insertSpaces:"	"!==e.state.facet(h.Xt)}).then(function(e){return t.onResponse(u,e)}).catch(function(e){throw f.v4(function(t){t.setExtra("logName",a.id),t.setExtra("doc",c.toString()),f.Cp(e)}),e}),new Promise(function(e){g=setTimeout(function(){return e({status:"cancelled"})},1e4)})])];case 1:switch(x=d.sent(),clearTimeout(g),this.view.dispatch({changes:"success"===x.status?x.changes:void 0,effects:i.tq.of({requestId:u,onCompleted:o})}),b=Date.now()-l,x.status){case"error":a.onError();break;case"success":a.onSuccess()}return w.vF.time("formatter_ran",b,{extension:v,response_status:x.status,type:a.id,variant:"extension",err:"error"===x.status?x.message:void 0}),[2]}})}).call(this)},t.onResponse=function(e,t){var n=this.view.state.field(i.sv);return n&&e===n.requestId?"error"in t?{status:"error",message:t.message}:{changes:((0,s._)(t.result,m.VR)?t.result:(0,g.s)(n.original.toString(),t.result)).map(n.missed),status:"success"}:{status:"ignore"}},e}(),b=new(n(74309)).k(function(){return v.Z9.define(function(e){return new x(e)},{provide:function(){return[i.sv,v.Lz.updateListener.of(function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e.transactions[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value,c=!0,u=!1,s=void 0;try{for(var d,f=l.effects[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h,m,v=d.value;v.is(i.tq)&&(null==(h=(m=v.value).onCompleted)||h.call(m))}}catch(e){u=!0,s=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw s}}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}})]}})})},6857:(e,t,n)=>{"use strict";n.d(t,{n:()=>T});var r=n(12694),i=n(34837),o=n(21462),a=n(85230),l=n(29935),c=n(82643),u=n(404),s=n(73455),d=n(83096),f=n(47306),h=n(17844),m=n(93629),v=n(63338),p=n(14148),g=n(61988),y=n(89203),w=n(52116),x=n(25227),b=n(54294),S=n.n(b),_=function(e){var t=e.color,n=e.onChange,r=e.showAlpha,l=(0,o.useCallback)(function(e){try{n((0,a.Ay)(e.toString()).hex())}catch(e){}},[n]);return(0,i.Y)(x.S,{className:S().colorPickerContainer,children:(0,i.FD)(v.sk,{value:t,onChange:l,children:[(0,i.Y)(p.h,{className:S().colorArea,colorSpace:"hsb",xChannel:"saturation",yChannel:"brightness",children:(0,i.Y)(g.a,{className:S().colorThumb})}),(0,i.FD)(x.S,{className:S().sliders,children:[(0,i.Y)(y.t,{className:S().colorSlider,colorSpace:"hsb",channel:"hue",children:(0,i.Y)(w.hB,{className:S().sliderTrack,children:(0,i.Y)(g.a,{className:S().sliderThumb})})}),void 0===r||r?(0,i.Y)(y.t,{className:S().colorSlider,colorSpace:"hsb",channel:"alpha",children:(0,i.Y)(w.hB,{className:S().sliderTrack,style:function(e){var t=e.defaultStyle;return{background:"".concat(t.background,",\n                    repeating-conic-gradient(#CCC 0% 25%, white 0% 50%) 50% / 10px 10px")}},children:(0,i.Y)(g.a,{className:S().sliderThumb})})}):null]})]})})},C=n(30230),A=n(28611),k=n(16886),E=n.n(k),Y=function(e){var t=e.color,n=e.onChange,r=e.isOpen,o=e.onOpenChange,l=e.placement,c=e.swatchSize,u=void 0===c?24:c,s=e.showAlpha,d=function(e){try{return(0,a.Ay)(e).hex()}catch(e){return}};return(0,i.FD)(A.Wv,{isOpen:r,onOpenChange:o,label:"Color Picker",placement:void 0===l?"bottom start":l,background:"higher",children:[function(e){return(0,i.Y)(x.D.button,(0,m._)((0,h._)({},e),{className:E().colorPicker,children:(0,i.Y)(C.q,{color:d(t),size:u})}))},(0,i.Y)(x.S,{className:E().colorPickerContainer,children:(0,i.Y)(_,{color:t,onChange:n,showAlpha:void 0===s||s})})]})},D=n(25590);function L(e){return(0,i.Y)(D.Ay,(0,m._)((0,h._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M16.006 2.55c1.474-1.335 3.778-1.393 5.262.008l.137.136a3.847 3.847 0 0 1 .784 4.102c-.193.476-.48.908-.843 1.271l.001.001-2.283 2.291.01.01a2.522 2.522 0 0 1 .74 1.781l-.014.247a2.52 2.52 0 0 1-.558 1.35l-.166.183-.994.994a1.635 1.635 0 0 1-2.31 0l-.323-.323-5.727 5.727h.001a4.285 4.285 0 0 1-4.013 1.147l-1.967.86a1.633 1.633 0 0 1-1.81-.34 1.387 1.387 0 0 1-.289-1.535l.904-2.074a4.287 4.287 0 0 1 1.119-4.112l5.728-5.728-.323-.325a1.636 1.636 0 0 1-.47-.994l-.009-.161c0-.433.173-.848.479-1.154l.994-.994.183-.166a2.52 2.52 0 0 1 2.56-.38c.305.126.582.311.816.545l.008.007 2.233-2.239.14-.135ZM4.727 15.335a2.785 2.785 0 0 0-.67 2.86.752.752 0 0 1 .02.41l-.043.13-.976 2.233.005.002a.135.135 0 0 0 .078-.008l.001-.002 2.21-.964.125-.042a.751.751 0 0 1 .395.012 2.786 2.786 0 0 0 2.789-.696l5.727-5.73-3.932-3.934-5.729 5.73ZM20.237 3.65c-.912-.861-2.39-.824-3.31.096l-2.76 2.771a.751.751 0 0 1-1.06.001l-.541-.539a1.024 1.024 0 0 0-1.11-.22 1.02 1.02 0 0 0-.255.153l-.074.067-.995.994a.135.135 0 0 0-.039.094l.01.05a.137.137 0 0 0 .03.045l.832.833.023.02.02.023 4.915 4.918a.737.737 0 0 1 .113.112l.797.797a.133.133 0 0 0 .188 0l.993-.994.068-.074a1.014 1.014 0 0 0 .226-.546l.005-.1a1.024 1.024 0 0 0-.298-.719l-.54-.54a.751.751 0 0 1 0-1.06l2.81-2.822.158-.174a2.343 2.343 0 0 0-.043-3.017l-.162-.169Z",clipRule:"evenodd"})}))}function T(e){var t,n,h,m,v=e.label,p=e.color,g=e.setColor,y=e.showAlpha,w=(0,r._)((0,o.useState)(null!=p?p:u.xj),2),b=w[0],S=w[1],_=(0,r._)((0,o.useState)(!1),2),C=_[0],A=_[1],k=function(e){S(e),g(e)},E=(n=(t=(0,r._)((0,o.useState)(!1),2))[0],h=t[1],(0,o.useEffect)(function(){h("EyeDropper"in window)},[]),m=(0,o.useCallback)(function(){return(0,l._)(function(){var e;return(0,c.YH)(this,function(t){switch(t.label){case 0:if(!n)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,new window.EyeDropper().open()];case 2:return(null==(e=t.sent())?void 0:e.sRGBHex)&&k(e.sRGBHex),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})})()},[n,k]),{isSupported:n,openEyeDropper:m}),D=E.isSupported,T=E.openEyeDropper;return(0,o.useEffect)(function(){p&&a.Ay.valid(p)&&((0,u.Md)(p)||p.includes("#")?S(p):S((0,a.Ay)(p).hex()))},[p]),(0,i.FD)(i.FK,{children:[(0,i.Y)(f.J,{color:"dimmer",children:v}),(0,i.Y)(x.S,{row:!0,gap:8,children:(0,i.Y)(d.cQ,{iconLeft:(0,i.Y)(Y,{swatchSize:16,color:null!=p?p:u.xj,onChange:k,isOpen:C,onOpenChange:A,showAlpha:void 0===y||y}),iconRight:D?(0,i.Y)(s.K0,{onClick:T,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),T())},alt:"Pick color from screen",children:(0,i.Y)(L,{})}):null,type:"text",value:(0,u.Md)(b)?u.vh:(0,u.Eu)(b),onChange:function(e){S(e.target.value)},onBlur:function(e){var t=e.target.value;S(t),(a.Ay.valid(t)||(0,u.Md)(t))&&g(t)}})})]})}},6862:(e,t,n)=>{"use strict";n.d(t,{zn:()=>x,Rh:()=>g,n5:()=>y,o8:()=>b});var r=n(37743),i=n(34837),o=n(49069),a=n(45773),l=n(13349),c=n(74309),u=n(42793),s=n(39534),d=n(70764),f=(0,u.i7)({"0%":{opacity:0},"100%":{opacity:1}}),h=(0,u.i7)({"0%":{transform:"translateX(-50%) scaleX(0.5)"},"90%":{transform:"translateX(100%) scaleX(0.5)"},"100%":{transform:"translateX(100%) scaleX(0.5)"}}),m=(0,d.x)({container:{position:"absolute",top:0,left:0,height:2,width:"100%",overflow:"hidden",zIndex:5,opacity:0,animation:"".concat(f," 200ms 100ms linear forwards")},segment:{height:"100%",width:"100%",backgroundColor:s.LU.accentPrimaryDefault,transformOrigin:"left",animation:"".concat(h," 2s infinite cubic-bezier(0.6, 0, 0.4, 1) forwards")}});function v(){return(0,i.Y)("div",{css:m.container,children:(0,i.Y)("div",{css:m.segment})})}var p=[],g=o.sj.define({combine:function(e){return e.some(function(e){return!!e})},enables:function(e){return l.X.compute([e],function(t){return t.facet(e)?{key:"loading",node:(0,i.Y)(v,{})}:null})}}),y=new c.k(function(e){return e?g.of(e):null}),w=function(){function e(t){(0,r._)(this,e),this.view=t,this.bindings=new Set,this.pending=!1,this.destroyed=!1}var t=e.prototype;return t.queueRefresh=function(){var t=this;this.destroyed||this.pending||(this.pending=!0,Promise.resolve().then(function(){if(!t.destroyed){t.pending=!1;var n=e.compartment.get(t.view.state)!==p,r=t.bindings.size>0;if(n!==r){var i=r?g.of(!0):p;t.view.dispatch({effects:e.compartment.reconfigure(i)})}}}))},t.bind=function(){var e=this,t=function(){e.bindings.has(t)&&(e.bindings.delete(t),e.queueRefresh())};return this.bindings.add(t),this.queueRefresh(),t},t.destroy=function(){this.destroyed=!0},e}();w.compartment=new o.xx;var x=a.Z9.fromClass(w,{provide:function(){return w.compartment.of(p)}});function b(e,t){var n=e.plugin(x);if(!n)throw Error("Loading plugin not found");var r=n.bind();return t&&t.finally(r),r}},8761:(e,t,n)=>{"use strict";n.d(t,{Hf:()=>eR,vO:()=>eU,Ay:()=>eI,oB:()=>eF,Mq:()=>eT,pm:()=>eM,Im:()=>eP});var r=n(53847),i=n(17844),o=n(17459),a=n(12694),l=n(86105),c=n(34837),u=n(40185),s=n(21462),d=n(90629),f=n(49069),h=n(45773),m=n(53870),v=n(9849),p=n(27250),g=n(33052),y=n(21605),w=n(6862),x=n(99335),b=n(9066),S=n(37743),_=n(64706),C=n(74286),A=n(68843),k=n(91785),E=n(55247),Y=n(78925),D=n(48114),L=n(93629),T=n(25590),U=n(96617),R=n(52313),F=function(){function e(t){(0,S._)(this,e),this.component=t,this.icon=null}return e.prototype.render=function(){if(this.icon)return this.icon.cloneNode(!0);var e="";if(this.component){var t,n,r,i=null==(r=this.component({}).props)||null==(n=r.children)||null==(t=n.props)?void 0:t.d;"string"==typeof i&&(e=i)}var o=document.createElement("span");o.className="cm-autocomplete-replit-icon",o.setAttribute("aria-hidden","true");var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("preserveAspectRatio","xMidYMin"),a.setAttribute("width","12"),a.setAttribute("height","12"),a.setAttribute("fill","currentColor"),a.setAttribute("viewBox","0 0 24 24");var l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("fillRule","evenodd"),l.setAttribute("clipRule","evenodd"),l.setAttribute("d",e),a.appendChild(l),o.appendChild(a),this.icon=o,this.icon.cloneNode(!0)},e}(),M=(0,_.CP)({keyword:new F(D.A),constant:new F(k.A),class:new F(A.A),interface:new F(C.A),function:new F(Y.A),method:new F(Y.A),variable:new F(R.A),file:new F(E.A),field:new F(E.A),property:new F(U.A),type:new F(function(e){return(0,c.Y)(T.Ay,(0,L._)((0,i._)({},e),{children:(0,c.Y)("path",{fillRule:"evenodd",d:"M13.826 2.306a.75.75 0 0 1 .41.978c-.375.915-.85 2.12-1.359 3.466h2.665a.75.75 0 1 1 0 1.5h-3.223c-1.38 3.773-2.78 8.066-3.032 10.333a4.133 4.133 0 0 0-.02.922c.013.107.031.178.047.223a.815.815 0 0 0 .082-.024c.25-.087.6-.307 1-.641.387-.323.771-.708 1.085-1.061a.75.75 0 0 1 1.121.996c-.352.397-.79.837-1.246 1.217-.443.37-.96.73-1.469.906-.258.09-.569.151-.891.096a1.336 1.336 0 0 1-.873-.55c-.202-.282-.302-.626-.345-.982a5.582 5.582 0 0 1 .018-1.268c.263-2.36 1.611-6.532 2.927-10.167H8.542a.75.75 0 1 1 0-1.5h2.733a145.522 145.522 0 0 1 1.573-4.034.75.75 0 0 1 .978-.41Z",clipRule:"evenodd"})}))}),namespace:new F(function(e){return(0,c.Y)(T.Ay,(0,L._)((0,i._)({},e),{children:(0,c.Y)("path",{fillRule:"evenodd",d:"M2.25 7A4.75 4.75 0 0 1 7 2.25h10A4.75 4.75 0 0 1 21.75 7v10A4.75 4.75 0 0 1 17 21.75H7A4.75 4.75 0 0 1 2.25 17V7ZM7 3.75A3.25 3.25 0 0 0 3.75 7v10A3.25 3.25 0 0 0 7 20.25h10A3.25 3.25 0 0 0 20.25 17V7A3.25 3.25 0 0 0 17 3.75H7Z",clipRule:"evenodd"})}))})}),P=new F(null),I={render:function(e){var t;return(e.type&&null!=(t=M.get(e.type))?t:P).render()},position:20},N=n(74309),H=new N.k(function(e){if(e)return(0,b.yU)({defaultKeymap:!1,icons:!1,addToOptions:[I]})}),B=n(70411),O=n(63293),z=n(63806),q=new N.k(function(e,t,n,r){if(!n){var i=null!=t?t:e,o=i?z.Jh.from(i):null;if(null==o?void 0:o.getFeature("emmet"))return f.Nb.highest((0,O.f8)({preview:r?{html:function(){return r},css:function(){return r}}:void 0}))}}),Z=n(68488),j=n(60490),V=new N.k(function(e,t){var n=null!=t?t:e;if(!n)return[j.Md.of(void 0),j.cL.of(void 0),j.ql.of(void 0)];var r=z.Jh.from(n),i=null==r?void 0:r.codeMirrorLanguage;return i?i.support?[j.Md.of(e||void 0),j.cL.of(null==r?void 0:r.name),j.ql.of(i.support),i.support]:[j.Md.of(e||void 0),j.cL.of(null==r?void 0:r.name),new Z.op(i.load().then(function(e){return[j.ql.of(e),e]}),{initialValue:j.ql.of(void 0)})]:[j.Md.of(e||void 0),j.cL.of(null==r?void 0:r.name),j.ql.of(void 0)]}),K=n(44725),G=n(39534),W='url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="14"><path d="M2 2L12 12L22 2" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>\')',$=[h.Lz.theme({".cm-gutter-fold-marker":{display:"inline-block",verticalAlign:"middle",width:"1.25ch",height:"1.25ch",marginLeft:"0.5ch",userSelect:"none",backgroundColor:"currentColor",maskImage:W,maskSize:"contain",maskPosition:"center",maskRepeat:"no-repeat","-webkit-mask-image":W,"-webkit-mask-size":"contain","-webkit-mask-position":"center","-webkit-mask-repeat":"no-repeat","&.is-folded":{opacity:1,transform:"rotate(-90deg)"}},".cm-foldGutter .cm-gutterElement":{cursor:"pointer"},"@media (pointer: fine) and (prefers-reduced-motion: no-preference)":{".cm-gutter-fold-marker":{opacity:0,transitionProperty:"opacity",transitionDuration:G.LU.transitionDurationSnappy,transitionTimingFunction:G.LU.transitionTimingFunctionSnappy}},".cm-gutters:hover .cm-gutter-fold-marker":{opacity:1},".cm-gutter-fold-placeholder":{cursor:"pointer",display:"inline-block",backgroundColor:G.LU.interactiveBorder,color:G.LU.foregroundDimmer,borderRadius:"4px",padding:"0 4px",margin:"0 2px",fontSize:G.LU.fontSizeSmall,transitionProperty:"background-color, color",transitionDuration:G.LU.transitionDurationSnappy,transitionTimingFunction:G.LU.transitionTimingFunctionSnappy,userSelect:"none","&:hover":{backgroundColor:G.LU.interactiveBorderHover,color:G.LU.foregroundDefault}}}),(0,K.PH)({preparePlaceholder:function(e,t){var n=t.from,r=t.to,i=e.doc.lineAt(n),o=e.doc.lineAt(r);if(i.number===o.number)if(n===i.from&&r===o.to)return"1 hidden line";else return r-n>1?"".concat(r-n," hidden characters"):"1 hidden character";var a=o.number-i.number-1;return(n===i.from||e.doc.sliceString(n,i.to).trim()&&i.to-n>=i.length/2)&&a++,(r===o.to||e.doc.sliceString(o.from,r).trim()&&r-o.from>=o.length/2)&&a++,a>1?"".concat(a," hidden lines"):"1 hidden line"},placeholderDOM:function(e,t,n){var r=document.createElement("div");return r.className="cm-gutter-fold-placeholder",r.textContent=n,r.setAttribute("title","Reveal block"),r.addEventListener("click",t),r}}),(0,K.Lv)({markerDOM:function(e){var t=document.createElement("div");return e?(t.className="cm-gutter-fold-marker",t.setAttribute("title","Fold block")):(t.className="cm-gutter-fold-marker is-folded",t.setAttribute("title","Unfold block")),t}})],Q=n(28410),J=new N.k(function(e){return e?null:[Q.dP,$,(0,h.Wu)()]}),X=n(60948),ee=n(15057),et=n(69379),en=f.EY.of(["",""]);function er(e,t){return Math.floor(e/t)*t}var ei=f.$t.transactionFilter.of(function(e){if(!e.isUserEvent("input.paste")||!e.docChanged)return e;var t,n,r=e.startState,i=e.startState.selection.main;if(r.selection.ranges.length>1)return e;var o=r.doc.lineAt(i.from),a=o.text.length-o.text.trimStart().length,l=i.from>=o.from&&i.from<=o.from+a,c=(t=e.changes,n=f.EY.empty,t.iterChanges(function(e,t,r,i,o){n=n===f.EY.empty?o:n.append(en.append(o))}),n);if(0===c.length||1===c.lines&&!l)return e;var u=null,s=(0,K._v)(r,i.head);if(l&&o.length===a){var d=(0,et.t)(o.text,r.tabSize);(null===s||d>=s)&&(u=d)}if(null===u&&null!==s&&(u=s),null===u)return e;var h=i.from,m=i.to;l&&(h=o.from,m=Math.max(m,o.from+a));var v=function(e,t,n){for(var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=function(e,t){var n=e.tabSize;if(1===t.lines||2===t.lines&&0===t.line(2).text.trim().length)return er((0,et.t)(t.line(1).text,n),n);var r=(0,et.t)(t.line(1).text,n),i=(0,et.t)(t.line(2).text,n);if(i%n==0&&i>=2*n&&i>=r&&i-r<=n)return er(r,n);var o=null,a=!0,l=!1,c=!0,u=!1,s=void 0;try{for(var d,h=t.iterLines(2)[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var m=d.value;if(0!==m.length&&0!==m.trimStart().length){l=!1;var v=(0,et.t)(m,n);null===o||v<o?(o=v,a=!0,l=!0):v===o&&(a=!1)}}}catch(e){u=!0,s=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw s}}if(null!==o&&t.lines>2&&a&&l)return er(o,n);if(i>r){var p=e.facet(K.BH);if(null!==p){var g=t.line(1).text.trimStart(),y=new K.KB(f.$t.create({doc:g,extensions:[p,K.Xt.of(e.facet(K.Xt)),f.$t.tabSize.of(n)]}),{simulateBreak:g.length});if((0,K.nd)(y.state,g.length)){var w=(0,K._v)(y,g.length);if(null!==w&&w>0)return er(Math.max(0,i-n),n)}}}return null!==o?er(o,n):er(i,n)}(e,t),o=[],a=1;a<=t.lines;a++){var l=t.line(a).text;if(1===a&&!r){o.push(l);continue}var c=l.trimStart();if(0===l.length||0===c.length){o.push("");continue}var u=Math.max(0,(0,et.t)(l,e.tabSize)-i),s=(0,K.EI)(e,n+u)+c;o.push(s)}return f.EY.of(o)}(r,c,u,l),p=e.changes.invert(r.doc).compose(r.changes({from:h,to:m,insert:v}));return[e,{changes:p,selection:f.OF.cursor(h+v.length),sequential:!0}]}),eo=n(83831),ea=n(88231),el=new N.k(function(e,t,n,r,i){var o=[(0,K.WD)(),eo.f$.of({type:t?ea.c.SPACES:ea.c.TABS,size:e,detect:r})];return n||o.push((0,ee.h)({highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1,colors:{light:G.LU.backgroundHigher,activeLight:G.LU.backgroundHighest,dark:G.LU.backgroundHigher,activeDark:G.LU.backgroundHighest}})),i&&o.push(ei),o}),ec=n(29935),eu=n(82643),es=n(20907),ed=h.w4.of([{key:"Escape",run:function(e){var t=e.state.selection;return!(t.ranges.length<=1)&&(e.dispatch({selection:t.asSingle()}),!1)}},{key:"Mod-Enter",run:function(e){return setTimeout(function(){e.focus()}),!1}}]),ef=new Z.op(function(){return(0,ec._)(function(){var e;return(0,eu.YH)(this,function(t){switch(t.label){case 0:return[4,(0,es.jc)(function(){return n.e(3698).then(n.bind(n,77446))})];case 1:return e=t.sent(),[2,f.Nb.highest(e.vim())]}})})()}),eh=new Z.op(function(){return(0,ec._)(function(){var e;return(0,eu.YH)(this,function(t){switch(t.label){case 0:return[4,(0,es.jc)(function(){return n.e(1305).then(n.bind(n,91305))})];case 1:return e=t.sent().emacs,[2,f.Nb.highest(e())]}})})()}),em=new N.k(function(e,t,n){if(e)return null;var r=[ed,(0,g.lV)(n)];return"vim"===t?r.push(ef):"emacs"===t&&r.push(eh),r}),ev=n(51488),ep=n(65568),eg=n(57821),ey=n(73009),ew=n(85692),ex=n(5336),eb=n(26737),eS=n(86103),e_=n(30375),eC=n(39938),eA=n(77135),ek=n(47737),eE=n(81269),eY=n(73712),eD=n(79685),eL=n(95570);function eT(e){return!!(0,r._)(e,Error)&&!!(e.message.startsWith("Mismatched change set length")||e.message.includes("null")&&(e.message.includes("parentNode")||e.message.includes("nodeValue"))||e.message.startsWith("Failed to execute 'collapse' on 'Selection'"))&&(d.Cp(Error("Remounted for: ".concat(e.message))),!0)}function eU(){}var eR=new N.k(function(e){return null!=e?e:[]});function eF(e){eL.error("codemirror error, see below"),eL.error(e),(0,eE.Q)(e,{tags:{origin:"CodeMirror: defaultOnException",codemirror:!0}})}function eM(e){var t=e.filePath,n=e.language,r=e.hideGutter,i=e.fontSize,o=e.indentSize,a=e.indentIsSpaces,c=e.indentDetection,d=e.indentFormatPastes,h=e.hideIndentMarker,p=e.noHistory,b=e.readOnly,S=e.lineWrapping,_=e.autocomplete,C=e.extensions,A=e.customThemeValues,k=e.initializing,E=e.loading,Y=e.keyboardHandler,D=e.hideTooltips,L=(0,eb.g)("enableCloseBracketMatching","fontSize","codeIntelligence","indentSize","indentIsSpaces","indentDetection","indentFormatPastes","keyboardHandler","wrapping").preferences,T=(0,u.useRouter)(),U=(0,e_.a)(),R=(0,ek.Po)(T),F=(0,ek.m5)();U&&(Y=null);var M=(0,eS._P)({controlName:"flag-editor-root-level-tooltips",logFlagToAnalytics:!1}),P=eP(C),I=(0,eY.D)(),N=I.values,O=I.isDarkColorScheme,z=I.colorScheme,Z=(0,s.useMemo)(function(){return A?(0,eD.A)(A,z):N},[A,N,z]),j=ev.i.use(Z,O,null!=i?i:L.fontSize),K=[B.h.use(b,R,M,L.enableCloseBracketMatching),eR.use(P),q.use(t,n,R||!L.codeIntelligence,j),V.use(t,n),J.use(r),X.p.use(b,p),el.use(null!=o?o:L.indentSize,null!=a?a:L.indentIsSpaces,null!=h&&h,null!=c?c:L.indentDetection,null!=d?d:L.indentFormatPastes),em.use(b,void 0!==Y?Y:L.keyboardHandler,t),j,ep.R.use(null!=S?S:L.wrapping),H.use(!b&&(null!=_?_:L.codeIntelligence&&!R)),y.A.use(k),w.n5.use(E),x.D.use(F),ey.Gw.use(null!=D&&D)],G=(0,g.CO)();return[f.Nb.highest(ex.LI),ew.Pb,w.zn,v.T,m.i,eg.D].concat((0,l._)(K),[G])}function eP(e){var t;return t=(t=null==e?[]:Array.isArray(e)?e:[e]).filter(function(e){return!Array.isArray(e)||e.length>0}),(0,s.useMemo)(function(){return t},t)}let eI=(0,s.forwardRef)(function(e,t){var n=e.elementRef,u=e.initialDoc,f=e.filePath,m=e.language,v=e.hideGutter,g=e.fontSize,y=e.indentSize,w=e.indentIsSpaces,x=e.indentDetection,b=e.indentFormatPastes,S=e.hideIndentMarker,_=e.noHistory,C=e.readOnly,A=e.lineWrapping,k=e.autocomplete,E=e.extensions,Y=e.customThemeValues,D=e.initializing,L=e.loading,T=e.keyboardHandler,U=e.hideTooltips,R=e.onException,F=(0,o._)(e,["elementRef","initialDoc","filePath","language","hideGutter","fontSize","indentSize","indentIsSpaces","indentDetection","indentFormatPastes","hideIndentMarker","noHistory","readOnly","lineWrapping","autocomplete","extensions","customThemeValues","initializing","loading","keyboardHandler","hideTooltips","onException"]),M=(0,a._)((0,s.useState)(null),2),P=M[0],I=M[1],N=(0,a._)((0,s.useState)(null),2),H=N[0],B=N[1],O=(0,s.useRef)(u),z=(0,a._)((0,s.useState)(0),2),q=z[0],Z=z[1],j=(0,s.useRef)(q),V=(0,s.useCallback)(function(){Z(function(e){if(e-j.current>=5)throw Error("CodeMirror error refresh loop detected");return e+1})},[]);(0,s.useEffect)(function(){var e=setTimeout(function(){j.current=q},1e3);return function(){return clearTimeout(e)}},[q]),(0,s.useImperativeHandle)(t,function(){return{view:P,dom:H}},[P,H]);var K=(0,eC.A)(null!=R?R:eF),G=eM({filePath:f,language:m,hideGutter:v,fontSize:g,indentSize:y,indentIsSpaces:w,indentDetection:x,indentFormatPastes:b,hideIndentMarker:S,noHistory:_,readOnly:C,lineWrapping:A,autocomplete:k,extensions:E,customThemeValues:Y,initializing:D,loading:L,keyboardHandler:T,hideTooltips:U});(0,s.useEffect)(function(){var e,t=function(e){if(K.current(e),eT(e)){var t=(0,r._)(e,Error)?e.message:void 0;d.ZQ({category:"codemirror",message:"Codemirror refresh called",data:{error:t},level:"error"}),V()}};if(H){var n=null;try{n=new h.Lz({doc:null!=(e=O.current)?e:void 0,parent:H,extensions:[h.Lz.exceptionSink.of(t)].concat((0,l._)(G))})}catch(e){t(e)}return n&&I(n),function(){if(n){I(null);try{n.destroy()}catch(e){t(e)}}}}},[H,q]),(0,p.O)(P);var W=(0,eA.S)([B,n],{breadcrumb:"client/codemirror/react/CodeMirror.tsx:653"});return(0,c.FD)(c.FK,{children:[(0,c.Y)("div",(0,i._)({ref:W},F)),(0,c.Y)(ex.OE,{view:P})]})})},9849:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(49069),i=n(87777),o=r.sU.define({create:function(){return!1},update:function(e,t){return e||!t.annotation(r.ZX.remote)&&(!!(t.annotation(i.A)||t.isUserEvent("input")||t.isUserEvent("delete"))||e)}})},10788:(e,t,n)=>{"use strict";function r(e){var t=e.length;if(0===t)return!1;var n=0,r=Math.min(t,512);if(t>=3&&239===e[0]&&187===e[1]&&191===e[2]||t>=4&&0===e[0]&&0===e[1]&&254===e[2]&&255===e[3]||t>=4&&255===e[0]&&254===e[1]&&0===e[2]&&0===e[3]||t>=4&&132===e[0]&&49===e[1]&&149===e[2]&&51===e[3])return!1;if(r>=5&&"%PDF-"===e.slice(0,5).toString())return!0;if(t>=2&&254===e[0]&&255===e[1]||t>=2&&255===e[0]&&254===e[1])return!1;for(var i=0;i<r;i++)if(0===e[i])return!0;else if((e[i]<7||e[i]>14)&&(e[i]<32||e[i]>127)){if(e[i]>193&&e[i]<224&&i+1<r){if(e[++i]>127&&e[i]<192)continue}else if(e[i]>223&&e[i]<240&&i+2<r&&e[++i]>127&&e[i]<192&&e[i+1]>127&&e[i+1]<192){i++;continue}if(n++,i>=32&&100*n/r>10)return!0}return 100*n/r>10}n.d(t,{A:()=>r})},12213:(e,t,n)=>{"use strict";n.d(t,{Rw:()=>D,NO:()=>Y,IT:()=>w,lz:()=>A,dc:()=>k,VL:()=>x,V2:()=>P,iO:()=>N,ed:()=>b,o2:()=>L,rE:()=>T,v_:()=>U,QY:()=>R,Ch:()=>S,uA:()=>E,If:()=>M});var r=n(17844),i=n(93629),o=n(12694),a=n(85230),l=n(76957),c=n(69737),u=n(16182),s=n.n(u),d=n(41426),f=n(68689),h=n(33369),m=n(404),v=function(e){if(!e)return 0;var t=parseFloat(e.replace("px",""));return isNaN(t)?0:t},p=function(e){if(!e)return{x:0,y:0};var t=e.split(" ");switch(t.length){case 1:return{x:v(t[0]),y:v(t[0])};case 2:return{x:v(t[1]),y:v(t[0])};case 3:return{x:v(t[1]),y:(v(t[0])+v(t[2]))/2};case 4:return{x:(v(t[1])+v(t[3]))/2,y:(v(t[0])+v(t[2]))/2};default:return{x:0,y:0}}},g=function(e){switch(e){case"left":case"start":default:return"left";case"right":case"end":return"right";case"center":return"center";case"justify":return"justify"}},y=function(e){var t,n,r,i,o,a,l,c=p(null==e||null==(t=e.computedStyles)?void 0:t.margin),u=p(null==e||null==(n=e.computedStyles)?void 0:n.padding);return{textContent:null==e?void 0:e.textContent,fontSize:v(null==e||null==(r=e.computedStyles)?void 0:r.fontSize),fontWeight:null==e||null==(i=e.computedStyles)?void 0:i.fontWeight,textAlign:g(null==e||null==(o=e.computedStyles)?void 0:o.textAlign),color:(0,m.nj)(null==e||null==(a=e.computedStyles)?void 0:a.color),backgroundColor:(0,m.nj)(null==e||null==(l=e.computedStyles)?void 0:l.backgroundColor),marginX:c.x,marginY:c.y,paddingX:u.x,paddingY:u.y,imageSrc:(null==e?void 0:e.srcAttribute)||""}},w=(0,l.eU)({}),x=(0,l.eU)(null,function(e,t,n){t(w,y(n)),t(S,c.Ut)}),b=(0,l.eU)(function(e){var t=e(w),n=e(f.e0);return!!n&&!s()(t,y(n))}),S=(0,c.tx)({}),_=(0,l.eU)(null,function(e,t,n){t(S,(0,r._)({},e(S),n));var i=e(C);(0,h.dT)({style:i})}),C=(0,l.eU)(function(e){return Object.entries(e(S)).map(function(e){var t=(0,o._)(e,2),n=t[0],r=t[1];return"".concat(n,": ").concat(r)}).join("; ")}),A=(0,l.eU)(function(e){return e(w).fontSize},function(e,t,n){t(_,{"font-size":"".concat(n,"px")}),t(w,(0,i._)((0,r._)({},e(w)),{fontSize:n}))}),k=(0,l.eU)(function(e){return e(w).fontWeight},function(e,t,n){t(_,{"font-weight":n}),t(w,(0,i._)((0,r._)({},e(w)),{fontWeight:n}))}),E=(0,l.eU)(function(e){return e(w).textAlign},function(e,t,n){t(_,{"text-align":n}),t(w,(0,i._)((0,r._)({},e(w)),{textAlign:n}))}),Y=(0,l.eU)(function(e){return e(w).color},function(e,t,n){(a.Ay.valid(n)||(0,m.Md)(n))&&t(_,{color:n}),t(w,(0,i._)((0,r._)({},e(w)),{color:n}))}),D=(0,l.eU)(function(e){return e(w).backgroundColor},function(e,t,n){(a.Ay.valid(n)||(0,m.Md)(n))&&t(_,{"background-color":n}),t(w,(0,i._)((0,r._)({},e(w)),{backgroundColor:n}))}),L=(0,l.eU)(function(e){return e(w).marginX},function(e,t,n){t(_,{"margin-left":"".concat(n,"px"),"margin-right":"".concat(n,"px")}),t(w,(0,i._)((0,r._)({},e(w)),{marginX:n}))}),T=(0,l.eU)(function(e){return e(w).marginY},function(e,t,n){t(_,{"margin-top":"".concat(n,"px"),"margin-bottom":"".concat(n,"px")}),t(w,(0,i._)((0,r._)({},e(w)),{marginY:n}))}),U=(0,l.eU)(function(e){return e(w).paddingX},function(e,t,n){t(_,{"padding-left":"".concat(n,"px"),"padding-right":"".concat(n,"px")}),t(w,(0,i._)((0,r._)({},e(w)),{paddingX:n}))}),R=(0,l.eU)(function(e){return e(w).paddingY},function(e,t,n){t(_,{"padding-top":"".concat(n,"px"),"padding-bottom":"".concat(n,"px")}),t(w,(0,i._)((0,r._)({},e(w)),{paddingY:n}))}),F=(0,l.eU)(!1),M=(0,l.eU)(function(e){return e(w).textContent},function(e,t,n){t(_,{content:n}),t(w,(0,i._)((0,r._)({},e(w)),{textContent:n})),e(F)||(0,h.dT)({textContent:n})}),P=(0,l.eU)(null,function(e,t,n){n!==e(w).textContent&&(t(F,!0),t(M,n),t(F,!1))}),I="/@fs/home/runner/workspace/",N=(0,l.eU)(function(e){var t=e(w).imageSrc;return(null==t?void 0:t.startsWith(I))?t.replace(I,""):t},function(e,t,n){t(w,(0,i._)((0,r._)({},e(w)),{imageSrc:n}));var o=n;n.startsWith(d.Ls)&&(o="".concat(I).concat(n)),(0,h.dT)({src:o})})},13258:e=>{e.exports={editorContainer:"TargetedElementEditor_editorContainer__T_zFw",bordered:"TargetedElementEditor_bordered__xJv3C",withStatusBar:"TargetedElementEditor_withStatusBar__4KK_2",editor:"TargetedElementEditor_editor__BJYmJ",formRow:"TargetedElementEditor_formRow__XnXKf",formField:"TargetedElementEditor_formField__jyHS4",sectionTitle:"TargetedElementEditor_sectionTitle__eQHf5",placeholderContainer:"TargetedElementEditor_placeholderContainer__Ijp3W",placeholder:"TargetedElementEditor_placeholder__3VYBi"}},13349:(e,t,n)=>{"use strict";n.d(t,{X:()=>h,w:()=>d});var r=n(34837),i=n(21462),o=n(49069),a=n(45773),l=n(68488),c=n(89832),u=n(41409),s=n(48373),d="cm-mounted-react-nodes";function f(e){var t=e.specs,n=e.view,o=(0,s.A)(t);return(0,r.Y)(r.FK,{children:o.filter(Boolean).map(function(e){var t=e.key,o=e.node;return(0,r.Y)(i.Fragment,{children:"function"==typeof o?o(n):o},t)})})}var h=o.sj.define({enables:function(e){return a.Z9.define(function(t){var n=(0,u.F)(t.state.facet(e)),i=(0,c.J)((0,r.Y)(f,{specs:n,view:t}));return i.className=d,i.style.display="contents",t.dom.appendChild(i),{update:function(t){(0,l.$H)(t,e)&&n.set(t.state.facet(e))},destroy:function(){t.dom.removeChild(i)}}})}})},14603:(e,t,n)=>{"use strict";function r(e,t){var n=Math.max(t.line+1,1),r=e.line(Math.min(n,e.lines));return n>e.lines?r.to:Math.min(r.from+t.character,r.to)}function i(e,t){var n=e.lineAt(t);return{line:n.number-1,character:t-n.from}}function o(e,t){return{start:i(e,t.main.from),end:i(e,t.main.to)}}function a(e,t){return e.line<t.line||e.line===t.line&&e.character<=t.character}function l(e,t){return a(e.start,t.end)&&a(t.start,e.end)}n.d(t,{Kk:()=>l,TU:()=>r,Z3:()=>i,fj:()=>o})},14779:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(44725);function i(e){var t=e.facet(r.BH);return null==t?void 0:t.name}},16886:e=>{e.exports={colorPicker:"PopupColorPicker_colorPicker__2mjKq",colorPickerContainer:"PopupColorPicker_colorPickerContainer__JhuYh"}},17437:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(34837),i=n(21462),o=n(86846),a=n(88189),l=n(39534),c=n(70764),u=n(18712),s=n(97581),d=n(70399),f=n(85801),h=n(90843),m=(0,c.x)({errorOuter:[u.wp.display.flex,u.wp.position.relative,u.wp.align.center],errorCloseIcon:[u.wp.position.absolute,u.wp.display.flex]});function v(e){var t=e.severity,n=e.size,c=void 0===n?16:n,u=(0,i.useContext)(a.N);switch(t){case o.DiagnosticSeverity.Error:return(0,r.FD)("div",{css:m.errorOuter,children:[(0,r.Y)("div",{css:m.errorCloseIcon,style:{height:c,width:c,transform:"scale(0.75)"},children:(0,r.Y)(d.A,{color:u?l.LU.redStrongest:l.LU.redStronger,size:c})}),(0,r.Y)(s.A,{color:u?l.LU.redStrongest:l.LU.redStronger,size:c})]});case o.DiagnosticSeverity.Warning:return(0,r.Y)(h.A,{color:u?l.LU.yellowStrongest:l.LU.yellowStronger,size:c});case o.DiagnosticSeverity.Hint:case o.DiagnosticSeverity.Information:default:return(0,r.Y)(f.A,{color:l.LU.foregroundDimmer,size:c})}}},17795:(e,t,n)=>{"use strict";n.d(t,{E9:()=>eo,VS:()=>ec});var r,i=n(29935),o=n(62019),a=n(37743),l=n(48122),c=n(83846),u=n(1833),s=n(53847),d=n(12694),f=n(12584),h=n(89264),m=n(82643),v=n(34837),p=n(21462),g=n(12401),y=n(86035),w=n(86402),x=n(33747),b=n(4722),S=n(86846),_=n(44725),C=n(3443),A=n(49069),k=n(45773),E=n(68488),Y=n(60490),D=n(36215),L=n(37569),T=n(89832),U=n(14603),R=n(69071),F=n(40115),M=n(72764),P=n(63289),I=n(17437),N=n(30545),H=n(86057),B=n(39534),O=n(40756),z=n(3937),q=n(91953),Z=n(25227),j=n(53958),V=n(66561),K=n(50618),G=n(86910),W=n.n(G);function $(){var e=(0,f._)(["\n  I have the following code in "," at lines "," to ",":\n\n\n  ```","\n  ","\n  ```\n  "],["\n  I have the following code in "," at lines "," to ",":\\n\\n\n  \\`\\`\\`","\n  ","\n  \\`\\`\\`\n  "]);return $=function(){return e},e}var Q="cm-lintRange-deprecated",J="cm-lintRange-unnecessary";function X(e){var t,n=(0,H.H)(),r=(0,d._)((0,p.useState)(!1),2),o=r[0],a=r[1],l=(0,w.k)().assistantInlineMode,c=(0,w.NC)(),u=(0,w.jt)(),s=e.openPane,f=(0,N.c)({openPane:s}),h=(0,p.useCallback)(function(e){return(0,i._)(function(){return(0,m.YH)(this,function(t){switch(t.label){case 0:var n;return[4,f(e.message+"\n\n"+(n=e.codeReference,(0,g.A)($(),n.filePath,n.range.lineFrom,n.range.lineTo,n.language,n.code))+"\n\nPlease debug the issue and help me fix it.",{createNewSession:!1})];case 1:return t.sent(),[2]}})})()},[f]),x=(0,p.useCallback)(function(e){return(0,i._)(function(){var t,r,i,o,u,d;return(0,m.YH)(this,function(f){switch(f.label){case 0:return a(!0),[4,n()];case 1:return r=(t=f.sent()).fileContext,o=void 0===(i=t.mostRecentFile)?"":i,[4,c.sessions.create({sessionType:y.dF3.CHAT})];case 2:if(!(u=f.sent()).ok)return[2];return[4,(d=u.payload).appendEvent({message:e.message,kind:"inlineAction",messageType:y.Z1T.DEBUGGER,modelType:"advanced"===l?y.e3q.ADVANCED:y.e3q.BASIC,codeReference:e.codeReference,useRag:!0,fileContext:r,mostRecentFile:o})];case 3:return f.sent(),s({type:"ghostwriterChat",data:{sessionId:d.id}}),a(!1),[2]}})})()},[c.sessions,s,l,n]);return(0,v.FD)(z.ui,{background:"higher",clsx:W().root,grow:!0,shrink:!0,onMouseDown:function(e){e.stopPropagation()},children:[(0,v.FD)(Z.S,{p:4,row:!0,gap:4,align:"center",children:[(0,v.Y)(Z.S,{clsx:W().icon,children:(0,v.Y)(I.A,{severity:null!=(t=e.severity)?t:S.DiagnosticSeverity.Information})}),(0,v.Y)(Z.S,{grow:!0,shrink:!0,children:(0,v.FD)(q.EY,{clsx:W().text,color:"dimmer",multiline:!0,children:[e.message,e.source?(0,v.FD)(q.EY,{color:"dimmest",children:[" (",e.source,")"]}):null]})})]}),(0,v.FD)(Z.S,{clsx:W().buttonRow,pt:4,pr:4,pl:10,pb:8,row:!0,gap:8,align:"start",children:[(0,v.Y)(Z.S,{children:u?(0,v.Y)(en,{message:e.message,filePath:e.filePath,language:e.language,range:e.range,loading:o,sendDebugWithAgentMessage:h}):(0,v.Y)(et,{message:e.message,filePath:e.filePath,language:e.language,range:e.range,loading:o,sendDebugWithAssistantMessage:x})}),(0,v.Y)(Z.S,{children:(0,v.Y)(O.$n,{size:"small",text:"Code Actions",variant:"underlinedOnHover",disabled:o,onClick:e.onCodeActions,iconLeft:(0,v.Y)(K.A,{})})})]})]})}function ee(e){var t=e.filePath,n=e.language,r=e.range,o=(0,F.A)().fs;return(0,p.useCallback)(function(){return(0,i._)(function(){var e,i,a;return(0,m.YH)(this,function(l){switch(l.label){case 0:e=-1;try{e=o.getOTVersion(t)}catch(e){}return[4,o.readFile(t)];case 1:return a=(i=l.sent()).error?"":i.content.toString(),[2,{filePath:t,fileVersion:e,language:n,range:r,code:a.slice(r.indexFrom,r.indexTo),fileContent:a,referenceType:y.fDX.INLINE}]}})})()},[o,t,n,r])}function et(e){var t=ee({filePath:e.filePath,language:e.language,range:e.range});return(0,v.Y)(O.$n,{size:"small",text:"Debug with ".concat(x.BP),colorway:"teal",variant:"underlinedOnHover",loading:e.loading,iconLeft:(0,v.Y)(V.A,{size:12}),onClick:function(){return(0,i._)(function(){var n;return(0,m.YH)(this,function(r){switch(r.label){case 0:return[4,t()];case 1:return n=r.sent(),e.sendDebugWithAssistantMessage({message:(0,b.MM)(e.message,"lsp"),codeReference:n}),[2]}})})()}})}function en(e){var t=ee({filePath:e.filePath,language:e.language,range:e.range});return(0,v.Y)(O.$n,{size:"small",text:"Debug with ".concat(x.g$),colorway:"blurple",variant:"underlinedOnHover",loading:e.loading,iconLeft:(0,v.Y)(j.A,{size:12}),onClick:function(){return(0,i._)(function(){var n;return(0,m.YH)(this,function(r){switch(r.label){case 0:return[4,t()];case 1:return n=r.sent(),e.sendDebugWithAgentMessage({message:(0,b.MM)(e.message,"lsp"),codeReference:n}),[2]}})})()}})}var er=k.Lz.theme((r={},(0,c._)(r,".cm-lintRange.".concat(Q),{"& > span":{textDecoration:"line-through"},backgroundImage:"none",textDecoration:"line-through"}),(0,c._)(r,".cm-lintRange.".concat(J),{opacity:.5}),(0,c._)(r,".cm-lintRange.".concat(J," > .").concat(J),{opacity:"unset"}),(0,c._)(r,".cm-tooltip-lint .cm-diagnostic",{borderLeft:"none",marginLeft:"unset",padding:"0","&:not(:last-child)":{borderBottom:"1px solid ".concat(B.LU.outlineDimmer)}}),(0,c._)(r,".cm-tooltip-lint .cm-diagnosticText",{color:B.LU.foregroundDimmer}),(0,c._)(r,".cm-tooltip-lint .cm-diagnosticSource",{color:B.LU.foregroundDimmest,fontSize:B.LU.fontSizeSmall}),r)),ei=A.Pe.define();function eo(e){var t=e.lspClients,n=e.path;return[er,k.Z9.define(function(e){var r=!1,i=[],o=!0,a=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=c.value;i.push(s.onDiagnostics(function(t){r||t.path===n&&(e.dispatch({effects:ei.of(null)}),(0,C.H_)(e))}))}}catch(e){a=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return{destroy:function(){r=!0,i.forEach(function(e){return e()})}}}),(0,C.bu)(function(e){return t.filter(function(e){return e.isOpen(n)}).flatMap(function(e){return e.getDiagnostics(n)}).map(function(t){try{return new ea(t,e.state)}catch(e){(0,s._)(e,el)&&R.vF.error(e.message,e.extras)}}).filter(Boolean)},{needsRefresh:function(e){return(0,E.$H)(e,ei)},hideOn:function(e){return!!e.state.facet(D.G)&&(e.annotation(A.ZX.remote)?null:!!(e.isUserEvent("input")||e.isUserEvent("delete")||e.isUserEvent("select")||e.state.facet(M.f))||null)},tooltipFilter:function(e,t){return t.facet(M.f)?[]:Array.from(e)}})]}var ea=function(){function e(t,n){if((0,a._)(this,e),this.diagnostic=t,this._fromInit=(0,U.TU)(n.doc,t.range.start),this._toInit=(0,U.TU)(n.doc,t.range.end),!(this._fromInit<this._toInit)){if(this._fromInit===this._toInit){var r,i,o=n.wordAt(this._toInit);if(o)this._fromInit=o.from,this._toInit=o.to;else if(this._toInit<n.doc.length)this._toInit+=1;else if(this._fromInit>0)this._fromInit-=1;else throw new el("Invalid diagnostic, missing document",{from:this._fromInit,to:this._toInit,diagnostic:JSON.stringify(this.diagnostic),language:null==(i=n.facet(_.BH))?void 0:i.name});return}throw new el("Invalid diagnostic, invalid range",{from:this._fromInit,to:this._toInit,diagnostic:JSON.stringify(this.diagnostic),language:null==(r=n.facet(_.BH))?void 0:r.name})}}return e.prototype.renderMessage=function(e){var t,n,r=this;return(0,T.J)((0,v.Y)(X,{filePath:null!=(t=e.state.facet(Y.Md))?t:"unknown",language:null!=(n=e.state.facet(Y.cL))?n:"unknown",message:this.message,severity:this.diagnostic.severity,source:this.diagnostic.source,range:{lineFrom:e.state.doc.lineAt(this.from).number-1,lineTo:e.state.doc.lineAt(this.to).number,indexFrom:e.state.doc.lineAt(this.from).from,indexTo:e.state.doc.lineAt(this.to).to},openPane:function(t){e.dispatch({effects:k.vo}),(0,P.zw)(e.state,{pane:t})},onCodeActions:function(){e.dispatch({effects:k.vo}),e.focus(),(0,L.w1)(e,{force:!0,selection:A.OF.range(r.from,r.to)})}}))},(0,l._)(e,[{key:"from",get:function(){return this._fromInit}},{key:"to",get:function(){return this._toInit}},{key:"markClass",get:function(){var e=[];return this.diagnostic.tags&&(this.diagnostic.tags.includes(S.DiagnosticTag.Unnecessary)&&e.push(J),this.diagnostic.tags.includes(S.DiagnosticTag.Deprecated)&&e.push(Q)),e.length?e.join(" "):void 0}},{key:"message",get:function(){return this.diagnostic.message}},{key:"severity",get:function(){switch(this.diagnostic.severity){case S.DiagnosticSeverity.Error:return"error";case S.DiagnosticSeverity.Warning:return"warning";case S.DiagnosticSeverity.Hint:case S.DiagnosticSeverity.Information:default:return"info"}}}]),e}(),el=function(e){function t(e,n){var r;return(0,a._)(this,t),(r=(0,o._)(this,t,[e])).extras=n,r}return(0,u._)(t,e),t}((0,h._)(Error));function ec(e){var t=[];return(0,C.i5)(e,function(e){(0,s._)(e,ea)&&t.push(e.diagnostic)}),t}},21466:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(34837),i=n(40756),o=n(91953),a=n(25227),l=n(33683);function c(e){var t=e.prompt,n=e.desc,c=e.confirmText,u=e.loading,s=void 0!==u&&u,d=e.onCancel,f=e.onConfirm,h=e.danger,m=e.icon;return(0,r.FD)(a.S,{gap:24,children:[(0,r.Y)(o.Y9,{level:3,variant:"headerDefault",children:t}),(0,r.Y)(o.EY,{children:n}),(0,r.FD)(a.S,{row:!0,gap:12,justify:"end",children:[d?(0,r.Y)(i.$n,{disabled:s,onClick:d,text:"Cancel"}):null,(0,r.Y)(i.$n,{colorway:h?"negative":"primary",disabled:s,onClick:f,text:c||"Ok",iconLeft:s?(0,r.Y)(l.A,{}):m})]})]})}},21605:(e,t,n)=>{"use strict";n.d(t,{u:()=>x,A:()=>b});var r,i=n(83846),o=n(34837),a=n(49069),l=n(45773),c=n(21462),u=n(42793),s=n(39534),d=n(25227),f=n(36324),h=(0,u.i7)({"0%":{opacity:0},"100%":{opacity:.5}}),m=(0,u.AH)({position:"absolute",top:"0",left:"0",padding:"8px",height:"100%",width:"100%",overflow:"hidden",zIndex:5,opacity:"1 !important","> svg":{opacity:0,animation:"".concat(h," 200ms 150ms linear forwards"),height:"100%","@media (prefers-reduced-motion: reduce)":{animationDuration:"0ms",animationDelay:"250ms"}}});function v(){var e=(0,c.useId)();return(0,o.Y)(d.S,{css:m,children:(0,o.FD)(f.A,{speed:2,backgroundColor:s.LU.backgroundHighest,foregroundColor:s.LU.backgroundHigher,uniqueKey:e,children:[(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"0",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"0",width:"72",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"128",y:"0",width:"144",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"280",y:"0",width:"132",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"420",y:"0",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"476",y:"0",width:"144",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"20",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"20",width:"72",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"128",y:"20",width:"192",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"328",y:"20",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"384",y:"20",width:"312",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"40",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"40",width:"0",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"60",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"60",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"80",y:"60",width:"36",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"124",y:"60",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"180",y:"60",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"212",y:"60",width:"132",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"352",y:"60",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"408",y:"60",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"440",y:"60",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"532",y:"60",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"600",y:"60",width:"36",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"644",y:"60",width:"72",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"80",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"80",width:"36",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"92",y:"80",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"148",y:"80",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"180",y:"80",width:"108",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"296",y:"80",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"364",y:"80",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"396",y:"80",width:"108",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"100",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"100",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"116",y:"100",width:"132",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"256",y:"100",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"276",y:"100",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"120",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"120",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"164",y:"120",width:"96",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"268",y:"120",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"336",y:"120",width:"132",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"140",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"140",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"164",y:"140",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"256",y:"140",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"324",y:"140",width:"132",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"464",y:"140",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"532",y:"140",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"600",y:"140",width:"156",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"160",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"160",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"164",y:"160",width:"132",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"304",y:"160",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"372",y:"160",width:"144",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"180",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"180",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"200",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"200",width:"0",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"220",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"220",width:"96",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"152",y:"220",width:"264",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"424",y:"220",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"240",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"240",width:"36",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"116",y:"240",width:"72",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"196",y:"240",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"216",y:"240",width:"312",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"260",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"260",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"104",y:"260",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"136",y:"260",width:"120",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"264",y:"260",width:"72",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"344",y:"260",width:"120",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"472",y:"260",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"564",y:"260",width:"36",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"608",y:"260",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"280",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"280",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"104",y:"280",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"136",y:"280",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"168",y:"280",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"224",y:"280",width:"72",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"304",y:"280",width:"36",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"348",y:"280",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"440",y:"280",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"508",y:"280",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"564",y:"280",width:"144",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"300",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"300",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"104",y:"300",width:"216",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"328",y:"300",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"360",y:"300",width:"96",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"464",y:"300",width:"72",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"544",y:"300",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"320",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"320",width:"72",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"152",y:"320",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"340",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"96",y:"340",width:"60",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"164",y:"340",width:"72",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"244",y:"340",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"264",y:"340",width:"132",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"404",y:"340",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"424",y:"340",width:"144",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"360",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"96",y:"360",width:"96",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"200",y:"360",width:"144",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"380",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"96",y:"380",width:"108",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"212",y:"380",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"400",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"400",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"420",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"420",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"440",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"440",width:"0",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"460",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"460",width:"36",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"92",y:"460",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"148",y:"460",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"168",y:"460",width:"36",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"212",y:"460",width:"144",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"480",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"480",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"128",y:"480",width:"36",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"172",y:"480",width:"48",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"228",y:"480",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"248",y:"480",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"500",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"500",width:"132",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"212",y:"500",width:"12",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"520",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"96",y:"520",width:"132",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"540",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"96",y:"540",width:"300",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"404",y:"540",width:"204",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"560",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"560",width:"24",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"580",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"72",y:"580",width:"84",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"164",y:"580",width:"156",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"0",y:"600",width:"32",height:"15"}),(0,o.Y)("rect",{rx:"2",ry:"2",x:"48",y:"600",width:"24",height:"15"})]})})}var p=n(13349),g=n(74309),y="data-initializing",w=l.Lz.theme((0,i._)({},"&[".concat(y,"]"),(r={},(0,i._)(r,"& > :not(.".concat(p.w,")"),{opacity:0}),(0,i._)(r,"& > .".concat(p.w," > *"),{opacity:0}),r))),x=a.sj.define({combine:function(e){return e.some(function(e){return!!e})},enables:function(e){return[w,p.X.compute([e],function(t){return t.facet(e)?{key:"initializing",node:(0,o.Y)(v,{})}:null}),l.Lz.editorAttributes.of(function(t){return t.state.facet(e)?(0,i._)({},y,"true"):{}}),l.Lz.editable.computeN([e],function(t){return t.facet(e)?[!1]:[]}),a.$t.readOnly.computeN([e],function(t){return t.facet(e)?[!0]:[]})]}}),b=new g.k(function(e){return e?x.of(e):null})},22198:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(34837),i=n(40185),o=n(26575),a=n(47737),l=n(70764),c=n(18712),u=n(40756),s=n(70251),d=n(91953),f=n(25227),h=n(26796),m=(0,l.x)({button:[c.wp.flex.growAndShrink(1)]});let v=function(e){var t=e.isOpen,n=e.text,l=e.disableHomeButton,c=(0,i.useRouter)(),v=(0,a.Po)(c),p=(0,o.A)();return(0,r.Y)(s.a,{preventClose:!0,isOpen:t,centered:!0,onRequestClose:function(){},maxWidth:600,children:(0,r.FD)(f.S,{gap:16,children:[(0,r.FD)(f.S,{row:!0,gap:16,align:"center",children:[(0,r.Y)(h.A,{size:24}),(0,r.Y)(d.Y9,{css:{width:"fit-content"},level:2,variant:"headerDefault",children:"Please Refresh"})]}),(0,r.FD)(f.S,{pr:32,gap:16,children:[(0,r.Y)(d.EY,{children:n||"Your connection to this App has been temporarily interrupted.\n            Usually this is because of a network issue."}),v?(0,r.Y)(d.EY,{children:"If the issue continues please logout and re-login."}):null]}),(0,r.FD)(f.S,{row:!0,gap:16,children:[l||v||p?null:(0,r.Y)(u.$n,{css:m.button,text:"Back to Home",onClick:function(){c.push("/home","~/")}}),(0,r.Y)(u.$n,{text:"Refresh",colorway:"primary",css:m.button,onClick:function(){window.location.reload()}})]})]})})}},25386:(e,t,n)=>{"use strict";n.d(t,{x:()=>o,y:()=>a});var r=n(49069),i=n(69420),o=r.Pe.define(),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offset:e.state.selection.main.head},n=e.state.facet(i.q);if(!n)return!1;var r=n.isFindDefinitionSupported,a=n.isFindReferencesSupported;return(!!r||!!a)&&(e.dispatch({effects:[o.of(t.offset)]}),!0)}},25803:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(17844);function i(e){return null===e?null:Array.isArray(e)?e.map(function(e){return"targetSelectionRange"in e?(0,r._)({uri:e.targetUri,range:e.targetSelectionRange},e):e}):[e]}},27250:(e,t,n)=>{"use strict";n.d(t,{O:()=>l,k:()=>a});var r=n(21462),i=n(49069),o=n(21727),a=i.Pe.define();function l(e){var t=(0,o.A)(function(t){e&&(e.dispatch({effects:a.of(t)}),e.requestMeasure())},{type:"throttle",wait:150});(0,r.useEffect)(function(){t(e?e.dom:null)},[e,t])}},27600:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});var r=n(12694),i=n(21462),o=n(66340),a="(prefers-reduced-motion: no-preference)",l=function(){return!window.matchMedia||!window.matchMedia(a).matches};function c(){var e=(0,r._)((0,i.useState)(l),2),t=e[0],n=e[1],c=(0,o.wR)();return(0,i.useEffect)(function(){if(window.matchMedia){var e=window.matchMedia(a),t=function(e){n(!e.matches)};if(null==e?void 0:e.addEventListener)return e.addEventListener("change",t),function(){t&&e.removeEventListener("change",t)}}},[]),!!c||t}},28410:(e,t,n)=>{"use strict";n.d(t,{DY:()=>g,RG:()=>p,dP:()=>y,ib:()=>s});var r=n(62019),i=n(37743),o=n(1833),a=n(53847),l=n(49069),c=n(45773),u=n(478),s=function(e){function t(e){var n;return(0,i._)(this,t),(n=(0,r._)(this,t)).value=e,n}(0,o._)(t,e);var n=t.prototype;return n.toDOM=function(){return document.createTextNode(String(this.value))},n.eq=function(e){return this.value===e.value},t}(c.wJ),d=[],f=new u.q(1e3),h=!1,m=!1;function v(e){if(e<1e3)return h?d[e]:(m||(m=!0,("requestIdleCallback"in globalThis?globalThis.requestIdleCallback:globalThis.setTimeout)(function(){for(var e=0;e<1e3;e++)d.push(new s(e));h=!0,m=!1})),new s(e));var t=e.toString(),n=f.get(t);return n||(n=new s(t),f.set(t,n)),n}var p=l.sj.define(),g=l.sj.define(),y=(0,c.cU)({class:"cm-lineNumbers",renderEmptyElements:!1,lineMarker:function(e,t,n){var r=e.state.facet(p),i=!0,o=!1,a=void 0;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=(0,l.value)(e,t,n);if(void 0!==u)return u}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return v(e.state.doc.lineAt(t.from).number)},widgetMarker:function(e,t,n){var r=e.state.facet(g),i=!0,o=!1,a=void 0;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=(0,l.value)(e,t,n);if(void 0!==u)return u}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return null},initialSpacer:function(e){return v(w(e.state.doc.lines))},updateSpacer:function(e,t){if(!(0,a._)(e,s))return e;var n=w(t.state.doc.lines);return n===e.value?e:v(n)},domEventHandlers:{click:function(e,t,n){if(e.state.facet(l.$t.readOnly)||t.type!==c._B.Text)return!1;var r=e.state,i=r.doc,o=r.selection,a=i.lineAt(t.from),u=l.OF.range(a.from,Math.min(a.to+1,i.length));if(n.altKey)e.dispatch({selection:o.addRange(u)});else if(n.shiftKey){var s=o.main,d=s.anchor,f=s.head;Math.abs(u.to-f)<Math.abs(u.to-d)?e.dispatch({selection:o.main.extend(u.from,u.to)}):e.dispatch({selection:l.OF.cursor(d).extend(u.from,u.to)})}else e.dispatch({selection:l.OF.create([u])});return e.focus(),!0}}});function w(e){for(var t=9;t<e;)t=10*t+9;return t}},30230:(e,t,n)=>{"use strict";n.d(t,{q:()=>p});var r=n(83846),i=n(17844),o=n(93629),a=n(17459),l=n(34837),c=n(21462),u=n(13713),s=n(42793),d=n(19944),f=n(18712),h=(0,d.v)(["size"]),m=h.cssVars,v=h.styleTokens,p=(0,c.forwardRef)(function(e,t){var n=e.size,c=(0,a._)(e,["size"]);return(0,l.Y)(u.q,(0,o._)((0,i._)({style:(0,r._)({},m.size,"".concat(null!=n?n:16,"px")),css:g},c),{ref:t}))}),g=(0,s.AH)([{width:v.size,height:v.size},f.wp.borderRadius("default"),{boxShadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)"}])},30365:(e,t,n)=>{"use strict";n.d(t,{l:()=>m});var r=n(34837),i=n(21462),o=n(30284),a=n(34778),l=n(70764),c=n(18712),u=n(3937),s=n(91953),d=n(25227),f=n(1807),h=(0,l.x)({targetedElementWrapper:[c.wp.width("100%"),c.wp.flex.row,c.wp.align.center,c.wp.justify.end],targetedElement:[c.wp.borderRadius(),c.wp.backgroundColor.accentPrimaryDimmer],clickable:[{cursor:"pointer"}]});function m(e){var t=e.targetedElement,n=e.openPane,l=(0,i.useCallback)(function(){t.filePath&&n&&((0,a.u4)(o.AZ.TARGETED_ELEMENT_FILE_LINK_CLICKED,{componentName:t.componentName,filePath:t.filePath,lineNumber:t.lineNumber}),n({type:"codeEditor",data:{path:t.filePath,line:t.lineNumber}}))},[t,n]);if(!t.componentName)return null;var c=t.filePath&&!!n,m=c?[h.targetedElement,h.clickable]:h.targetedElement;return(0,r.Y)(d.S,{css:h.targetedElementWrapper,children:(0,r.FD)(u.ui,{css:m,py:4,px:6,row:!0,align:"center",gap:4,onClick:c?l:void 0,children:[(0,r.Y)(f.A,{size:16}),(0,r.Y)(s.EY,{variant:"small",children:t.componentName})]})})}},30545:(e,t,n)=>{"use strict";n.d(t,{c:()=>f});var r=n(29935),i=n(53847),o=n(82643),a=n(21462),l=n(86035),c=n(86402),u=n(69832),s=n(35897),d=n(8928);function f(e){var t=e.openPane,n=e.onError,f=(0,c.NC)(),h=(0,s.A)().showError,m=(0,u.J2)(f.sessions.agent.current),v=(0,d.p)();return(0,a.useCallback)(function(e,a){return(0,r._)(function(){var r,c,u,s,d;return(0,o.YH)(this,function(o){switch(o.label){case 0:r=a.createNewSession,c="string"==typeof e?{kind:"message",message:e,intent:l.qRv.AGENT}:e,o.label=1;case 1:if(o.trys.push([1,5,,6]),u=m,!(r||!u))return[3,3];return[4,f.sessions.create({sessionType:l.dF3.AGENT_SESSION})];case 2:if(!(s=o.sent()).ok)throw Error("Failed to create Agent session");u=s.payload,o.label=3;case 3:return v||t({type:"agentChat",data:{sessionId:u.id}}),[4,u.appendEvent(c)];case 4:return o.sent(),[3,6];case 5:return d=o.sent(),n?n(d):h("Error ".concat(r?"creating":"sending message to"," Agent chat: ").concat((0,i._)(d,Error)?d.message:"Unknown error")),[3,6];case 6:return[2]}})})()},[f.sessions,m,t,h,n,v])}},33052:(e,t,n)=>{"use strict";n.d(t,{Pi:()=>D,lV:()=>Y,ke:()=>L,CO:()=>U});var r=n(86105),i=n(21462),o=n(9066),a=n(6268),l=n(44725),c=n(3443),u=n(83265),s=n(49069),d=n(45773),f=n(6566),h=n(74177),m=n(63806),v=function(e){return function(t){var n="down"===e,r=t.state.selection,i=!0,o=!1,a=void 0;try{for(var l,c=r.ranges[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;r=r.addRange(t.moveVertically(u,n))}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return t.dispatch({selection:r}),!0}},p=v("up"),g=v("down"),y=function(e){var t=null,n=!0,r=!1,i=void 0;try{for(var o,a=e.state.selection.ranges[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(!l.empty)for(var c=l.from;c<=l.to;){var u=e.state.doc.lineAt(c),d=Math.min(u.to,l.to);t=t?t.addRange(s.OF.range(d,d)):s.OF.single(d),c=u.to+1}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!!t&&(e.dispatch({selection:t}),!0)},w=n(37569),x=n(25386),b=n(446),S=n(81176),_=n(49078),C=n(74309),A=n(51107),k=n(9092),E=n(51940);function Y(e){var t=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(null==(e=m.Jh.from(t))?void 0:e.id)==="markdown";return function(e){var t,r,i,o=e.state,a=e.dispatch;return!o.readOnly&&(a(o.update((r=(t=o.facet(l.Xt)).includes(" "),i=t.length,o.changeByRange(function(e){var a=function(e){var n=o.doc.lineAt(e);return l.push({from:n.from,insert:t}),n},l=[],c=o.doc.lineAt(e.anchor).number===o.doc.lineAt(e.head).number,u=!e.empty;if(u)if(u&&c)a(e.from);else for(var d=e.from;d<=e.to;)d=a(d).to+1;else{var f,h=e.from,m=o.doc.lineAt(h),v=o.doc.sliceString(m.from,m.to),p=v.length,g=""===v.trim()&&!v.includes("	"),y=""===o.sliceDoc(m.from,h).trim(),w=o.doc.sliceString(m.from,h).length%i;n&&(f=o.doc.lineAt(h),/^[-*]$/.test(o.sliceDoc(f.from,e.from).trim()))?l.push({from:m.from,insert:t}):g&&r?l.push({from:e.from,insert:" ".repeat(i-p%i)}):y&&r?l.push({from:h,insert:" ".repeat(i-w)}):l.push({from:h,insert:t})}var x=o.changes(l),b=""===o.sliceDoc(e.anchor,e.head).trim();return{changes:l,range:s.OF.range(x.mapPos(e.anchor,1),x.mapPos(b&&c?e.anchor:e.head,1))}})),{userEvent:"input.indent"})),!0)}}(e);return d.w4.of([{key:"Mod-f",run:u.pi,scope:"editor search-panel"},{key:"Escape",run:u.jO,scope:"editor search-panel"},{key:"Enter",run:a.Bn,shift:a.Bn},{key:"Home",run:a.My,shift:a.aG},{mac:"Cmd-ArrowLeft",run:a.My,shift:a.aG},{key:"Mod-Home",run:a.p6,shift:a.RF},{mac:"Cmd-ArrowUp",run:a.p6,shift:a.RF},{key:"PageUp",run:a.VA,shift:a.Lo},{mac:"Ctrl-ArrowUp",run:a.VA,shift:a.Lo},{key:"PageDown",run:a.sT,shift:a.wI},{mac:"Ctrl-ArrowDown",run:a.sT,shift:a.wI},{key:"End",run:a.oj,shift:a.Q4},{mac:"Cmd-ArrowRight",run:a.oj,shift:a.Q4},{key:"Mod-Alt-ArrowUp",linux:"Shift-Alt-ArrowUp",run:p,preventDefault:!0},{key:"Mod-Alt-ArrowDown",linux:"Shift-Alt-ArrowDown",run:g,preventDefault:!0},{key:"Shift-Alt-i",run:y},{key:"Mod-End",run:a.aS,shift:a.Of},{mac:"Cmd-ArrowDown",run:a.aS,shift:a.Of},{key:"Mod-a",run:a.Ub},{key:"Backspace",run:o.N7},{key:"Backspace",run:a.vA,shift:a.vA},{key:"Delete",run:a.be},{key:"Mod-Backspace",mac:"Alt-Backspace",run:a.Ce},{key:"Mod-Delete",mac:"Alt-Delete",run:a.SN},{mac:"Mod-Backspace",run:a.Fj},{mac:"Mod-Delete",run:a.iT},{mac:"Ctrl-b",run:a.Cv,shift:a.QP,preventDefault:!0},{mac:"Ctrl-f",run:a.xt,shift:a.Dt},{mac:"Ctrl-p",run:a.eg,shift:a.Mm},{mac:"Ctrl-n",run:a.HH,shift:a.jK},{mac:"Ctrl-a",run:a.D8,shift:a.Ne},{mac:"Ctrl-e",run:a.uB,shift:a.Ax},{mac:"Ctrl-d",run:a.be},{mac:"Ctrl-h",run:a.vA},{mac:"Ctrl-k",run:a.iT},{mac:"Ctrl-Alt-h",run:a.Ce},{mac:"Ctrl-o",run:a.ho},{mac:"Ctrl-t",run:a.TF},{mac:"Ctrl-v",run:a.sT},{mac:"Alt-v",run:a.VA},{key:"Shift-Mod-k",run:a.SA},{key:"Alt-ArrowDown",run:a.Ym},{key:"Alt-ArrowUp",run:a.VJ},{win:"Shift-Alt-ArrowDown",mac:"Shift-Alt-ArrowDown",run:a.YK},{win:"Shift-Alt-ArrowUp",mac:"Shift-Alt-ArrowUp",run:a.VR},{key:"Mod-l",run:a.bk,preventDefault:!0},{key:"Shift-Mod-\\",run:a.GE},{key:"Tab",run:t,shift:a.Mg,preventDefault:!0},{key:"Mod-[",run:a.Mg},{key:"Mod-]",run:t},{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:l.Tm},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:l.Kc},{key:"Mod-z",run:a.tN,preventDefault:!0},{key:"Mod-y",run:a.ZS,preventDefault:!0},{key:"Mod-Shift-z",run:a.ZS,preventDefault:!0},{key:"Mod-u",run:a.$Q,preventDefault:!0},{key:"F8",run:c.H2},{key:"ArrowDown",run:(0,o.aU)(!0)},{key:"ArrowUp",run:(0,o.aU)(!1)},{key:"PageDown",run:(0,o.aU)(!0,"page")},{key:"PageUp",run:(0,o.aU)(!1,"page")}])}var D={cursorLeft:{id:"editor.cursor.left",name:"Move cursor left",default:"ArrowLeft",run:a.Cv},cursorGroupLeft:{id:"editor.cursor.groupLeft",name:"Move cursor left across one group",default:(0,k.FM)({alt:!0,key:"ArrowLeft"}),run:a.lv},selectionLeft:{id:"editor.selection.left",name:"Move selection left",default:"Shift-ArrowLeft",run:a.QP},selectionGroupLeft:{id:"editor.selection.groupLeft",name:"Move selection left across one group",default:(0,k.FM)({alt:!0,shift:!0,key:"ArrowLeft"}),run:a.tI},cursorRight:{id:"editor.cursor.right",name:"Move cursor right",default:"ArrowRight",run:a.xt},cursorGroupRight:{id:"editor.cursor.groupRight",name:"Move cursor right across one group",default:(0,k.FM)({alt:!0,key:"ArrowRight"}),run:a._O},selectionRight:{id:"editor.selection.right",name:"Move selection right",default:"Shift-ArrowRight",run:a.Dt},selectionGroupRight:{id:"editor.selection.groupRight",name:"Move selection right across one group",default:(0,k.FM)({alt:!0,shift:!0,key:"ArrowRight"}),run:a.OR},cursorUp:{id:"editor.cursor.lineUp",name:"Move cursor up",default:"ArrowUp",run:a.eg},cursorDown:{id:"editor.cursor.lineDown",name:"Move cursor down",default:"ArrowDown",run:a.HH},selectionUp:{id:"editor.selection.lineUp",name:"Move selection up",default:"Shift-ArrowUp",run:a.Mm},selectionDown:{id:"editor.selection.lineDown",name:"Move selection down",default:"Shift-ArrowDown",run:a.jK},goToLine:{id:"editor.action.goToLine",name:"Go to line",default:"Ctrl-g",run:u.cB},selectionNextOccurrence:{id:"editor.selection.nextOccurrence",name:"Select next selection occurrence",default:(0,k.FM)({cmdOrCtrl:!0,key:"d"}),run:u.dg},selectionAllMatches:{id:"editor.selection.allMatches",name:"Select all selection matches",default:(0,k.FM)({cmdOrCtrl:!0,shift:!0,key:"l"}),run:u.wY},foldAll:{id:"editor.action.foldAll",name:"Fold all",default:(0,k.FM)({alt:!0,shift:!0,key:"0"}),description:"Folds all regions in the active editor",run:l.hY},unfoldAll:{id:"editor.action.unfoldAll",name:"Unfold all",default:(0,k.FM)({alt:!0,shift:!0,key:"j"}),description:"Unfolds all folded regions in the active editor",run:l._I},lineComment:{id:"editor.action.lineComment",name:"Add line comment",default:void 0,run:a.Gi,description:"Comment the current selection using line comments"},lineUncomment:{id:"editor.action.lineUncomment",name:"Remove line comment",default:void 0,run:a.Zw,description:"Uncomment the current selection using line comments"},toggleComment:{id:"editor.action.toggleComment",name:"Toggle comment",default:(0,k.FM)({cmdOrCtrl:!0,key:"/"}),run:a.qh,description:"Comment or uncomment the current selection"},toggleBlockComment:{id:"editor.action.toggleBlockComment",name:"Toggle block comment",default:"Shift-Alt-a",run:a.NH,description:"Comment or uncomment the current selection using block comments"},acceptPrimaryCompletion:{id:"editor.completions.accept",name:"Accept primary completion",default:(0,k.FM)({key:"Tab"}),run:function(e){return!(0,h.R)(e.state)&&(0,o.$w)(e)},prec:"high"},acceptSecondaryCompletion:{id:"editor.completions.acceptAlternative",name:"Accept secondary completion",default:(0,k.FM)({key:"Enter"}),run:function(e){return(0,o.$w)(e)},prec:"high"},requestCompletion:{id:"editor.completions.trigger",name:"Trigger completion",default:"Ctrl- ",run:o.rB},cancelCompletion:{id:"editor.completions.cancel",name:"Cancel completion",default:(0,k.FM)({key:"Escape"}),run:function(e){return!(0,h.R)(e.state)&&("active"===(0,o.DH)(e.state)?((0,o.N)(e),(0,h.D)(e)):((0,o.N)(e),!1))},preventDefault:!1},requestCompleteCode:{id:"editor.completions.ghostwriter",name:"Trigger AI code completion",run:h.D,default:void 0},searchFindNext:{id:"editor.search.findNext",name:"Search: Find next",run:u.Hg,default:(0,k.FM)({cmdOrCtrl:!0,key:"g"}),scope:"editor search-panel"},searchFindPrevious:{id:"editor.search.findPrevious",name:"Search: Find previous",run:u.ve,default:(0,k.FM)({cmdOrCtrl:!0,shift:!0,key:"g"}),scope:"editor search-panel"},formatDocument:{id:"editor.action.formatDocument",name:"Format Document",run:f.BD,default:(0,k.FM)({cmdOrCtrl:!0,key:"s"}),scope:"editor context-menu"},goToDefinition:{id:"editor.action.goToDefinition",name:"Go to Definition",run:b.Fn,default:(0,k.FM)({cmdOrCtrl:!0,key:"F12"}),scope:"editor context-menu"},goToTypeDefinition:{id:"editor.action.goToTypeDefinition",name:"Go to Type Definition",run:b.fS,default:void 0,scope:"editor context-menu"},goToImplementation:{id:"editor.action.goToImplementation",name:"Go to Implementation",run:b.M9,default:void 0,scope:"editor context-menu"},goToReferences:{id:"editor.action.goToReferences",name:"Show references",run:x.y,default:"Shift-F12",scope:"editor context-menu"},selectionAllOccurrences:{id:"editor.selection.allOccurrences",name:"Select all occurrences",default:(0,k.FM)({cmdOrCtrl:!0,key:"F2"}),run:A.G,scope:"editor context-menu"},toggleProblemsPanel:{id:"editor.action.toggleProblemsPanel",name:"Toggle Problems Panel",run:S.Q,default:(0,k.FM)({cmdOrCtrl:!0,shift:!0,key:"m"})},codeActions:{id:"editor.action.codeActions",name:"Show Code Actions",run:w.w1,default:(0,k.FM)({cmdOrCtrl:!0,key:"."}),scope:"editor context-menu"},sourceActions:{id:"editor.action.sourceActions",name:"Source Actions",default:(0,k.FM)({cmdOrCtrl:!0,shift:!0,key:"a"}),run:w._H,scope:"editor"},renameSymbol:{id:"editor.action.renameSymbol",name:"Rename Symbol",default:(0,k.FM)({key:"F2"}),run:_.C,scope:"editor context-menu"},selectAllSearchMatches:{id:"editor.action.selectAllMatches",name:"Select all search matches",run:function(e){return!!((0,u.NK)(e.state)&&(0,u.Cj)(e))&&(e.focus(),!0)},default:(0,k.FM)({alt:!0,key:"Enter"}),scope:"editor search-panel"},replaceAllSearchMatches:{id:"editor.action.replaceAllMatches",name:"Replace all search matches",run:function(e){return!!((0,u.NK)(e.state)&&(0,u.yh)(e))&&(e.focus(),!0)},default:(0,k.FM)({cmdOrCtrl:!0,alt:!0,key:"Enter"}),scope:"editor search-panel"}},L=Object.values(D),T=new C.k(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",i=arguments.length>4?arguments[4]:void 0;return s.Nb[r](d.w4.of([{key:(0,k.bK)(e),run:t,scope:n,preventDefault:null==i||i}]))});function U(){var e=[R(D.cursorLeft),R(D.cursorRight),R(D.selectionLeft),R(D.selectionRight),R(D.cursorGroupLeft),R(D.cursorGroupRight),R(D.selectionGroupLeft),R(D.selectionGroupRight),R(D.cursorUp),R(D.cursorDown),R(D.selectionUp),R(D.selectionDown),R(D.goToLine),R(D.selectionNextOccurrence),R(D.selectionAllMatches),R(D.foldAll),R(D.unfoldAll),R(D.lineComment),R(D.lineUncomment),R(D.toggleComment),R(D.toggleBlockComment),R(D.acceptPrimaryCompletion),R(D.acceptSecondaryCompletion),R(D.cancelCompletion),R(D.requestCompletion),R(D.requestCompleteCode),R(D.searchFindNext),R(D.searchFindPrevious),R(D.formatDocument),R(D.goToDefinition),R(D.goToTypeDefinition),R(D.goToImplementation),R(D.goToReferences),R(D.renameSymbol),R(D.selectionAllOccurrences),R(D.toggleProblemsPanel),R(D.codeActions),R(D.selectAllSearchMatches),R(D.replaceAllSearchMatches)];return(0,i.useMemo)(function(){return(0,r._)(e)},(0,r._)(e))}function R(e){var t=(0,E.rV)(e.id,e.shortcut);return T.use(t,e.run,e.scope,e.prec,e.preventDefault)}},33369:(e,t,n)=>{"use strict";n.d(t,{J8:()=>f,L4:()=>g,Uf:()=>c,Vp:()=>y,dT:()=>p,jW:()=>s,qP:()=>m,ti:()=>v,vB:()=>h,xC:()=>u,yB:()=>d});var r=n(17844),i=n(93629),o=n(90629),a=n(86035);function l(e){var t=null!=e?e:{},n=t.tagName,r=t.className,i=t.textContent,o=t.id;return{tagName:void 0===n?"":n,className:void 0===r?"":r,textContent:void 0===i?"":i,id:void 0===o?"":o}}function c(e){if(e)return(0,i._)((0,r._)({},e),{parent:l(e.parent),nextSibling:l(e.nextSibling),grandparent:l(e.grandparent)})}function u(e){var t,n,r,i,o;return{filePath:e.elementPath.split(":")[0],lineNumber:parseInt(e.elementPath.split(":")[1]||"-1",10)||-1,componentName:e.elementName,textContent:e.textContent,imageSourceUrl:e.srcAttribute||"",hasChildElements:null!=(i=e.hasChildElements)&&i,siblingCount:null!=(o=e.siblingCount)?o:0,parent:l(null==(t=e.relatedElements)?void 0:t.parent),nextSibling:l(null==(n=e.relatedElements)?void 0:n.nextSibling),grandparent:l(null==(r=e.relatedElements)?void 0:r.grandParent)}}function s(){return Array.from(document.querySelectorAll('iframe[data-cy="ws-webview"]'))}function d(e,t,n){var o,a=Date.now(),l=(0,i._)((0,r._)({type:e},n),{timestamp:a});null==(o=t.contentWindow)||o.postMessage(l,"*")}function f(e,t){var n=s();if(0===n.length)throw Error("Cannot toggle visual selector: no webview iframes found");n.forEach(function(n){d("TOGGLE_REPLIT_VISUAL_EDITOR",n,{enabled:e,enableEditing:t})})}function h(e){var t=null==e?void 0:e.excludeIframe;s().forEach(function(e){t&&e===t||d("CLEAR_SELECTION",e)})}function m(e){return s().find(function(t){return t.contentWindow===e.source})}function v(e,t){try{return new File([e],t,{type:e.type})}catch(e){o.Cp(e,{extra:{message:"[VisualSelector] Error converting blob to file"}})}}function p(e){var t=s();0!==t.length&&t.forEach(function(t){d("UPDATE_SELECTED_ELEMENT",t,{attributes:e})})}function g(){var e=s();0!==e.length&&e.forEach(function(e){d("CLEAR_ELEMENT_DIRTY",e)})}function y(e){return e===a.qf8.STACK_BLUEPRINT_AGENT}},33795:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(12694),i=n(49069),o=n(14603),a=n(89943);function l(e,t){var n=i.EY.of(t.split("\n")),l=i.VR.empty(n.length);if(!e.length)return l;if(1===e.length){var c=(0,r._)(e,1)[0],u=c.range,s=u.start,d=u.end,f=c.newText,h=(0,o.TU)(n,s);if(0===h||-1===h){var m=(0,o.TU)(n,d);if(m===n.length||-1===m)return(0,a.s)(t,f)}}var v=[],p=!0,g=!1,y=void 0;try{for(var w,x=e[Symbol.iterator]();!(p=(w=x.next()).done);p=!0){var b=w.value,S=b.range,_=b.newText,C=(0,o.TU)(n,S.start),A=(0,o.TU)(n,S.end);v.push({from:C,to:A,insert:_})}}catch(e){g=!0,y=e}finally{try{p||null==x.return||x.return()}finally{if(g)throw y}}return i.VR.of(v,t.length)}},35846:(e,t,n)=>{"use strict";n.d(t,{Aq:()=>v,cS:()=>h,hb:()=>m,qe:()=>l,sv:()=>p,tq:()=>c});var r=n(17844),i=n(93629),o=n(49069),a=n(4888),l=o.Pe.define(),c=o.Pe.define(),u=o.sj.define({combine:function(e){return e.some(Boolean)}}),s=o.sj.define({combine:function(e){return e.some(Boolean)}}),d=o.sj.define({combine:function(e){return e.some(Boolean)}}),f=o.sj.define({combine:function(e){var t;return null!=(t=e.find(Boolean))?t:null}}),h=d.reader,m=u.reader,v=s.reader;f.reader;var p=o.sU.define({create:function(){return null},update:function(e,t){if(!t.state.facet(a.et).length)return null;e&&(e=(0,i._)((0,r._)({},e),{missed:e.missed.compose(t.changes)}));var n=e?e.requestId+1:0,u=!0,s=!1,d=void 0;try{for(var f,h=t.effects[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value;if(m.is(l)){var v=t.state.doc;e={requestId:n,original:v,selection:m.value.selection,missed:o.VR.empty(v.length),provider:t.state.facet(a.lu)}}m.is(c)&&e&&e.requestId===m.value.requestId&&(e=null)}}catch(e){s=!0,d=e}finally{try{u||null==h.return||h.return()}finally{if(s)throw d}}return e},provide:function(e){return[d.compute([e],function(t){return null!==t.field(e)}),f.compute([e],function(t){var n;return null==(n=t.field(e))?void 0:n.provider}),u.compute([a.fC],function(e){return e.facet(a.et).length>0}),s.compute([a.lu],function(e){var t,n;return null!=(n=null==(t=e.facet(a.lu))?void 0:t.rangeSupport())&&n})]}})},36215:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=n(49069).sj.define({combine:function(e){return e.some(Boolean)}})},36324:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(17844),i=n(93629),o=n(17459),a=n(34837),l=n(54759),c=n(27600);let u=function(e){var t=e.children,n=(0,o._)(e,["children"]),u=!(0,c.j)()&&!1!==n.animate;return(0,a.Y)(l.Ay,(0,i._)((0,r._)({},n),{animate:u,children:t}))}},37379:(e,t,n)=>{"use strict";n.d(t,{PX:()=>k,bZ:()=>E,iF:()=>S,if:()=>D,nh:()=>Y,qF:()=>A});var r=n(17844),i=n(93629),o=n(17459),a=n(34837),l=n(21462),c=n(40180),u=n(26122),s=n(59737),d=n(58900),f=n(17554),h=n(62387),m=n(39938),v=n(39534),p=n(70764),g=n(18712),y=n(45023),w=n(91953),x=n(25590),b=n(33683),S=(0,p.x)({listbox:[g.wp.viewStyle,g.wp.maxHeight("inherit"),g.wp.overflowY("auto"),g.wp.minHeight(24)],item:[g.wp.display.flex,g.wp.borderRadius(),g.wp.p(8),g.wp.align.center,g.wp.rowWithGap(8),{transitionProperty:"background-color, box-shadow",backgroundColor:"transparent",borderWidth:1,borderStyle:"solid",borderColor:"transparent",outline:"2px solid ".concat(v.LU.accentPrimaryDefault),outlineOffset:"-2px",outlineColor:"transparent",cursor:"pointer",color:v.LU.foregroundDefault},{"&[data-hovered],&[data-focused]":{backgroundColor:v.LU.interactiveBackground},"&[data-selected]":{backgroundColor:v.LU.accentPrimaryDimmer},"&[data-selected][data-hovered], &[data-selected][data-focused]":{backgroundColor:v.LU.accentPrimaryDefault},"&[data-disabled]":{color:v.LU.foregroundDimmer,cursor:"default"}}],itemInner:[g.wp.display.grid,{gap:4,gridAutoRows:"min-content",gridAutoFlow:"row"},g.wp.overflow("hidden"),{whiteSpace:"nowrap",textOverflow:"ellipsis"}],loaderWrapper:[g.wp.display.flex,g.wp.height(24),g.wp.align.center,g.wp.justify.center],emptyState:[g.wp.height(24),g.wp.display.flex,g.wp.align.center,g.wp.justify.center]}),_=function(){return(0,a.Y)("div",{css:S.emptyState,children:(0,a.Y)(w.EY,{color:"dimmer",children:"No Results"})})},C=function(){return(0,a.Y)("div",{css:S.loaderWrapper,children:(0,a.Y)(b.A,{})})},A=(0,l.forwardRef)(function(e,t){var n,u=e.dataCy,d=e.onLoadMore,f=e.isLoading,v=(0,o._)(e,["dataCy","onLoadMore","isLoading"]),p=(0,m.A)(d),g=(0,l.useRef)(null),y=(0,l.useRef)(!0),w=(0,l.useCallback)(function(){var e,t=g.current;t&&(t.scrollTop+t.clientHeight>=t.scrollHeight-400?y.current&&(y.current=!1,null==(e=p.current)||e.call(p)):y.current=!0)},[p]);return(0,h.A)(function(){var e=g.current;if(e)return e.addEventListener("scroll",w),function(){return e.removeEventListener("scroll",w)}},[w]),(0,a.Y)(s.qF,(0,i._)((0,r._)({css:S.listbox,"data-cy":u},v),{ref:(0,c.P)(t,g),renderEmptyState:f?C:null!=(n=v.renderEmptyState)?n:_}))}),k=(0,l.forwardRef)(function(e,t){var n=e.multiline,l=e.height,c=(0,o._)(e,["multiline","height"]),s=(0,d.CC)(f.h,"label");return(0,a.Y)(w.EY,(0,i._)((0,r._)({},(0,u.v)(s,{multiline:void 0!==n&&n,height:l},c)),{ref:t}))}),E=(0,l.forwardRef)(function(e,t){var n=e.multiline,l=e.height,c=e.variant,s=(0,o._)(e,["multiline","height","variant"]),h=(0,d.CC)(f.h,"description");return(0,a.Y)(w.EY,(0,i._)((0,r._)({},(0,u.v)(h,{multiline:void 0!==n&&n,height:l,variant:void 0===c?"small":c},s)),{ref:t}))}),Y=(0,l.forwardRef)(function(e,t){var n=e.label,l=e.description,c=e.icon,u=(0,o._)(e,["label","description","icon"]);return(0,a.FD)(D,(0,i._)((0,r._)({},u),{textValue:n,ref:t,children:[(0,a.Y)(x.Z_,{size:16,children:c}),(0,a.FD)("div",{css:S.itemInner,children:[(0,a.Y)(k,{children:n}),l?(0,a.Y)(E,{children:l}):null]})]}))}),D=(0,l.forwardRef)(function(e,t){var n=e.dataCy,l=e.textValue,c=e.as,u=e.href,d=e.scroll,f=e.shallow,h=e.children,m=(0,o._)(e,["dataCy","textValue","as","href","scroll","shallow","children"]),v=m.fixedHeight?{height:"".concat(m.fixedHeight,"px")}:{};return(0,a.Y)(s.nh,(0,i._)((0,r._)({},m,(0,y.J)({as:c,href:u,scroll:d,shallow:f})),{css:S.item,style:v,ref:t,"data-cy":n,textValue:l,children:h}))})},37569:(e,t,n)=>{"use strict";n.d(t,{w1:()=>$,aM:()=>X,_H:()=>Q,Qb:()=>J});var r=n(29935),i=n(62019),o=n(37743),a=n(1833),l=n(17844),c=n(93629),u=n(17459),s=n(12694),d=n(22531),f=n(82643),h=n(34837),m=n(86846),v=n(49069),p=n(45773),g=n(68488),y=n(69071),w=n(87145),x=n(60490),b=n(6862),S=n(69420),_=n(59911),C=n(89832),A=n(14603),k=n(16732),E=n(41118),Y=n(77537),D=n(72764),L=n(1224),T=n(39534),U=n(25227),R=n(41260),F=n(50618),M=n(25590);function P(e){return(0,h.FD)(M.Ay,(0,c._)((0,l._)({},e),{children:[(0,h.Y)("path",{fillRule:"evenodd",d:"M12 2.75A5.25 5.25 0 0 0 6.75 8c0 1.451.579 2.27 1.308 3.303l.055.077c.683.969 1.436 2.083 1.603 3.87h4.568c.167-1.787.92-2.901 1.603-3.87l.055-.077C16.672 10.27 17.25 9.45 17.25 8c0-2.9-2.35-5.25-5.25-5.25Z",clipRule:"evenodd"}),(0,h.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 8a6.75 6.75 0 0 1 13.5 0c0 1.933-.823 3.095-1.548 4.119a83.9 83.9 0 0 0-.09.126c-.725 1.028-1.362 1.993-1.362 3.755a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75c0-1.762-.637-2.727-1.363-3.755l-.09-.126C6.074 11.095 5.25 9.933 5.25 8Zm3 11a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Zm1 3a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z"})]}))}function I(e){var t,n;return null!=(n=null==(t=e.facet(S.q))?void 0:t.isCodeActionsSupported)&&n}var N=v.Pe.define(),H=v.Pe.define(),B=v.Pe.define(),O=v.Pe.define(),z=v.Pe.define(),q=function(e){function t(e,n){var r;return(0,o._)(this,t),(r=(0,i._)(this,t)).actions=e,r.position=n,r}return(0,a._)(t,e),t.prototype.toDOM=function(e){var t=this,n=16;e.defaultLineHeight<18&&(n=12),e.defaultLineHeight>24&&(n=24);var r=(0,C.J)((0,h.Y)(U.S,{style:{cursor:"pointer",padding:n>24?"2px":void 0,position:"absolute"},onPointerDown:function(n){K(e,t.actions,t.position),n.stopPropagation()},children:(0,h.Y)(P,{"data-testid":"CodeActionsLighbulb",size:n,style:{color:e.state.facet(p.Lz.darkTheme)?T.LU.yellowStrongest:T.LU.yellowDimmer,pointerEvents:"none"}})})),i=document.createElement("div");return i.style.display="inline",i.appendChild(r),i},t}(p.xO),Z=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o._)(this,t),(n=(0,i._)(this,t)).actions=e,n.lightbulb=r,n}return(0,a._)(t,e),t.prototype.showLightbulb=function(){return new t(this.actions,!0)},t}(v.FB),j=v.sU.define({create:function(){return v.om.empty},update:function(e,t){if(!I(t.state))return v.om.empty;e&&t.docChanged&&(e=e.map(t.changes));var n=!0,r=!1,i=void 0;try{for(var o,a=t.effects[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(l.is(N)&&(e=v.om.empty),l.is(B)&&(e=v.om.of(l.value)),l.is(O)&&e){for(var c=new v.vB,u=e.iter();u.value;)c.add(u.from,u.to,u.value.showLightbulb()),u.next();e=c.finish()}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e},provide:function(e){return[p.Lz.decorations.compute([e,D.f],function(t){if(t.facet(D.f))return p.NZ.none;var n,r,i,o,a,l=t.field(e);if(!l.size)return p.NZ.none;for(var c=l.iter();c.value;)i=c.value.range(c.from,c.to),c.next();if(!i||!i.value.lightbulb&&!i.value.actions.some(function(e){return!W(e.action,m.CodeActionKind.Refactor)}))return p.NZ.none;var u=t.doc.lineAt(i.from);if(0===u.text.length)o=u.from;else if((null!=(a=null==(r=u.text.match(/^\s+/))||null==(n=r[0])?void 0:n.length)?a:0)>=2)o=u.from;else if(u.number>1)o=t.doc.line(u.number-1).from;else if(t.doc.lines>1)o=t.doc.line(u.number+1).from;else{if(1===t.doc.lines)return p.NZ.none;o=u.from}return p.NZ.set(p.NZ.widget({widget:new q(i.value.actions,o),side:-1e4,block:!1}).range(o))})]}}),V=function(){function e(t,n,i){var a=this;(0,o._)(this,e),this.doRequestDebounced=(0,k.A)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.view.state.selection.main;return(0,r._)(function(){var n,r,i;return(0,f.YH)(this,function(o){return n=t.from,r=t.to,i={start:(0,A.Z3)(this.view.state.doc,n),end:(0,A.Z3)(this.view.state.doc,r)},[2,this.doRequestImmediately((0,c._)((0,l._)({},e),{originalRange:i}))]})}).call(a)},{wait:200}),this.clients=n,this.fs=i,this.view=t,this.destroyed=!1,this.inflightRequestId=new Map,this.inflightPosition=null,this.fetch(t.state)}var t=e.prototype;return t.update=function(e){if(this.inflightPosition&&(this.inflightPosition=e.changes.mapPos(this.inflightPosition)),(0,g.$H)(e,"selection",H)){var t=!0,n=!1,r=void 0;try{for(var i,o,a=e.transactions[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value,c=!0,u=!1,s=void 0;try{for(var d,f=l.effects[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=d.value;if(h.is(H)){i=h.value;break}}}catch(e){u=!0,s=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw s}}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}this.fetch(e.state,i).then(function(){(null==i?void 0:i.force)&&"function"==typeof(null==i?void 0:i.force)&&i.force()})}},t.postUpdate=function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=e.transactions[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value,c=!0,u=!1,s=void 0;try{for(var h,v,p=l.effects[Symbol.iterator]();!(c=(v=p.next()).done);c=!0){var g=(h=this,function(){var t=v.value;if(t.is(z)){var n=!0,i=!1,o=void 0;try{for(var a,l=h.clients[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;if(t.value.client===c.clientId){(function(e,t,n){return(0,r._)(function(){var r,i,o,a,l,c,u,s,h,v,p;return(0,f.YH)(this,function(f){switch(f.label){case 0:if(m.Command.is(e))return t.request.executeCommand(e.command,e.arguments),[2];if(!(!e.edit&&e.data)||!((void 0===(i=null==(r=t.getServerCapabilities())?void 0:r.codeActionProvider)?"undefined":(0,d._)(i))==="object"&&i.resolveProvider))return[3,2];return[4,t.request.resolveCodeAction(e)];case 1:if("error"in(o=f.sent()))return y.vF.error("LSP: Error resolving code action: ".concat(o.error.message),{action:JSON.stringify(e),clientId:t.clientId}),[2];if(!0===o.cancelled||!o.result)return[2];e=o.result,f.label=2;case 2:if(a=e.edit,l=e.command,a&&(0,w.i)({edit:a,fs:n,client:t}),l&&"java.apply.workspaceEdit"===l.command&&l.arguments){c=!0,u=!1,s=void 0;try{for(h=l.arguments[Symbol.iterator]();!(c=(v=h.next()).done);c=!0)p=v.value,m.WorkspaceEdit.is(p)&&(0,w.i)({edit:p,fs:n,client:t})}catch(e){u=!0,s=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw s}}}return l&&t.request.executeCommand(l.command,l.arguments),[2]}})})()})(t.value.action,c,h.fs).then(function(){var e,n;null==(e=(n=t.value).onComplete)||e.call(n)});break}}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}return e.view.dispatch({effects:[N.of(null),H.of({force:!1})]}),{v:void 0}}}());if("object"===(0,d._)(g))return g.v}}catch(e){u=!0,s=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw s}}}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}},t.destroy=function(){this.destroyed=!0;var e=!0,t=!1,n=void 0;try{for(var r,i=this.clients[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value,a=this.inflightRequestId.get(o.clientId);a&&o.notify.cancelRequest(a)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}},t.fetch=function(e,t){return(0,r._)(function(){var n,r,i,o,a,u,s,d,h,v;return(0,f.YH)(this,function(f){switch(f.label){case 0:if(n=this,!I(e))return[2];if(!(r=e.facet(x.Md)))throw Error("fileName not found");return i=this.doRequestDebounced({path:r,triggerKind:(null==t?void 0:t.force)?m.CodeActionTriggerKind.Invoked:m.CodeActionTriggerKind.Automatic,only:null==t?void 0:t.only},null==t?void 0:t.selection),o=null==t?void 0:t.force,a=null==t?void 0:t.autofix,u=null==t?void 0:t.silent,o&&!u&&(0,b.o8)(this.view,i),o&&this.doRequestDebounced.flush(),[4,i];case 1:if(s=f.sent(),this.destroyed||!0===s.cancelled||(this.inflightRequestId.clear(),!s||"error"in s||!s.result||null===this.inflightPosition))return[2,null];if(d=s.result,this.view.dispatch({effects:B.of(new Z(d).range(this.inflightPosition))}),!o)return[2];if(!d.length){if(u)return[2];return[2,(0,_.A)(this.view,{message:"No ".concat(a?"auto fixes":"code actions"," available"),offset:this.inflightPosition})]}if(h=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.field(j).iter();n.value;)s=n.value.range(n.from,n.to),n.next();if(s){var r=null!=(d=null==t?void 0:t.selection)?d:e.selection.main,i=r.from,o=r.to,a={start:(0,A.Z3)(e.doc,i),end:(0,A.Z3)(e.doc,o)},l=!0,c=!1,u=void 0;try{for(var s,d,f,h=s.value.actions[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var v=f.value;if(G(v.action)){var p=!0,g=!1,y=void 0;try{for(var w,x,b=(null!=(w=v.action.diagnostics)?w:[])[Symbol.iterator]();!(p=(x=b.next()).done);p=!0){var S=x.value;if((0,A.Kk)(S.range,a))return v}}catch(e){g=!0,y=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw y}}}}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}if((null==t?void 0:t.only)&&t.only.includes(m.CodeActionKind.SourceFixAll))return s.value.actions.find(function(e){return W(e.action,m.CodeActionKind.SourceFixAll)})}}(this.view.state,t),!a||!h){if(u)return[2];return[2,K(this.view,d,null==t||null==(v=t.selection)?void 0:v.from)]}return[2,new Promise(function(e){return n.view.dispatch({effects:z.of((0,c._)((0,l._)({},h),{onComplete:e}))})})]}})}).call(this)},t.doRequestImmediately=function(e){return(0,r._)(function(e){var t,n,i,o,a,l,c,u,s,d,h;function v(e){return e.filter(function(e){return e.isOpen(n)&&(0,E.A)(e).isCodeActionsSupported})}return(0,f.YH)(this,function(p){switch(p.label){case 0:if(t=this,n=e.path,i=e.originalRange,o=e.adjustedRange,a=e.triggerKind,l=e.only,c=e.doNotRequestNearbyDiagnostics,!(u=v(this.clients)).length)return[2,{result:null,cancelled:!1}];return[4,Promise.all(u.map(function(e){return(0,r._)(function(){var t,r;return(0,f.YH)(this,function(c){return(t=this.inflightRequestId.get(e.clientId))&&e.notify.cancelRequest(t),r=e.generateId(),this.inflightRequestId.set(e.clientId,r),this.inflightPosition=(0,A.TU)(this.view.state.doc,i.start),[2,e.request.codeActions(n,null!=o?o:i,{id:r},{only:l,triggerKind:a}).then(function(t){return{clientId:e.clientId,requestId:r,response:t}})]})}).call(t)}))];case 1:var g;if((s=p.sent()).every(function(e){return!0===e.response.cancelled}))return[2,{result:null,cancelled:!0}];if(d=s.flatMap(function(e){var n,r=e.clientId,i=e.requestId,o=e.response;return i===t.inflightRequestId.get(r)&&!1===o.cancelled?null==(n=o.result)?void 0:n.map(function(e){return{client:r,action:e}}):null}).filter(Boolean),g=function(e,t){return e.line===t.line?Math.abs(e.character-t.character):1/0},!(h=!(c||a!==m.CodeActionTriggerKind.Invoked||l&&!l.find(function(e){return e===m.CodeActionKind.QuickFix})||d.find(function(e){return W(e.action,m.CodeActionKind.QuickFix)}))&&v(t.clients).flatMap(function(e){return e.getDiagnostics(n).filter(function(e){var t=e.range,n=t.start,r=t.end;return n.line===i.start.line||n.line===i.end.line||r.line===i.start.line||r.line===i.end.line}).map(function(e){return{diagnostic:e,distance:Math.min(g(e.range.start,i.start),g(e.range.start,i.end),g(e.range.end,i.start),g(e.range.end,i.end))}}).sort(function(e,t){return e.distance-t.distance})}))||0===h.length)return[2,{result:d,cancelled:!1}];return[2,this.doRequestImmediately({path:n,originalRange:i,adjustedRange:h[0].diagnostic.range,triggerKind:a,only:l,doNotRequestNearbyDiagnostics:!0})]}})}).apply(this,arguments)},e}(),K=function(e,t,n){var r=function(e){switch(e){case m.CodeActionKind.Refactor:return"Refactor";case m.CodeActionKind.Source:return"Source Action";case m.CodeActionKind.QuickFix:return"Quick Fix";default:return e}},i=t.reduce(function(e,t){var n,r,i;return r=m.Command.is(t.action)?m.CodeActionKind.Empty:null!=(n=t.action.kind)?n:m.CodeActionKind.Empty,r.startsWith(m.CodeActionKind.Refactor)?r=m.CodeActionKind.Refactor:r.startsWith(m.CodeActionKind.Source)?r=m.CodeActionKind.Source:(r.startsWith(m.CodeActionKind.QuickFix)||r===m.CodeActionKind.Empty)&&(r=m.CodeActionKind.QuickFix),e.set(r,(null!=(i=e.get(r))?i:[]).concat(t))},new Map);(0,Y.e)(e,{match:L.G2,data:{type:"context",label:"More actions",icon:(0,h.Y)(F.A,{})},commands:function(){return Array.from(i.entries()).sort(function(e,t){return t[0]===m.CodeActionKind.QuickFix?1:-1}).map(function(t){var n=(0,s._)(t,2),i=n[0],o=n[1];return{data:{type:"context",label:r(i),icon:(0,h.Y)(F.A,{})},commands:function(){return o.sort(function(e,t){return G(e.action)?-1:1}).map(function(t){return{match:L.G2,data:{type:"action",icon:(0,h.Y)(R.A,{}),label:t.action.title,run:function(){e.dispatch({effects:z.of(t)})}}}})}}})}},n),e.dispatch({effects:O.of(null)})};function G(e){return!m.Command.is(e)&&!0===e.isPreferred}function W(e,t){return!m.Command.is(e)&&void 0!==e.kind&&e.kind.startsWith(t)}var $=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.force,i=void 0!==r&&r,o=n.silent,a=n.selection,s=void 0===a?e.state.selection.main:a,d=(0,u._)(n,["force","silent","selection"]);if(!I(e.state))return i&&"function"==typeof i&&Promise.resolve().then(function(){return i()}),!1;var f=(0,l._)({force:i,silent:void 0!==o&&o,selection:s},d),h=e.state.field(j);if(i)return e.dispatch({effects:[H.of((0,c._)((0,l._)({},f),{force:i})),!f.silent?p.Lz.scrollIntoView(s.from,{yMargin:20}):void 0].filter(Boolean)}),!0;for(var v=h.iter();v.value;)t=v.value.range(v.from,v.to),v.next();if(!t||!t.value.actions.length||!t.value.actions.some(function(e){return W(e.action,m.CodeActionKind.QuickFix)})&&(!f.only||f.only.some(function(e){return e===m.CodeActionKind.QuickFix}))||t.to<s.from||t.from>s.to)return $(e,(0,c._)((0,l._)({},f),{force:!0}));var g=t.value.actions.filter(function(e){return(!f.autofix||!!G(e.action))&&(!f.only||!!f.only.some(function(t){return W(e.action,t)}))});if(f.autofix){if(0===g.length)return(0,_.A)(e,{message:"No auto fixes available",offset:s.from}),!0;if(1===g.length)return e.dispatch({effects:z.of(g[0])}),!0}return g.length?(f.silent||K(e,g,null==s?void 0:s.from),!0):$(e,(0,c._)((0,l._)({},f),{force:!0}))},Q=function(e){var t,n;return!!I(e.state)&&null!=(n=null==(t=e.state.facet(S.q))?void 0:t.isSourceActionsSupported)&&!!n&&$(e,{force:!0,only:[m.CodeActionKind.Source]})};function J(e,t){return[j,p.Z9.define(function(n){return new V(n,e,t)},{provide:function(e){return p.Lz.updateListener.of(function(t){var n;return null==(n=t.view.plugin(e))?void 0:n.postUpdate(t)})}})]}var X=v.sj.define({combine:function(e){return e.some(Boolean)}})},39042:(e,t,n)=>{"use strict";n.d(t,{CR:()=>d,bg:()=>f});var r=n(17844),i=n(93629),o=n(17459),a=n(34837),l=n(21462),c=n(21897),u=n(42793),s=n(18712),d=(0,u.AH)([s.wp.color.accentNegativeStronger]),f=(0,l.forwardRef)(function(e,t){var n=e.dataCy,l=(0,o._)(e,["dataCy"]);return(0,a.Y)(c.b,(0,i._)((0,r._)({},l),{"data-cy":n,css:d,ref:t}))})},40247:(e,t,n)=>{"use strict";n.d(t,{CB:()=>l,EN:()=>s,HB:()=>a,HH:()=>u,Hl:()=>i,M:()=>r,am:()=>o,nm:()=>c});var r=225,i=450,o=4,a=9e4,l=4e3,c=function(e){return e[e.DEFAULT=50]="DEFAULT",e[e.EMPTY_BLOCK=350]="EMPTY_BLOCK",e}({}),u=new Set([";",")","}","]","{"]),s=new Set([" ","\n","	",")","]","}",'"',"'","`",";"])},40536:(e,t,n)=>{"use strict";n.d(t,{X:()=>c});var r=n(12694),i=n(21462),o=n(47993),a=n(92023),l=n(40872);function c(){var e=(0,l.yB)(),t=(0,r._)((0,i.useState)(null),2),n=t[0],c=t[1];return(0,i.useEffect)(function(){var t=function(){(0,o.flushSync)(function(){c(null)})},n=function(e){"created"===e.status?c({id:e.session.id,from:e.session.from,to:e.session.to}):"closed"===e.status&&t()};if(e){var r=e.transport.sessions.get(a.wG);return r&&n({status:"created",session:r}),e.transport.addEventListener("sessionStatus",n),function(){t(),e.transport.removeEventListener("sessionStatus",n)}}},[e]),n}},40872:(e,t,n)=>{"use strict";n.d(t,{Ve:()=>k,yB:()=>A});var r=n(29935),i=n(17844),o=n(93629),a=n(12694),l=n(82643),c=n(34837),u=n(21462),s=n(90629),d=n(48686),f=n(73920),h=n(92023),m=n(86103),v=n(69071),p=n(47737),g=n(93144),y=n(72951),w=n(91539),x=n(22198),b=n(27172),S=n(95570),_=n(64946),C=(0,u.createContext)(null);function A(){return(0,u.useContext)(C)}function k(e){var t=e.currentUsername,n=e.replId,r=e.children;return(0,c.Y)(L,{replId:n,currentUsername:t,children:r})}var E=function(e,t,n){var r;if(v.vF[null!=n?n:"info"](e,{river:t,riverTarget:"pid2",riverVersion:h.E_}),null==t||null==(r=t.tags)?void 0:r.includes("invariant-violation")){var i=Error(e);s.v4(function(e){e.setTag("pid2",!0),e.setExtras(t),s.Cp(i)})}},Y=window.location.search.includes("debug=1")?function(e,t,n){S[null!=n?n:"info"](e,t),E(e,t,n)}:E,D=_.env.CI?{connectionTimeoutMs:6e4,handshakeTimeoutMs:6e4,sessionDisconnectGraceMs:12e4}:{};function L(e){var t=e.currentUsername,n=e.replId,v=e.children,S=(0,w.iO)(),_=(0,a._)((0,u.useState)(!1),2),A=_[0],k=_[1],E=(0,p.m5)(),L=(0,m._P)({controlName:"flag-pid2-no-bg-reconnect"})&&E,T=(0,a._)((0,u.useState)(null),2),U=T[0],R=T[1],F=(0,u.useRef)({});return(0,u.useEffect)(function(){var e="".concat(t,"-").concat((0,d.Ak)(4)),c=(0,a._)(function(e){var t,n=e.clientId,i=e.replId,o=e.onSessionStatusChange,a=e.onSessionTransitionChange,c=e.onProtocolError,u=e.onRetryBudgetExhausted,s=e.logLevel,d=e.overrideLog,m=e.overrideGetWs,v=e.overrideGetToken,p=e.noBgReconnectEnabled,w=(0,h.Ay)(n,function(){return(0,r._)(function(){var e;return(0,l.YH)(this,function(n){return e=Date.now(),Y("pid2: getting ws"),[2,(null!=m?m:function(){return(0,r._)(function(){var e,n;return(0,l.YH)(this,function(o){switch(o.label){case 0:return[4,(0,r._)(function(){var e;return(0,l.YH)(this,function(t){switch(t.label){case 0:return e={replId:i,isLoggedIn:!0},[4,(0,b.E)()];case 1:return e.requestedPid2Version=t.sent(),e.format=f.api.token.ReplToken.WireFormat.RIVER,[4,(0,y.A)()];case 2:return[4,g.A.apply(void 0,[(e.overrideClusterMetadata=t.sent(),e)])];case 3:return[2,t.sent()]}})})()];case 1:return(n=new URL((e=o.sent()).gurl)).pathname="/wsv2/".concat(e.token),t=e.token,[2,new WebSocket(n.toString())]}})})()})(i).finally(function(){Y("pid2: ws open",{extras:{duration:Date.now()-e}})})]})})()},null!=v?v:function(){return t},null!=d?d:Y,s,D);function x(){Y("pid2: visibility: attempting connection",{extras:{noBgReconnectEnabled:p}}),w.transport.reconnectOnConnectionDrop=!0,w.transport.connect(h.wG)}function S(){Y("pid2: visibility: disabling reconnect",{extras:{noBgReconnectEnabled:p}}),w.transport.reconnectOnConnectionDrop=!1}function _(e){null==o||o(e),"closed"===e.status&&setTimeout(function(){"visible"===document.visibilityState&&"open"===w.transport.getStatus()&&x()},0)}function C(e){null==a||a(e)}function A(e){if(e.type===h.dU.RetriesExceeded){S(),w.transport.retryBudget.startRestoringBudget(),u();return}c(e),w.transport.close()}function k(){"visible"===document.visibilityState?x():p&&S()}return w.transport.addEventListener("protocolError",A),w.transport.addEventListener("sessionStatus",_),w.transport.addEventListener("sessionTransition",C),document.addEventListener("visibilitychange",k),window.addEventListener("online",x),window.addEventListener("offline",S),!0===window.navigator.onLine&&x(),[w,function(){w.transport.removeEventListener("sessionStatus",_),w.transport.removeEventListener("sessionTransition",C),w.transport.removeEventListener("protocolError",A),w.transport.close(),document.removeEventListener("visibilitychange",k),window.removeEventListener("online",x),window.removeEventListener("offline",S)}]}({clientId:e,replId:n,onRetryBudgetExhausted:function(){Y("pid2: retry budget exhausted, showing refresh modal",{extras:{noBgReconnectEnabled:L}},"warn"),k(!0)},onSessionStatusChange:function(t){"created"===t.status?(F.current.sessionStart=Date.now(),Y("pid2: session started",{sessionId:t.session.id,clientId:e,extras:{noBgReconnectEnabled:L}})):"closed"===t.status&&F.current.sessionStart&&Y("pid2: session ended",{sessionId:t.session.id,clientId:e,extras:{sessionDuration:Date.now()-F.current.sessionStart}}),("created"===t.status||"closed"===t.status)&&s.ZQ({category:"pid2",message:"session ".concat(t.status),data:t})},onSessionTransitionChange:function(t){"Connecting"===t.state&&(F.current.connectionStart=Date.now(),Y("pid2: connecting",{sessionId:t.id,clientId:e})),"Handshaking"===t.state&&(F.current.handshakeStart=Date.now()),"Connected"===t.state&&(F.current.connectionStart&&F.current.handshakeStart&&Y("pid2: connected",{sessionId:t.id,clientId:e,extras:(0,o._)((0,i._)({},F.current),{connectionDuration:F.current.handshakeStart-F.current.connectionStart,handshakeDuration:Date.now()-F.current.handshakeStart,totalDuration:Date.now()-F.current.connectionStart})}),F.current.connectionStart=void 0,F.current.handshakeStart=void 0),"NoConnection"===t.state&&(Y("pid2: no connection"),F.current.connectionStart=void 0,F.current.handshakeStart=void 0),s.ZQ({category:"pid2",message:"session transition ".concat(t.state),data:t})},onProtocolError:function(e){if(s.ZQ({category:"pid2",message:"protocol error",data:e}),e.type===h.dU.HandshakeFailed)return void k(!0);S({error:Error(e.message),tags:{pid2:!0},origin:"pid2: RiverClientProvider",extras:e})},logLevel:"info",noBgReconnectEnabled:L}),2),u=c[0],m=c[1];return R(u),function(){R(null),m()}},[t,n,S,L]),(0,c.FD)(C.Provider,{value:U,children:[(0,c.Y)(x.A,{isOpen:A}),v]})}},41118:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,z:()=>l});var r=n(12694),i=n(22531),o=n(86846);function a(e){var t,n,r,a,l,c,u,s=e.getServerCapabilities();return{isAutoCompleteSupported:!!(null==s?void 0:s.completionProvider),isCompletionItemResolveSupported:!!(null==s||null==(t=s.completionProvider)?void 0:t.resolveProvider),isCompletionLabelDetailsSupported:!!(null==s||null==(r=s.completionProvider)||null==(n=r.completionItem)?void 0:n.labelDetailsSupport),isDocumentSymbolSupported:!!(null==s?void 0:s.documentSymbolProvider),isSemanticTokensFullSupported:!!(null==s||null==(a=s.semanticTokensProvider)?void 0:a.full),isSemanticTokensDeltaSupported:!!((null==s||null==(l=s.semanticTokensProvider)?void 0:l.full)&&"object"===(0,i._)(s.semanticTokensProvider.full)&&s.semanticTokensProvider.full.delta),isSemanticTokensRangeSupported:!!(null==s||null==(c=s.semanticTokensProvider)?void 0:c.range),isFindReferencesSupported:!!(null==s?void 0:s.referencesProvider),isFindDefinitionSupported:!!(null==s?void 0:s.definitionProvider),isFindTypeDefinitionSupported:!!(null==s?void 0:s.typeDefinitionProvider),isFindImplementationSupported:!!(null==s?void 0:s.implementationProvider),isFormatSupported:!!(null==s?void 0:s.documentFormattingProvider),isFormatRangeSupported:!!(null==s?void 0:s.documentRangeFormattingProvider),isTextDocumentSyncSupported:!!(null==s?void 0:s.textDocumentSync),isTextDocumentSyncSaveSupported:!!("object"===(0,i._)(null==s?void 0:s.textDocumentSync)?s.textDocumentSync.save:!!(null==s?void 0:s.textDocumentSync)),isHoverSupported:!!(null==s?void 0:s.hoverProvider),isRenameSupported:!!(null==s?void 0:s.renameProvider),isCodeActionsSupported:!!(null==s?void 0:s.codeActionProvider),isSourceActionsSupported:!!(null==s?void 0:s.codeActionProvider)&&"object"===(0,i._)(null==s?void 0:s.codeActionProvider)&&(null==(u=s.codeActionProvider.codeActionKinds)?void 0:u.find(function(e){return e.startsWith(o.CodeActionKind.Source)}))!==void 0,isSignatureHelpSupported:!!(null==s?void 0:s.signatureHelpProvider)}}function l(e){var t=e.flat();if(!t.length)return null;var n={isAutoCompleteSupported:!1,isDocumentSymbolSupported:!1,isSemanticTokensFullSupported:!1,isSemanticTokensDeltaSupported:!1,isSemanticTokensRangeSupported:!1,isCompletionItemResolveSupported:!1,isCompletionLabelDetailsSupported:!1,isFindReferencesSupported:!1,isFindDefinitionSupported:!1,isFindTypeDefinitionSupported:!1,isFindImplementationSupported:!1,isFormatSupported:!1,isFormatRangeSupported:!1,isTextDocumentSyncSupported:!1,isTextDocumentSyncSaveSupported:!1,isHoverSupported:!1,isRenameSupported:!1,isCodeActionsSupported:!1,isSourceActionsSupported:!1,isSignatureHelpSupported:!1},i=!0,o=!1,a=void 0;try{for(var l,c=t[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,s=!0,d=!1,f=void 0;try{for(var h,m=Object.entries(u)[Symbol.iterator]();!(s=(h=m.next()).done);s=!0){var v=(0,r._)(h.value,2),p=v[0],g=v[1];g&&(n[p]=g)}}catch(e){d=!0,f=e}finally{try{s||null==m.return||m.return()}finally{if(d)throw f}}}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}},41390:(e,t,n)=>{"use strict";n.d(t,{Mo:()=>l,rp:()=>a,yU:()=>o});var r=n(1196);n(36163);var i=n(12111);function o(e){return".breakpoints"===e.toString()||".cache"===e.toString()||(0,r.fG)((0,r.mc)(".cache"),e)||".local"===e.toString()||(0,r.fG)((0,r.mc)(".local"),e)}function a(e){return i.ap.includes(e.toString())}function l(e,t){if(!t)return!1;var n=(0,r.q)(e).slice(1),i=!0,o=!1,a=void 0;try{for(var l,c=t[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,s=!0,d=!1,f=void 0;try{for(var h,m=n[Symbol.iterator]();!(s=(h=m.next()).done);s=!0)if(h.value.toString().match(u))return!0}catch(e){d=!0,f=e}finally{try{s||null==m.return||m.return()}finally{if(d)throw f}}}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return!1}},41479:(e,t,n)=>{"use strict";n.d(t,{I:()=>l});var r=n(86105),i=n(21462),o=n(40872),a=n(40536);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,o.yB)(),l=(0,a.X)();return(0,i.useMemo)(function(){return n&&l?e(n.client,l):null},[n,l].concat((0,r._)(t)))}},41897:(e,t,n)=>{"use strict";n.d(t,{GS:()=>s,Vg:()=>f,Y9:()=>u,nt:()=>d});var r=n(35992),i=n(76957),o=n(83028),a=(0,i.eU)(new Map),l=(0,i.eU)(null,function(e,t,n,i){return t(a,function(e){return(0,r.jM)(e,function(e){null===i?e.delete(n):e.set(n,i)})})}),c=(0,i.eU)(null,function(e,t,n){return t(a,function(e){return(0,r.jM)(e,function(e){var t=!0,r=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value;e.set(l,"exclude")}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}})})});function u(){return(0,o.ob)(c)}function s(){return(0,o.ob)(l)}function d(){return(0,o.h)(a)}function f(){return(0,o.Ou)(a)}},43290:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(21462),i=n(90629),o=n(79203),a=n(30284),l=n(86103),c=n(35897),u=n(34778),s=n(68689),d=n(33369);function f(e){var t=e.context,n=(0,c.A)().showError,f=(0,o.md)(s.Bx),h=(0,o.md)(s.PG),m=(0,o.md)(s.AW),v=(0,o.Xr)(s.ki),p=(0,o.md)(s.f5),g=(0,o.md)(s.fI),y=(0,o.Xr)(s.gN),w=(0,l._P)({type:"string",controlName:"flag-cartographer-edits-version",default:"0.2.0"}),x=!!(null==m?void 0:m.includes("standalone")),b=!!(m&&m.localeCompare(w,void 0,{numeric:!0})>-1),S=!x&&b&&"agent"===t,_=(0,r.useCallback)(function(){try{y(),(0,d.vB)()}catch(e){n("Failed to clear visual selection"),i.Cp(e)}},[n,y]),C=(0,r.useCallback)(function(){try{if(!h)return void n("Error loading visual selector");(0,d.J8)(!f,S),f&&(0,u.u4)(a.AZ.VISUAL_SELECTOR_ENABLED,{context:t})}catch(e){n("Failed to toggle visual selector"),i.Cp(e)}},[h,f,n,S,t]),A=(0,r.useCallback)(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.isEditingEnabled,l=r.shouldClearSelection;try{if(!h)return void n("Error loading visual selector");(void 0===l||l)&&_(),(0,d.J8)(e,S&&(void 0===o||o)),e&&(0,u.u4)(a.AZ.VISUAL_SELECTOR_ENABLED,{context:t})}catch(e){n("Failed to toggle visual selector"),i.Cp(e)}},[S,h,n,_,t]);return{isActive:f,isSelectorScriptLoaded:h,isEditingSupported:S,element:p,setElement:v,screenshotBlob:g,toggleVisualEditor:C,setVisualEditorEnabled:A,clearSelection:_}}},43820:(e,t,n)=>{"use strict";n.d(t,{l:()=>k});var r,i=n(83846),o=n(17844),a=n(93629),l=n(17459),c=n(34837);n(21462);var u=n(66340),s=n(33669),d=n(83625),f=n(39534),h=n(70764),m=n(51292),v=n(19944),p=n(18712),g=n(39042),y=n(47306),w=n(37379),x=n(28611),b=n(56374),S=(0,v.v)(["selectButtonBorderColor"]),_=S.cssVars,C=S.styleTokens,A=(0,h.x)({select:[p.wp.viewStyle,p.wp.colWithGap(4),p.wp.position.relative,p.wp.minHeight(32),p.wp.borderRadius("default"),(r={},(0,i._)(r,_.selectButtonBorderColor,f.LU.outlineDefault),(0,i._)(r,"&[data-invalid]",(0,i._)({},_.selectButtonBorderColor,f.LU.accentNegativeStronger)),r)],button:[p.wp.reset.button,p.wp.viewStyle,m.t.filled,p.wp.p(8),p.wp.color.foregroundDefault,p.wp.height(32),p.wp.display.flex,p.wp.rowWithGap(8),p.wp.justify.spaceBetween,{borderRadius:"inherit"},{borderColor:C.selectButtonBorderColor}],value:[p.wp.viewStyle,p.wp.rowWithGap(8),p.wp.align.center,p.wp.width("calc(100% - 20px)")],popover:[{borderColor:f.LU.outlineDimmer,minWidth:"var(--trigger-width)",maxWidth:"calc(var(--trigger-width) + 200px)",padding:4}]});function k(e){var t=e.label,n=e.children,r=e.dataCy,i=e.items,f=(0,l._)(e,["label","children","dataCy","items"]),h=(0,u.wR)();return E({id:f.id,label:t,"aria-labelledby":f["aria-labelledby"],"aria-label":f["aria-label"]}),(0,c.FD)(s.l6,(0,a._)((0,o._)({},f),{"data-cy":r,css:A.select,children:[h?null:(0,c.FD)(c.FK,{children:[t?(0,c.Y)(y.J,{children:t}):null,(0,c.FD)(d.$,{css:A.button,children:[(0,c.Y)(s.yv,{css:A.value}),(0,c.Y)(b.A,{})]}),(0,c.Y)(x.g_,{css:A.popover,background:"higher",children:(0,c.Y)(w.qF,{items:i,children:n})})]}),(0,c.Y)(g.bg,{})]}))}var E=function(){}},49078:(e,t,n)=>{"use strict";n.d(t,{C:()=>_,q:()=>A});var r=n(29935),i=n(82643),o=n(34837),a=n(49069),l=n(45773),c=n(60490),u=n(6862),s=n(69420),d=n(59911),f=n(68803),h=n(14603),m=n(87145),v=n(41118),p=n(77537),g=n(1224),y=n(73635),w=n(80325),x=a.Pe.define(),b=a.Pe.define();function S(e){var t,n;return null!=(n=null==(t=e.facet(s.q))?void 0:t.isRenameSupported)&&n}var _=function(e){if(!S(e.state))return!1;var t=e.state.selection.main.head;return e.state.wordAt(t)?(setTimeout(function(){(0,p.e)(e,{match:g.G2,data:{type:"context",label:"Rename all occurrences",icon:(0,o.Y)(w.A,{})},commands:function(t){var n=t.active,a=t.searchQuery;return n&&a?[{match:function(){return{score:1}},data:{type:"action",label:"Rename",icon:(0,o.Y)(y.A,{}),keyboardShortcut:"Enter",run:function(){return(0,r._)(function(){return(0,i.YH)(this,function(t){return e.dispatch({effects:b.of(a)}),[2]})})()}}}]:[]}},t)},2),e.dispatch({effects:x.of(t)}),!0):((0,d.A)(e,{message:"You cannot rename this element",offset:t}),!1)},C=a.sU.define({create:function(){return null},update:function(e,t){return(null!==e&&(e=t.changes.mapPos(e,-1,a.iR.TrackDel)),(0,f.C)(t,x,function(t){e=t.value}),e&&(e>t.state.doc.length||!t.state.wordAt(e)||!S(t.state)))?null:e}});function A(e,t){return[C,l.Z9.define(function(n){var o=null;return{onRename:function(t,a){return(0,r._)(function(){var r,l,s,d;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(!S(n.state))return[2,this.cancelInflightRequest()];if(this.cancelInflightRequest(),!(r=n.state.facet(c.Md)))throw Error("Expected non-null file path");if(null===(l=n.state.field(C)))return[2];return o={clientId:t.clientId,requestId:t.generateId()},[4,t.request.rename(r,(0,h.Z3)(n.state.doc,l),a,{id:o.requestId,tap:function(e){return(0,u.o8)(n,e)}})];case 1:if((s=i.sent()).cancelled)return[2];if("error"in s)throw Error("Something went wrong renaming ".concat(s.error.message));if(!(d=s.result))return[2];return(0,m.i)({edit:d,fs:e,client:t}),n.dispatch({effects:x.of(null)}),[2]}})}).call(this)},cancelInflightRequest:function(){if(o){var e=!0,n=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var l=i.value;if(l.clientId===o.clientId){l.notify.cancelRequest(o.requestId);break}}}catch(e){n=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}o=null}},update:function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=e.transactions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,c=!0,u=!1,s=void 0;try{for(var d,f=l.effects[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=d.value;if(h.is(b)){var m=!0,p=!1,g=void 0;try{for(var y,w=t[Symbol.iterator]();!(m=(y=w.next()).done);m=!0){var x=y.value;if((0,v.A)(x).isRenameSupported)return void this.onRename(x,h.value)}}catch(e){p=!0,g=e}finally{try{m||null==w.return||w.return()}finally{if(p)throw g}}}}}catch(e){u=!0,s=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw s}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},destroy:function(){this.cancelInflightRequest()}}})]}},51107:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(83265),i=function(e){if(e.state.selection.main.empty){var t=e.state.wordAt(e.state.selection.main.head);if(!t)return!1;e.dispatch({selection:t})}return(0,r.wY)(e)}},51488:(e,t,n)=>{"use strict";n.d(t,{i:()=>p});var r=n(45773),i=n(85230),o=n(64678),a=n.n(o),l=n(39534);let c=a()(function(e){var t=(0,i.Ay)(e).alpha(.5).hex();return r.Lz.theme({".cm-activeLineGutter":{backgroundColor:t,color:l.LU.foregroundDefault}})});var u=n(17844),s=n(52422),d=l.LU.backgroundDefault,f=l.LU.foregroundDefault,h=r.Lz.theme({"&":{color:f,"&.cm-focused":{outline:"0 none"}},".cm-editor":{backgroundColor:d},".cm-content":{fontFamily:l.LU.fontFamilyCode},".cm-line":{position:"relative",lineHeight:l.LU.lineHeightSmall},".cm-scroller":{overflow:"auto",fontFamily:l.LU.fontFamilyCode},".cm-gutters":{backgroundColor:l.LU.backgroundDefault,color:l.LU.foregroundDimmest,border:"none",minWidth:"fit-content",display:"flex",justifyContent:"flex-end","-webkit-user-select":"none","user-select":"none"},".cm-selectionBackground":{background:l.LU.accentPrimaryDimmest+" !important",minWidth:"0.325ch"},".cm-selected":{background:l.LU.accentPrimaryDimmest+" !important"},"&.cm-focused .cm-selectionBackgroundFocused":{background:l.LU.accentPrimaryDimmest},".cm-cursor, .cm-dropCursor":{borderLeftColor:l.LU.accentPrimaryDefault,borderLeftWidth:"2px",borderRadius:"2px"},".cm-cursorFocused":{borderLeftColor:l.LU.accentPrimaryDefault},".cm-specialChar":{color:l.LU.accentNegativeDefault},".cm-placeholder":{color:l.LU.foregroundDimmer,display:"inline-block"},".cm-textfield":{border:"1px solid "+l.LU.outlineDimmest,borderRadius:l.LU.borderRadius4,backgroundColor:d},".cm-foldPlaceholder":{padding:"0 ".concat(l.LU.space4),borderRadius:l.LU.borderRadius4,backgroundColor:l.LU.backgroundRoot,border:"none",color:l.LU.foregroundDimmer},".cm-selectionMatch":{backgroundColor:l.LU.outlineDimmest},".cm-panels":{backgroundColor:l.LU.backgroundOverlay,fontSize:l.LU.fontSizeSubheadDefault,color:f},".cm-panels-bottom":{borderTop:"1px solid "+l.LU.backgroundHigher,maxHeight:"30%"},".cm-vim-panel input":{color:l.LU.foregroundDefault},".cm-search":{padding:"".concat(l.LU.space8," ").concat(l.LU.space8," ").concat(l.LU.space4," !important")},".cm-search .cm-textfield":{margin:"".concat(l.LU.space2," ").concat(l.LU.space8," ").concat(l.LU.space2," 0 !important")},".cm-search input":{margin:"0 ".concat(l.LU.space4," 0 0"),cursor:"pointer"},".cm-search button":{color:l.LU.foregroundDefault,cursor:"pointer"},".cm-search .cm-button":{backgroundImage:"none",backgroundColor:l.LU.backgroundHigher,margin:"".concat(l.LU.space2," ").concat(l.LU.space8," ").concat(l.LU.space2," 0 !important")},".cm-searchMatch":{backgroundColor:l.LU.accentPrimaryDimmest},".cm-searchMatch-selected":{backgroundColor:l.LU.accentPrimaryDefault},".cm-matchingBracket, .cm-nonmatchingBracket":{color:"inherit"},".replit-tooltip":{backgroundColor:l.LU.backgroundHigher,color:l.LU.foregroundDefault,boxShadow:l.LU.shadow1,border:"1px solid "+l.LU.outlineDimmest,borderRadius:l.LU.borderRadius4,padding:l.LU.space4},".emmet-preview":{backgroundColor:l.LU.backgroundDefault,color:l.LU.foregroundDefault,boxShadow:l.LU.shadow1,border:"1px solid "+l.LU.outlineDimmest,borderRadius:l.LU.borderRadius4,padding:l.LU.space4},".emmet-preview .cm-line":{backgroundColor:l.LU.backgroundDefault+" !important"},".emmet-preview .cm-line::selection":{backgroundColor:l.LU.backgroundDefault+" !important"},".emmet-preview .cm-content":{padding:"0 !important"},".emmet-preview .cm-scroller":{zIndex:1},".cm-tooltip":{width:"max-content",maxWidth:"100%",boxShadow:l.LU.shadow1,borderRadius:l.LU.borderRadius4,border:"1px solid ".concat(l.LU.outlineDimmer),overflow:"hidden"},".cm-tooltip.cm-tooltip-hover":{animation:"showTooltip 0s ease-in 0.15s",border:"1px solid ".concat(l.LU.outlineDimmer),animationFillMode:"forwards",visibility:"hidden","& > *:not(:last-child)":{borderBottom:"1px solid ".concat(l.LU.outlineDimmer)}},".cm-tooltip.cm-tooltip-hover .rendered-markdown pre":{margin:"0px !important"},".cm-tooltip.cm-tooltip-hover .rendered-markdown p":{fontSize:l.LU.fontSizeDefault,margin:"0px !important",padding:"4px !important","&:not(:first-child)":{"&:first-of-type":{borderTop:"1px solid ".concat(l.LU.outlineDimmer)}}},"@keyframes showTooltip":{to:{visibility:"visible"}},".cm-tooltip.multiplayer-tooltip, .cm-contextual-ai-tooltip":{backgroundColor:"transparent",boxShadow:"none",border:"0 none",padding:"0px"},".cm-tooltip-lint":{backgroundColor:l.LU.backgroundHigher},".cm-tooltip.cm-completionInfo":{backgroundColor:l.LU.backgroundHigher,boxShadow:l.LU.shadow1,borderRadius:l.LU.borderRadius4,padding:"0 !important",borderColor:"transparent",zIndex:-1,maxHeight:(0,s.isMobile)()?"min(300px, 70vh)":"70vh",maxWidth:(0,s.isMobile)()?"min(470px, 80vw) !important":"min(300px, 30vw) !important",width:"100%",overflow:"auto",top:"0 !important"},".cm-completionInfo .rendered-markdown p":{fontSize:l.LU.fontSizeDefault},".cm-tooltip.cm-completionInfo.cm-completionInfo-right":(0,u._)({marginLeft:l.LU.space8},(0,s.isMobile)()?{left:"0% !important"}:null),".cm-tooltip.cm-completionInfo.cm-completionInfo-left":(0,u._)({marginRight:l.LU.space8},(0,s.isMobile)()?{right:"0% !important"}:null),".cm-tooltip-autocomplete":{overflow:"visible",minWidth:"260px",maxWidth:"min(430px, 95vw)","& > ul":{backgroundColor:l.LU.backgroundHigher,borderRadius:"calc(".concat(l.LU.borderRadius4," - 1px)"),boxShadow:l.LU.shadowDefault},"& > ul > li:hover":{backgroundColor:l.LU.accentPrimaryDimmest},"& > ul > li[aria-selected]":{backgroundColor:l.LU.accentPrimaryDimmer,color:l.LU.white}},".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:l.LU.fontFamilyCode},"& > ul > li":{display:"flex",flexDirection:"row",alignItems:"baseline",paddingTop:l.LU.space4,paddingBottom:l.LU.space4},"& > ul > li > *":{marginRight:l.LU.space4},"& > ul > li > *:last-child":{marginRight:0}},".cm-autocomplete-replit-icon":{display:"inline-block",paddingInline:l.LU.space4,"& > svg":{verticalAlign:"middle"}},"@keyframes fadeOut":{"0%":{opacity:1},"100%":{opacity:0}},".cm-tooltip-autocomplete .cm-completionMatchedText":{color:l.LU.accentPrimaryStronger,textDecoration:"unset"},".cm-panel":{height:"100%"},".cm-panel.cm-gotoLine, .cm-panel.cm-panel-lint":{backgroundColor:l.LU.backgroundDefault,color:l.LU.foregroundDimmer,fontSize:l.LU.fontSizeDefault,"& button":{backgroundImage:"none",backgroundColor:l.LU.interactiveBackground,borderRadius:l.LU.borderRadius4,borderWidth:0,color:l.LU.foregroundDefault,cursor:"pointer",textTransform:"capitalize",transition:"box-shadow 120ms ease-out",fontSize:l.LU.fontSizeSmall},"& button:hover":{backgroundColor:l.LU.interactiveBackgroundActive},"& button:focus":{boxShadow:"0 0 0 2px "+l.LU.accentPrimaryDefault,outline:"2px solid transparent",outlineOffset:"4px"}},".cm-panel.cm-gotoLine":{display:"flex",flexDirection:"row",padding:"6px","& label":{alignItems:"baseline",display:"flex",flexDirection:"row",fontSize:l.LU.fontSizeSmall},"& .cm-textfield":{borderRadius:l.LU.borderRadius4,fontSize:l.LU.fontSizeSmall,marginLeft:"4px",marginRight:"4px",transition:"box-shadow 120ms ease-out"},"& .cm-textfield:focus-visible":{borderColor:"transparent",boxShadow:"0 0 0 2px "+l.LU.accentPrimaryDefault,outline:"2px solid transparent",outlineOffset:"4px"}},".cm-panel.cm-panel-lint":{"& ul":{maxHeight:"15vh"},"& ul li, & ul:focus li":{cursor:"pointer","& .cm-diagnosticAction":{visibility:"hidden"},"&[aria-selected] .cm-diagnosticAction, &:hover .cm-diagnosticAction":{visibility:"visible"},"&[aria-selected]":{backgroundColor:l.LU.backgroundHigher},"&:not([aria-selected]):hover":{backgroundColor:l.LU.interactiveBackground}},'& button[name="close"]':{display:"flex",alignItems:"center",justifyContent:"center",height:"24px",width:"24px",fontSize:"24px",right:"4px",top:"4px",background:"none",color:l.LU.foregroundDimmer,"&:hover":{backgroundColor:l.LU.interactiveBackgroundActive}}}}),m=n(66787),v=n(17963),p=new(n(74309)).k(function(e,t,n){var i=[h,(0,m.A)(n),c(e.global.backgroundHigher),(0,v.A)(e.editor.syntaxHighlighting)];return t&&i.push(r.Lz.darkTheme.of(!0)),i})},52313:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(34837),a=n(25590);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M11.139 11.949c-.253.396-.51.82-.763 1.241-.18.3-.36.6-.537.883-.52.838-1.033 1.595-1.57 2.16-.542.57-1.035.868-1.5.93-.436.057-1.011-.073-1.78-.732a.75.75 0 1 0-.977 1.138c.98.84 1.967 1.21 2.953 1.08.957-.125 1.745-.703 2.391-1.382.65-.685 1.23-1.553 1.758-2.403a82.945 82.945 0 0 0 .798-1.316l.12.255.045.098c.21.45.418.895.626 1.315.44.889.919 1.742 1.5 2.36.604.641 1.375 1.086 2.357 1.008.925-.074 1.889-.605 2.934-1.52a.75.75 0 0 0-.988-1.129c-.955.836-1.616 1.118-2.065 1.153-.394.032-.748-.118-1.145-.54-.418-.444-.814-1.121-1.249-1.998-.2-.404-.4-.834-.612-1.287l-.044-.095c-.17-.362-.345-.737-.53-1.117.253-.396.51-.82.763-1.242.18-.3.36-.598.537-.882.52-.838 1.033-1.595 1.57-2.16.542-.57 1.035-.868 1.5-.93.436-.057 1.011.073 1.78.732a.75.75 0 0 0 .977-1.138c-.98-.84-1.967-1.21-2.953-1.08-.957.125-1.745.703-2.391 1.382-.65.685-1.23 1.553-1.758 2.403a82.181 82.181 0 0 0-.798 1.316 181.541 181.541 0 0 1-.165-.353c-.21-.45-.418-.895-.626-1.315-.44-.889-.919-1.742-1.5-2.36-.604-.641-1.375-1.086-2.356-1.008-.926.074-1.89.605-2.935 1.52a.75.75 0 0 0 .988 1.128c.955-.835 1.616-1.117 2.065-1.152.394-.032.748.118 1.145.54.418.444.814 1.121 1.249 1.998.2.404.4.834.612 1.287l.045.095c.169.362.344.737.529 1.117Z",clipRule:"evenodd"})}))}},53556:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(12694),i=n(21462);function o(){var e=(0,r._)((0,i.useState)(null),2),t=e[0],n=e[1],o=(0,r._)((0,i.useState)(null),2),a=o[0],l=o[1],c=(0,i.useCallback)(function(e){var t,r;n(null!=(t=null==e?void 0:e.view)?t:null),l(null!=(r=null==e?void 0:e.dom)?r:null)},[]);return(0,i.useMemo)(function(){return{ref:c,view:t,dom:a}},[c,t,a])}},53870:(e,t,n)=>{"use strict";n.d(t,{i:()=>y,y:()=>g});var r=n(62019),i=n(37743),o=n(48122),a=n(1833),l=n(17844),c=n(93629),u=n(17459),s=n(89264),d=n(49069),f=n(45773),h=n(64498),m="cm-animated-range-element",v=function(e){function t(e,n){(0,i._)(this,t),(d=(0,r._)(this,t)).id=Math.random().toString(36).substring(2,15),d.timestamp=e,d.class=n.class,d.style=n.style,d.validFor=n.validFor,d.duration=0,d.animations=[];var o=Array.isArray(n.animation)?n.animation:[n.animation],a=!0,u=!1,s=void 0;try{for(var d,f,h=o[Symbol.iterator]();!(a=(f=h.next()).done);a=!0){var m,v,p=f.value;p.duration+(null!=(m=p.delay)?m:0)+(null!=(v=p.endDelay)?v:0)>d.duration&&(d.duration=p.duration),d.animations.push((0,c._)((0,l._)({},p),{id:"".concat(d.id,"-").concat(d.animations.length)}))}}catch(e){u=!0,s=e}finally{try{a||null==h.return||h.return()}finally{if(u)throw s}}return d}return(0,a._)(t,e),t.prototype.eq=function(e){return this.id===e.id},t.range=function(e){return new t(performance.now(),e).range(e.from,e.to)},(0,o._)(t,[{key:"finished",get:function(){return performance.now()-this.timestamp>this.duration}}]),t}(d.FB),p=function(e){function t(){return(0,i._)(this,t),(0,r._)(this,t,arguments)}(0,a._)(t,e);var n=t.prototype;return n.stop=function(){if((void 0!==this.animationFrameHandle&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0),this.lastPlayedID)&&this.animate){var e=this.getAnimations(),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.id.startsWith(this.lastPlayedID)&&a.cancel()}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}this.lastPlayedID=void 0}},n.play=function(){if(this.animate){var e=this.getAttribute("data-id");if(this.lastPlayedID){if(e&&e===this.lastPlayedID)return;this.stop()}var t=e?function(e,t){for(var n=null,r=e;r;){var i=h.e.get(r);if(i){n=i;break}if(r.classList.contains("cm-editor")){n=f.Lz.findFromDOM(r);break}r=r.parentElement}if(!n)return null;var o=n.state.field(y,!1);if(!o||0===o.size)return null;for(var a=o.iter();a.value;){if(a.value.id===t)return a.value;a.next()}return null}(this,e):null;if(e&&t){this.lastPlayedID=e;var n=t.timestamp,r=t.duration,i=t.animations,o=performance.now()-n;if(!(o>r)){var a=!0,s=!1,d=void 0;try{for(var m,v=i[Symbol.iterator]();!(a=(m=v.next()).done);a=!0){var p,g=m.value,w=g.keyframes,x=(0,u._)(g,["keyframes"]),b=-o+(null!=(p=x.delay)?p:0);this.animate(w,(0,c._)((0,l._)({},x),{delay:b}))}}catch(e){s=!0,d=e}finally{try{a||null==v.return||v.return()}finally{if(s)throw d}}}}}},n.connectedCallback=function(){var e=this;this.isConnected&&(null!=this.animationFrameHandle||(this.animationFrameHandle=requestAnimationFrame(function(){e.play()})))},n.disconnectedCallback=function(){void 0!==this.animationFrameHandle&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)},n.attributeChangedCallback=function(e,t,n){var r=this;n&&(null!=this.animationFrameHandle||(this.animationFrameHandle=requestAnimationFrame(function(){r.play()})))},(0,o._)(t,null,[{key:"observedAttributes",get:function(){return["data-id"]}}]),t}((0,s._)(HTMLElement));customElements.get(m)||customElements.define(m,p);var g=d.Pe.define({map:function(e,t){var n=t.mapPos(e.from),r=t.mapPos(e.to);return n===e.from&&r===e.to?e:(0,c._)((0,l._)({},e),{from:n,to:r})}}),y=d.sU.define({create:function(){return d.om.empty},update:function(e,t){t.docChanged&&(e=e.map(t.changes));var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=t.effects[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;c.is(g)&&n.push(v.range(c.value))}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return(e.size>0||n.length>0)&&(e=e.update({filter:function(e,n,r){return!r.finished&&(!r.validFor||r.validFor(t.state))},add:n.length>0?n:void 0,sort:n.length>0||void 0})),e},provide:function(e){return f.Lz.outerDecorations.from(e,function(e){if(0===e.size)return f.NZ.none;for(var t=new d.vB,n=e.iter();n.value;){var r={"data-id":n.value.id};n.value.class&&(r.class=n.value.class),n.value.style&&(r.style=n.value.style);var i=f.NZ.mark({tagName:m,attributes:r});t.add(n.from,n.to,i),n.next()}return t.finish()})}})},54294:e=>{e.exports={colorPickerContainer:"ColorPicker_colorPickerContainer__Xjo6c",colorArea:"ColorPicker_colorArea__B68o3",colorThumb:"ColorPicker_colorThumb__JhqKh",sliders:"ColorPicker_sliders__kEcmq",colorSlider:"ColorPicker_colorSlider__9Qjl2",sliderTrack:"ColorPicker_sliderTrack__bJSzW",sliderThumb:"ColorPicker_sliderThumb__kXrdQ"}},55778:(e,t,n)=>{"use strict";n.d(t,{x:()=>T});var r,i=n(49069),o=n(45773),a=n(53847),l=n(68488),c=i.sj.define(),u=i.sU.define({create:function(){return[]},update:function(e,t){if(!(0,l.$H)(t,"doc","lineBreak",c))return e;var n=t.state.facet(c);if(0===n.length)return 0===e.length?e:[];e=[];var r=!0,o=!1,u=void 0;try{for(var s,d=n[Symbol.iterator]();!(r=(s=d.next()).done);r=!0){var f=s.value;if(f){var h=(0,a._)(f,i.VR)?f:t.state.changes(f);if(h.length!==t.newDoc.length)throw Error("Ghost text change set is out of sync with document");h.empty||e.push(h)}}}catch(e){o=!0,u=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw u}}return e}}),s=n(83846),d="cm-ghost-text",f="cm-limbo-text",h="cm-ghost-marker",m=o.Lz.theme((r={},(0,s._)(r,".".concat(d),{opacity:.675,filter:"grayscale(0.325)"}),(0,s._)(r,".".concat(f),{display:"inline-block",opacity:.85,backgroundColor:"rgba(255, 0, 0, 0.1)",textDecoration:"line-through"}),(0,s._)(r,".".concat(h),{opacity:.5}),r)),v=o.NZ.mark({class:f}),p=o.Lz.decorations.from(u,function(e){if(!e.length)return o.NZ.none;var t=new i.vB,n=!0,r=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0)l.value.iterChangedRanges(function(e,n){e!==n&&t.add(e,n,v)})}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t.finish()}),g=n(62019),y=n(37743),w=n(1833),x=n(48122),b=n(44725),S=n(62511),_=n(69963),C=n(95272),A=function(e){function t(e,n,r){var i;return(0,y._)(this,t),(i=(0,g._)(this,t)).line=e,i.block=n,i.index=r,i}(0,w._)(t,e);var n=t.prototype;return n.toDOM=function(){var e=document.createElement(this.block?"div":"span");e.className=this.block?d+" cm-line":d;var t=!0,n=!1,r=void 0;try{for(var i,o=this.line[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,l=a.text,c=a.tags,u=document.createElement("span");u.textContent=l||"\xa0",c&&(u.className=c),e.appendChild(u)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e},n.eq=function(e){return this.block===e.block&&this.index===e.index&&(0,_.ne)(this.line,e.line)},n.ignoreEvent=function(){return!1},(0,x._)(t,[{key:"estimatedHeight",get:function(){return 21*!!this.block}}]),t}(o.xO),k=function(e){function t(){return(0,y._)(this,t),(0,g._)(this,t)}return(0,w._)(t,e),t.prototype.toDOM=function(){var e=document.createElement("div");return e.style.height="0px",e},(0,x._)(t,[{key:"estimatedHeight",get:function(){return 0}}]),t}(o.xO),E=o.Lz.decorations.compute([b.BH,u],function(e){var t=e.field(u,!1);if(!t||!t.length)return o.NZ.none;var n=[],r=null==(c=e.facet(b.BH))?void 0:c.parser,i=!0,a=!1,l=void 0;try{for(var c,s,d=t[Symbol.iterator]();!(i=(s=d.next()).done);i=!0)!function(){var t=s.value,i=null,a=null;if(r){var l=(0,S.gQ)(t);if(!l)return;i=t.apply(e.doc),a=(0,C.B)({parser:r,text:i,changes:t,base:e,upTo:l.toB,maxTime:16})}t.iterChanges(function(t,r,l,c,u){var s=e.doc.lineAt(r),d=u.lines>1&&r<s.to;if(i&&a)v=(0,_.A7)(a,i,e,l,c);else{v=[];var f=!0,h=!1,m=void 0;try{for(var v,p,g=u.iterLines()[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var y=p.value;v.push([{text:y}])}}catch(e){h=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(h)throw m}}}for(var w=0;w<v.length;w++){var x=v[w],b=s.number+w;if(0!==w||x.length&&(1!==x.length||x[0].text)){if(d&&w>0&&w===v.length-1){if(1===w){var S=o.NZ.widget({widget:new k,block:!0,side:1});n.push(S.range(r))}var C=o.NZ.widget({widget:new A(x,!1,b),block:!1});C.startSide=0x3b9ac9ff,C.endSide=0x3b9ac9ff,n.push(C.range(r));continue}var E=o.NZ.widget({widget:new A(x,w>0,b),side:w+1,block:w>0});n.push(E.range(r))}}})}()}catch(e){a=!0,l=e}finally{try{i||null==d.return||d.return()}finally{if(a)throw l}}return o.NZ.set(n,!0)}),Y=n(28410),D=function(e){function t(e){var n;return(0,y._)(this,t),(n=(0,g._)(this,t)).index=e,n}(0,w._)(t,e);var n=t.prototype;return n.toDOM=function(){var e=document.createElement("span");return e.className=h,e.textContent=String(this.index),e},n.eq=function(e){return this.index===e.index},t}(o.wJ),L=Y.DY.of(function(e,t){if((0,a._)(t,A))return new D(t.index)}),T=i.sj.define({enables:function(e){return[c.computeN([e],function(t){return t.facet(e)}),u,m,E,p,L]}})},57821:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var r=n(45773).Lz.contentAttributes.of({"data-gramm":"false","data-gramm_editor":"false","data-enabled-grammarly":"false"})},58422:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var r=n(79203),i=n(68689);function o(){return{isEditModeActive:(0,r.md)(i.J),setIsEditModeActive:(0,r.Xr)(i.NN)}}},59911:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,A:()=>c});var r=n(17844),i=n(93629),o=n(49069),a=n(45773),l=n(39534),c=function(e,t){var n=setTimeout(function(){e.dispatch({effects:s.of(null)})},3e3);e.dispatch({effects:u.of((0,i._)((0,r._)({},t),{ignoreKeydown:t.ignoreKeydown,timeoutId:n}))})},u=o.Pe.define(),s=o.Pe.define();function d(){var e=o.sU.define({create:function(){return null},update:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,l=t.effects[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;c.is(u)&&(e=c.value),!c.is(s)||(null==e?void 0:e.ignoreKeydown)&&"keydown"===c.value||(clearTimeout(null==e?void 0:e.timeoutId),e=null)}}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return t.docChanged&&!t.annotation(o.ZX.remote)&&(e=null),e},provide:function(e){return[a.DK.compute([e],function(t){var n=t.field(e);return n?{pos:n.offset,above:!0,arrow:!0,create:function(){var e=document.createElement("div");return e.style.color=l.LU.foregroundDimmest,e.style.padding="4px",e.textContent=n.message,{dom:e}}}:null})]}}),t={current:null},n=a.Lz.domEventHandlers({mousemove:function(n,r){if(r.state.field(e,!1)){t.current||(t.current={x:n.clientX,y:n.clientY});var i=Math.abs(n.clientX-t.current.x),o=Math.abs(n.clientY-t.current.y);(i>40||o>40)&&r.dispatch({effects:s.of(null)})}else t.current=null},mousedown:function(t,n){n.state.field(e,!1)&&n.dispatch({effects:s.of(null)})},keydown:function(t,n){n.state.field(e,!1)&&n.dispatch({effects:s.of("keydown")})}});return[o.Nb.highest(n),e]}},60490:(e,t,n)=>{"use strict";n.d(t,{Md:()=>l,O7:()=>a,cL:()=>c,ql:()=>u});var r=n(49069),i=n(63806),o=r.sj.define({combine:function(e){return e[0]?i.Jh.from(e[0]):null}}),a=o.reader,l=r.sj.define({combine:function(e){return e.length>0?e[0]:void 0},enables:function(e){return o.compute([e],function(t){return t.facet(e)})}}),c=r.sj.define({combine:function(e){return e.length>0?e[0]:void 0},enables:function(e){return o.compute([e],function(t){return t.facet(e)})}}),u=r.sj.define({combine:function(e){return e.length>0?e[0]:void 0}})},60910:(e,t,n)=>{"use strict";n.d(t,{T$:()=>a,YX:()=>i,t3:()=>o});var r=n(49999),i=function(e){return e.ALT_KEY="ALT_KEY",e.SHIFT_KEY="SHIFT_KEY",e.CMD_OR_CTRL_KEY="CMD_OR_CTRL_KEY",e.RETURN_OR_ENTER_KEY="RETURN_OR_ENTER_KEY",e}({});function o(e,t){switch(e){case"ALT_KEY":return t?"":"Alt";case"SHIFT_KEY":return t?"":"Shift";case"CMD_OR_CTRL_KEY":return t?"":"Ctrl";case"RETURN_OR_ENTER_KEY":return t?"Return":"Enter";default:(0,r.A)(e)}}var a=function(e){return window.navigator.userAgent.includes("Macintosh")?e.metaKey||(null==e?void 0:e.key)==="Meta":e.ctrlKey||(null==e?void 0:e.key)==="Control"}},60948:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var r=n(6268),i=new(n(74309)).k(function(e,t){return e||t?null:(0,r.b6)({newGroupDelay:100})})},62511:(e,t,n)=>{"use strict";n.d(t,{$F:()=>s,DE:()=>l,Dk:()=>u,Nl:()=>c,Pt:()=>h,QG:()=>g,Zl:()=>f,_c:()=>m,fc:()=>d,gQ:()=>p,k1:()=>v,mn:()=>a,r6:()=>o});var r=n(11797),i=n(49069),o={scanLimit:5e3},a=function(e){return e.A="A",e.B="B",e}({}),l=function(e){return e.COVERED="COVERED",e.MODIFIED="MODIFIED",e.UNCHANGED="UNCHANGED",e}({});function c(e){switch(e){case"A":return"B";case"B":return"A"}}function u(e,t,n){switch(t){case"A":return n?{from:e.fromA+n.fromA,to:e.toA+n.fromA}:{from:e.fromA,to:e.toA};case"B":return n?{from:e.fromB+n.fromB,to:e.toB+n.fromB}:{from:e.fromB,to:e.toB}}}function s(e,t,n,r,i,o){for(var a=0,l=i.length-1,s=null;a<=l;){var d=a+l>>>1,f=i[d],h=u(f,r,o);if(o&&1===o.changes.length){var m=u(o,r);m.from>0&&h.from===m.from&&h.to===m.to&&(h.from-=1,h.to-=1)}var v=!1;if(h.from===n.to){var p=u(f,c(r),o),g="A"===r?t.lineAt(p.from):e.lineAt(p.from);v=p.from===g.to}if(!v&&h.from<=n.to&&h.to>=n.from&&((h.from!==h.to||h.from!==n.to)&&(s=d),h.from<=n.from))break;h.from>=n.from?l=d-1:h.to<=n.from&&(a=d+1)}if(null===s)return"UNCHANGED";var y=u(i[s],r,o);if(y.from<=n.from&&y.to>=n.to)return"COVERED";if(y.from>n.from||s===i.length-1)return"MODIFIED";for(var w=n.from,x=s;x<i.length;x++){var b=u(i[x],r,o);if(b.to<=n.to&&b.from>w)return"MODIFIED";if(b.to>=n.to)break;w=b.to}return"COVERED"}function d(e,t){if(0===e.length)return i.Gu.fromJSON([t,-1]);for(var n=[],r=0,o=0;o<e.length;o++)for(var a=e[o],l=0;l<a.changes.length;l++){var c=a.changes[l],u=a.fromA+c.fromA,s=a.fromA+c.toA,d=a.fromB+c.fromB,f=a.fromB+c.toB;1===a.changes.length&&a.fromA>0&&u===a.fromA&&s===a.toA&&(u-=1,s-=1),1===a.changes.length&&a.fromB>0&&d===a.fromB&&f===a.toB&&(d-=1,f-=1),u>r&&n.push(u-r,-1),n.push(s-u,f-d),r=s}return r<t&&n.push(t-r,-1),i.Gu.fromJSON(n)}function f(e){var t=[];return e.iterChangedRanges(function(e,n,r,i){t.push({fromA:e,toA:n,fromB:r,toB:i})},!0),t}function h(e,t,n,i){try{if(!n)return r.AA.build(e,t,i);if(!n.changesA&&!n.changesB)throw Error("cannot update chunks without changes");var o=n.chunks;return n.changesA&&(o=r.AA.updateA(o,e,t,n.changesA,i)),n.changesB&&(o=r.AA.updateB(o,e,t,n.changesB,i)),o}catch(n){var a=[new r.lY(0,e.length,0,t.length)];return[new r.AA(a,0,e.length,0,t.length)]}}function m(e,t,n){if(!n)return{desc:e,pending:t};try{t=t?t.composeDesc(n):n,e=e.composeDesc(n)}catch(r){t=null,e=i.Gu.fromJSON([e.length,n.newLength])}return{desc:e,pending:t}}function v(e,t,n){for(var r=new Map,i=0,o=!1,a=1,l=1;l<=t.lines;l++){var c=n[i],u=t.line(l);if(c){if(c.fromB===u.from){if(o=!0,c.fromA!==c.toA)for(var s=e.lineAt(c.endA).number;a<=s;a++)r.set(-a,null);c.fromB!==c.toB?r.set(u.number,null):(r.set(-a,u.number),r.set(u.number,a),a++);continue}if(c.fromB<=u.from&&c.endB>=u.from){r.set(u.number,null);continue}o&&(i++,o=!1)}r.set(-a,u.number),r.set(u.number,a),a++}if(a<=e.lines)for(var d=a;d<=e.lines;d++)r.set(-d,null);return r}function p(e){var t=null,n=null,r=null,i=null;return(e.iterChangedRanges(function(e,o,a,l){t=null===t?e:Math.min(t,e),n=null===n?o:Math.max(n,o),r=null===r?a:Math.min(r,a),i=null===i?l:Math.max(i,l)}),null===t||null===n||null===r||null===i)?null:{fromA:t,toA:n,fromB:r,toB:i}}function g(e,t,n,r){var i=[],o=!0,a=!1,l=void 0;try{for(var c,s=t.changes[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var d=c.value,f=u(d,n,t),h=f.from,m=f.to;h=Math.max(h,e.from),m=Math.min(m,e.to),h>=m||(r&&(h-=e.from,m-=e.from),i.push({from:h,to:m}))}}catch(e){a=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw l}}return i}},62684:(e,t,n)=>{"use strict";n.d(t,{WJ:()=>c,hS:()=>a,w2:()=>l});var r=n(17459),i=n(86105),o=n(82315);function a(e){var t=e.queryLength;return t<2?null:2===t?44:3===t?68:4===t?82:16*t}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.filterLowMatchScores,l=(0,r._)(n,["filterLowMatchScores"]),u=new o.Rk([t],l).find(e);if(0===u.length)return null;var s=u[0];if(i){var d=a({queryLength:e.length});if(d&&s.score<d)return null}return{score:s.score,ranges:c(s.positions)}}function c(e){for(var t=(0,i._)(e.values()).sort(function(e,t){return e-t}),n=[],r=t[0],o=t[0],a=1;a<t.length;a++)t[a]===o+1?o++:(n.push({from:r,to:o+1}),r=t[a],o=t[a]);return n.push({from:r,to:o+1}),n}},63289:(e,t,n)=>{"use strict";n.d(t,{Tq:()=>d,tT:()=>c,zw:()=>s});var r=n(49069),i=n(74309),o=n(62246),a=r.sj.define({combine:function(e){var t;return null!=(t=e[0])?t:null}}),l=new i.k(function(e){return a.of(e)});function c(e){return l.use(e)}function u(e,t){var n=e.facet(a);return!!n&&n(t)}function s(e,t){var n=t.pane,r=t.secondary;return u(e,{operation:"open",pane:n,secondary:void 0===r||r})}function d(e,t){var n=t.path,r=t.secondary,i="string"==typeof n?{path:n}:n,a={type:(0,o.QY)({path:i.path}),data:i};u(e,{operation:"commit"}),u(e,{operation:"open",pane:a,secondary:r})}},64498:(e,t,n)=>{"use strict";n.d(t,{N:()=>i,e:()=>r});var r=new WeakMap;function i(e,t){r.set(e,t)}},65242:(e,t,n)=>{"use strict";n.d(t,{G3:()=>ex,Vp:()=>o.Vp,Uf:()=>o.Uf,Zo:()=>i.Z});var r=n(68689),i=n(43290),o=n(33369),a=n(29935),l=n(83846),c=n(12694),u=n(82643),s=n(34837),d=n(21462),f=n(79203),h=n(86103),m=n(58422),v=n(30365),p=n(12213),g=n(40756),y=n(47306),w=n(25227),x=n(17844),b=n(93629),S=n(25590);function _(e){return(0,s.Y)(S.Ay,(0,b._)((0,x._)({},e),{children:(0,s.Y)("path",{d:"M17 11.25a.75.75 0 0 1 0 1.5H7a.75.75 0 0 1 0-1.5h10ZM19 17.25l.077.004a.75.75 0 0 1 0 1.492L19 18.75H5a.75.75 0 0 1 0-1.5h14ZM21 5.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Z"})}))}function C(e){return(0,s.Y)(S.Ay,(0,b._)((0,x._)({},e),{children:(0,s.Y)("path",{d:"M21 17.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Zm0-6a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Zm0-6a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Z"})}))}function A(e){return(0,s.Y)(S.Ay,(0,b._)((0,x._)({},e),{children:(0,s.Y)("path",{d:"M15 11.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h12ZM17 17.25l.077.004a.75.75 0 0 1 0 1.492L17 18.75H3a.75.75 0 0 1 0-1.5h14ZM21 5.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Z"})}))}function k(e){return(0,s.Y)(S.Ay,(0,b._)((0,x._)({},e),{children:(0,s.Y)("path",{d:"M21 11.25a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1 0-1.5h12ZM21 17.25l.077.004a.75.75 0 0 1 0 1.492L21 18.75H7a.75.75 0 0 1 0-1.5h14ZM21 5.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Z"})}))}function E(){var e=(0,c._)((0,f.fp)(p.uA),2),t=e[0],n=e[1];return(0,s.FD)(s.FK,{children:[(0,s.Y)(y.J,{color:"dimmer",children:"Alignment"}),(0,s.FD)(w.S,{gap:8,row:!0,children:[(0,s.Y)(g.$n,{iconLeft:(0,s.Y)(A,{}),text:"",variant:"left"===t?"default":"nofill",onClick:function(){return n("left")}}),(0,s.Y)(g.$n,{iconLeft:(0,s.Y)(_,{}),text:"",variant:"center"===t?"default":"nofill",onClick:function(){return n("center")}}),(0,s.Y)(g.$n,{iconLeft:(0,s.Y)(k,{}),text:"",variant:"right"===t?"default":"nofill",onClick:function(){return n("right")}}),(0,s.Y)(g.$n,{iconLeft:(0,s.Y)(C,{}),text:"",variant:"justify"===t?"default":"nofill",onClick:function(){return n("justify")}})]})]})}var Y=n(6857);function D(){var e=(0,c._)((0,f.fp)(p.Rw),2),t=e[0],n=e[1];return(0,s.Y)(Y.n,{label:"Background Color",color:t,setColor:n})}function L(){var e=(0,c._)((0,f.fp)(p.NO),2),t=e[0],n=e[1];return(0,s.Y)(Y.n,{label:"Text Color",color:t,setColor:n})}var T=n(83096);function U(){var e=(0,c._)((0,f.fp)(p.If),2),t=e[0],n=e[1];return(0,s.FD)(w.S,{gap:4,children:[(0,s.Y)(y.J,{color:"dimmer",children:"Content"}),(0,s.Y)(T.pd,{id:"content",value:null!=t?t:"",onChange:function(e){return n(e.target.value)}})]})}var R=n(37379),F=n(43820),M=Array.from({length:85},function(e,t){return{id:t+12,name:"".concat(t+12,"px")}});function P(){var e=(0,c._)((0,f.fp)(p.lz),2),t=e[0],n=e[1];return(0,s.FD)(s.FK,{children:[(0,s.Y)(y.J,{color:"dimmer",children:"Font size"}),(0,s.Y)(F.l,{selectedKey:t,onSelectionChange:function(e){return n(Number(e))},"aria-label":"Font size",children:M.map(function(e){return(0,s.Y)(R.nh,{id:e.id,label:e.name},e.id)})})]})}var I={100:"thin",200:"extralight",300:"light",400:"normal",500:"medium",600:"semibold",700:"bold",800:"extrabold",900:"black",normal:"normal",bold:"bold"},N=[{id:"normal",name:"Normal"},{id:"bold",name:"Bold"},{id:"100",name:"Thin"},{id:"200",name:"Extra Light"},{id:"300",name:"Light"},{id:"400",name:"Regular"},{id:"500",name:"Medium"},{id:"600",name:"Semi Bold"},{id:"700",name:"Bold"},{id:"800",name:"Extra Bold"},{id:"900",name:"Black"}];function H(){var e=(0,c._)((0,f.fp)(p.dc),2),t=e[0],n=e[1];return(0,s.FD)(s.FK,{children:[(0,s.Y)(y.J,{color:"dimmer",children:"Font weight"}),(0,s.Y)(F.l,{selectedKey:t,onSelectionChange:function(e){return n(e)},"aria-label":"Font weight",children:N.map(function(e){return(0,s.Y)(R.nh,{id:e.id,label:e.name},e.id)})})]})}var B=n(14106),O=n.n(B),z=n(35897),q=n(68661),Z=n(33868),j=n(40115),V=n(41426),K=n(52914),G=n(13258),W=n.n(G);function $(){var e=(0,c._)((0,f.fp)(p.iO),2),t=e[0],n=e[1],r=(0,z.A)().showError,i=(0,c._)((0,d.useState)(!1),2),o=i[0],l=i[1],h=(0,d.useRef)(null),m=(0,j.A)().fs;return(0,s.FD)(s.FK,{children:[(0,s.Y)(y.J,{color:"dimmer",children:"Source"}),(0,s.FD)(w.S,{className:W().formRow,children:[(0,s.Y)(T.pd,{type:"url",value:t||"",onChange:function(e){n(e.target.value)},placeholder:"Enter image URL or upload..."}),(0,s.Y)(g.$n,{variant:"outlined",stretch:!0,onClick:function(){var e;null==(e=h.current)||e.click()},disabled:o,iconLeft:(0,s.Y)(K.A,{}),text:o?"Uploading...":"Upload Image"})]}),(0,s.Y)("input",{style:{display:"none"},ref:h,accept:q.DA.join(","),type:"file",onChange:function(e){var t=e.target,i=t.validity,o=t.files;return(0,a._)(function(){var e,t;return(0,u.YH)(this,function(a){switch(a.label){case 0:if(!i.valid||!o||0===(e=Array.from(o)).length||0===(t=e.filter(function(e){return q.DA.includes(e.type)})).length)return[2];l(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,new Promise(function(e,r){(0,Z.Zn)({files:t,fs:m,overwrite:!0,parentPath:V.Ls,onError:function(e){return r(Error(e.error))},onDone:function(t){var i=t.uploads,o=t.errors;if(o.length>0)return void r(Error("Upload failed: ".concat(o[0].error)));if(i.length>0){var a=i[0].path;n(O().join(V.Ls,O().basename(a)))}e(void 0)}})})];case 2:return a.sent(),[3,5];case 3:return a.sent(),r("Failed to upload image"),[3,5];case 4:return l(!1),[7];case 5:return[2]}})})()}})]})}function Q(e){return(0,s.Y)(S.Ay,(0,b._)((0,x._)({},e),{children:(0,s.Y)("path",{d:"M12.25 22a.75.75 0 0 1-1.5 0V2a.75.75 0 0 1 1.5 0v20ZM6 17.75c.185 0 .418-.101.632-.395.213-.292.368-.734.368-1.255V8.9c0-.52-.155-.963-.368-1.255C6.418 7.35 6.185 7.25 6 7.25H4.25c-.185 0-.418.101-.632.395-.213.292-.368.734-.368 1.255v7.2c0 .52.155.963.368 1.255.214.294.447.395.632.395H6Zm-1.75 1.5c-.781 0-1.424-.436-1.844-1.01-.42-.576-.656-1.336-.656-2.14V8.9c0-.804.237-1.563.656-2.14.42-.574 1.063-1.01 1.844-1.01H6c.782 0 1.424.436 1.844 1.01.42.577.656 1.336.656 2.14v7.2c0 .804-.236 1.563-.656 2.14-.42.574-1.062 1.01-1.844 1.01H4.25ZM18.75 17.75c.185 0 .418-.101.632-.395.213-.292.368-.734.368-1.255V8.9c0-.52-.154-.963-.368-1.255-.214-.294-.447-.395-.632-.395H17c-.185 0-.418.101-.632.395-.213.292-.368.734-.368 1.255v7.2c0 .52.155.963.368 1.255.214.294.447.395.632.395h1.75ZM17 19.25c-.781 0-1.424-.436-1.844-1.01-.42-.576-.656-1.336-.656-2.14V8.9c0-.804.236-1.563.656-2.14.42-.574 1.063-1.01 1.844-1.01h1.75c.782 0 1.424.436 1.844 1.01.42.577.656 1.336.656 2.14v7.2c0 .804-.236 1.563-.656 2.14-.42.574-1.062 1.01-1.844 1.01H17Z"})}))}function J(e){return(0,s.Y)(S.Ay,(0,b._)((0,x._)({},e),{children:(0,s.Y)("path",{d:"M21.5 11.25a.75.75 0 0 1 0 1.5h-20a.75.75 0 0 1 0-1.5h20ZM17.25 17.5c0-.185-.101-.418-.395-.632-.292-.213-.734-.368-1.255-.368H8.4c-.52 0-.963.155-1.255.368-.294.214-.395.447-.395.632v1.75c0 .185.101.418.395.632.292.213.734.368 1.255.368h7.2c.52 0 .963-.155 1.255-.368.294-.214.395-.447.395-.632V17.5Zm1.5 1.75c0 .781-.436 1.424-1.01 1.844-.576.42-1.336.656-2.14.656H8.4c-.804 0-1.563-.236-2.14-.656-.574-.42-1.01-1.063-1.01-1.844V17.5c0-.781.436-1.424 1.01-1.844.577-.42 1.336-.656 2.14-.656h7.2c.804 0 1.563.236 2.14.656.574.42 1.01 1.063 1.01 1.844v1.75ZM17.25 4.75c0-.185-.101-.418-.395-.632-.292-.213-.734-.368-1.255-.368H8.4c-.52 0-.963.155-1.255.368-.294.214-.395.447-.395.632V6.5c0 .185.101.418.395.632.292.213.734.368 1.255.368h7.2c.52 0 .963-.155 1.255-.368.294-.214.395-.447.395-.632V4.75Zm1.5 1.75c0 .781-.436 1.424-1.01 1.844-.576.42-1.336.656-2.14.656H8.4c-.804 0-1.563-.236-2.14-.656-.574-.42-1.01-1.063-1.01-1.844V4.75c0-.781.436-1.424 1.01-1.844.577-.42 1.336-.656 2.14-.656h7.2c.804 0 1.563.236 2.14.656.574.42 1.01 1.063 1.01 1.844V6.5Z"})}))}function X(){var e=(0,c._)((0,f.fp)(p.o2),2),t=e[0],n=e[1],r=(0,c._)((0,f.fp)(p.rE),2),i=r[0],o=r[1];return(0,s.FD)(s.FK,{children:[(0,s.Y)(y.J,{color:"dimmer",children:"Margin"}),(0,s.FD)(w.S,{className:W().formRow,children:[(0,s.Y)(T.cQ,{iconLeft:(0,s.Y)(Q,{}),type:"number",value:null==t?void 0:t.toString(),onChange:function(e){return n(Number(e.target.value))}}),(0,s.Y)(T.cQ,{iconLeft:(0,s.Y)(J,{}),type:"number",value:null==i?void 0:i.toString(),onChange:function(e){return o(Number(e.target.value))}})]})]})}function ee(e){return(0,s.Y)(S.Ay,(0,b._)((0,x._)({},e),{children:(0,s.Y)("path",{d:"M14.25 9.001c0-.69-.56-1.25-1.25-1.25h-2c-.69 0-1.25.56-1.25 1.25v6c0 .69.56 1.25 1.25 1.25h2c.69 0 1.25-.56 1.25-1.25v-6Zm1.5 6a2.75 2.75 0 0 1-2.75 2.75h-2a2.75 2.75 0 0 1-2.75-2.75v-6A2.75 2.75 0 0 1 11 6.251h2a2.75 2.75 0 0 1 2.75 2.75v6ZM3.25 22.001v-20a.75.75 0 1 1 1.5 0v20a.75.75 0 0 1-1.5 0ZM19.25 22.001v-20a.75.75 0 0 1 1.5 0v20a.75.75 0 0 1-1.5 0Z"})}))}function et(e){return(0,s.Y)(S.Ay,(0,b._)((0,x._)({},e),{children:(0,s.Y)("path",{d:"M16.25 11c0-.691-.56-1.25-1.25-1.25H9c-.69 0-1.25.559-1.25 1.25v2c0 .69.56 1.25 1.25 1.25h6c.69 0 1.25-.56 1.25-1.25v-2Zm1.5 2A2.75 2.75 0 0 1 15 15.75H9A2.75 2.75 0 0 1 6.25 13v-2A2.75 2.75 0 0 1 9 8.25h6A2.75 2.75 0 0 1 17.75 11v2ZM22 19.249a.75.75 0 1 1 0 1.5H2a.75.75 0 0 1 0-1.5h20ZM22 3.249a.75.75 0 0 1 0 1.5H2a.75.75 0 1 1 0-1.5h20Z"})}))}function en(){var e=(0,c._)((0,f.fp)(p.v_),2),t=e[0],n=e[1],r=(0,c._)((0,f.fp)(p.QY),2),i=r[0],o=r[1];return(0,s.FD)(w.S,{className:W().formField,children:[(0,s.Y)(y.J,{color:"dimmer",children:"Padding"}),(0,s.FD)(w.S,{className:W().formRow,children:[(0,s.Y)(T.cQ,{iconLeft:(0,s.Y)(ee,{}),type:"number",value:null==t?void 0:t.toString(),onChange:function(e){return n(Number(e.target.value))}}),(0,s.Y)(T.cQ,{iconLeft:(0,s.Y)(et,{}),type:"number",value:null==i?void 0:i.toString(),onChange:function(e){return o(Number(e.target.value))}})]})]})}var er=n(2008),ei=n(88879),eo=n(30284),ea=n(69071),el=n(34778),ec=n(86035),eu=n(86402),es=n(69832);function ed(){var e=(0,eu.NC)(),t=(0,z.A)().showError,n=(0,es.J2)(e.sessions.agent.current),r=(0,h._P)({controlName:"flag-visual-editor-quick-edits",default:!1});return{handlePrompt:(0,d.useCallback)(function(e,i){return(0,a._)(function(){return(0,u.YH)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,2,,3]),!n)throw Error("No agent session found");return[4,n.appendEvent({kind:"message",intent:ec.qRv.AGENT,message:e,webviewTargetedElement:i,quickEdit:r})];case 1:return o.sent(),[3,3];case 2:return o.sent(),t("Failed to send editor message"),[3,3];case 3:return[2]}})})()},[n,t,r])}}var ef=n(41479),eh=n(21466),em=n(70251),ev=n(3937),ep=n(91953),eg=n(90233),ey=n(70399),ew=n(43193);function ex(e){var t,n,y,x,b,S,_,C,A,k,Y,T,R,F,M,N,B=e.openPane,O=(0,h._P)({controlName:"flag-status-row-in-feed"}),q=(0,m.y)().isEditModeActive,Z=(0,i.Z)({context:"agent"}),j=Z.isEditingSupported,K=Z.element,G=Z.setElement,Q=(0,f.md)(r.e0),J=(0,c._)((0,d.useState)(!1),2),ee=J[0],et=J[1],ex=ed().handlePrompt,eb=(t=(0,f.md)(r.y0),n=(0,f.Xr)(r.ki),y=(0,f.md)(p.IT),x=(0,f.md)(p.Ch),k=(b=(0,z.A)().showError,S=(0,ef.I)(function(e,t){return function(t,n,r){return(0,a._)(function(){var i;return(0,u.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.visualEditor.updateClassName.rpc({elementMetadata:t,newClassName:n,originalClassName:r})];case 1:if(!o.sent().ok)return b("Failed to update class name"),[2,!1];return[2,!0];case 2:return i=o.sent(),ea.vF.error("[Visual Editor] Failed to update class name",i),b("Failed to update class name"),[2,!1];case 3:return[2]}})})()}},[b]),_=(0,ef.I)(function(e,t){return function(t,n,r){return(0,a._)(function(){var i;return(0,u.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.visualEditor.updateTextContent.rpc({elementMetadata:t,newText:n,originalText:r})];case 1:if(!o.sent().ok)return b("Failed to update text content"),[2,!1];return[2,!0];case 2:return i=o.sent(),ea.vF.error("[Visual Editor] Failed to update text content",i),b("Failed to update text content"),[2,!1];case 3:return[2]}})})()}},[b]),C=(0,ef.I)(function(e,t){return function(t,n,r,i){return(0,a._)(function(){var o;return(0,u.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,e.visualEditor.updateImageSrc.rpc({elementMetadata:t,newImagePath:n,originalSrc:r,isUrl:i})];case 1:if(!a.sent().ok)return b("Failed to update image source"),[2,!1];return[2,!0];case 2:return o=a.sent(),ea.vF.error("[Visual Editor] Failed to update image source",o),b("Failed to update image source"),[2,!1];case 3:return[2]}})})()}},[b]),A={updateClassName:function(e,t,n){return(0,a._)(function(){return(0,u.YH)(this,function(r){return S?[2,S(e,t,n)]:[2,!1]})})()},updateTextContent:function(e,t,n){return(0,a._)(function(){return(0,u.YH)(this,function(r){return _?[2,_(e,t,n)]:[2,!1]})})()},updateImageSrc:function(e,t,n,r){return(0,a._)(function(){return(0,u.YH)(this,function(i){return C?[2,C(e,t,n,r)]:[2,!1]})})()}}).updateClassName,Y=A.updateTextContent,T=A.updateImageSrc,R=ed().handlePrompt,N=(F=(0,eu.NC)(),M=(0,es.J2)(F.sessions.agent.current),{sendCheckpointEvent:(0,d.useCallback)(function(){return(0,a._)(function(){var e;return(0,u.YH)(this,function(t){switch(t.label){case 0:if(!M)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,M.appendEvent({kind:"triggerCheckpoint",description:"Visual edit",onlyIfDiff:!0,author:ec.rEN.COMMIT_AUTHOR_AGENT})];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),ea.vF.warn("Failed to send checkpoint event:",e),[3,4];case 4:return[2]}})})()},[M])}).sendCheckpointEvent,{saveChanges:function(){return(0,a._)(function(){var e,r,i,a,l,s,d,f,h,m,v,p,g,w,b,S,_,C,A,E;return(0,u.YH)(this,function(u){switch(u.label){case 0:e=[],u.label=1;case 1:if(u.trys.push([1,15,16,17]),(null==t||null==(r=t.metadata)?void 0:r.textContent)===y.textContent)return[3,4];if(!((null==t||null==(d=t.metadata)?void 0:d.elementPath)&&y.textContent))return[3,3];return[4,Y(t.metadata.elementPath,y.textContent,t.metadata.textContent)];case 2:return u.sent()?(0,el.u4)(eo.AZ.VISUAL_SELECTOR_EDIT,{editType:"text",method:"deterministic"}):((0,el.u4)(eo.AZ.VISUAL_SELECTOR_EDIT,{editType:"text",method:"fallback"}),e.push({type:"text",oldText:t.metadata.textContent,newText:y.textContent})),[3,4];case 3:y.textContent&&((0,el.u4)(eo.AZ.VISUAL_SELECTOR_EDIT,{editType:"text",method:"fallback",reason:"missing_path"}),e.push({type:"text",oldText:null==t||null==(f=t.metadata)?void 0:f.textContent,newText:y.textContent})),u.label=4;case 4:if((m=Object.entries(x).reduce(function(e,t){var n=(0,c._)(t,2),r=n[0],i=n[1];switch(r){case"font-size":case"color":return(0,ei.QP)(e,"text-[".concat(i,"]"));case"font-weight":return(0,ei.QP)(e,"font-".concat(I[i]||"normal"));case"text-align":return(0,ei.QP)(e,"text-".concat(i));case"background-color":return(0,ei.QP)(e,"bg-[".concat(i,"]"));case"margin-left":return(0,ei.QP)(e,"ml-[".concat(i,"]"));case"margin-right":return(0,ei.QP)(e,"mr-[".concat(i,"]"));case"margin-top":return(0,ei.QP)(e,"mt-[".concat(i,"]"));case"margin-bottom":return(0,ei.QP)(e,"mb-[".concat(i,"]"));case"padding-left":return(0,ei.QP)(e,"pl-[".concat(i,"]"));case"padding-right":return(0,ei.QP)(e,"pr-[".concat(i,"]"));case"padding-top":return(0,ei.QP)(e,"pt-[".concat(i,"]"));case"padding-bottom":return(0,ei.QP)(e,"pb-[".concat(i,"]"));default:return e}},null!=(h=null==t||null==(i=t.metadata)?void 0:i.className)?h:""))===(null==t||null==(a=t.metadata)?void 0:a.className))return[3,7];if(!(null==t||null==(v=t.metadata)?void 0:v.elementPath))return[3,6];return[4,k(t.metadata.elementPath,m,t.metadata.className)];case 5:return u.sent()?(0,el.u4)(eo.AZ.VISUAL_SELECTOR_EDIT,{editType:"style",method:"deterministic"}):((0,el.u4)(eo.AZ.VISUAL_SELECTOR_EDIT,{editType:"style",method:"fallback"}),e.push({type:"style",oldClassName:t.metadata.className,newClassName:m})),[3,7];case 6:(0,el.u4)(eo.AZ.VISUAL_SELECTOR_EDIT,{editType:"style",method:"fallback",reason:"missing_path"}),e.push({type:"style",oldClassName:null!=(g=null==t||null==(p=t.metadata)?void 0:p.className)?g:"Unknown",newClassName:m}),u.label=7;case 7:if(!((null==t||null==(l=t.metadata)?void 0:l.srcAttribute)!==y.imageSrc&&y.imageSrc&&(null==t||null==(s=t.metadata)?void 0:s.elementPath)))return[3,9];return b=!(null==(w=y.imageSrc)?void 0:w.startsWith(V.Ls)),[4,T(t.metadata.elementPath,y.imageSrc,t.metadata.srcAttribute,b)];case 8:u.sent()?(0,el.u4)(eo.AZ.VISUAL_SELECTOR_EDIT,{editType:"image",method:"deterministic"}):((0,el.u4)(eo.AZ.VISUAL_SELECTOR_EDIT,{editType:"image",method:"fallback"}),e.push({type:"image",newSrc:y.imageSrc})),u.label=9;case 9:if(!(e.length>0&&t))return[3,13];if(S="Please update this element with the following changes:\n\n",(_=e.filter(function(e){return"text"===e.type})).length>0&&(S+="Text Content Changes:\n",_.forEach(function(e){S+='- Change text from "'.concat(e.oldText,'" to "').concat(e.newText,'"\n')}),S+="\n"),(C=e.filter(function(e){return"style"===e.type})).length>0&&(S+="Style Changes:\n",C.forEach(function(e){S+='- Update classes from "'.concat(e.oldClassName,'" to "').concat(e.newClassName,'"\n')}),S+="\n"),(A=e.filter(function(e){return"image"===e.type})).length>0&&(S+="Image Source Changes:\n",A.forEach(function(e){S+='- Update image source to "'.concat(e.newSrc,'"\n')}),S+="\n"),!t.element)return[3,11];return[4,R(S,t.element)];case 10:return u.sent(),[3,12];case 11:throw Error("Selected element is missing");case 12:return[3,14];case 13:(0,o.L4)(),N().catch(function(e){ea.vF.warn("Failed to create checkpoint:",e)}),u.label=14;case 14:return[3,17];case 15:return E=u.sent(),ea.vF.error("[Visual Editor] Failed to apply changes:",E),[3,17];case 16:return n(null),[7];case 17:return[2]}})})()}}).saveChanges,eS=(0,f.md)(p.ed),e_=(0,er.l)(Q),eC=(0,d.useMemo)(function(){return Object.values(e_).every(function(e){return!1===e})},[e_]),eA=function(){et(!1)};return q&&!K?(0,s.Y)(ev.ui,{clsx:[W().placeholderContainer,(0,l._)({},W().withStatusBar,!O)],elevated:!0,children:(0,s.Y)(w.S,{clsx:W().placeholder,align:"center",justify:"center",children:(0,s.Y)(ep.EY,{color:"dimmer",children:"No element selected"})})}):K&&j&&K.filePath&&q?(0,s.Y)(ev.ui,{clsx:[W().editorContainer,W().bordered,(0,l._)({},W().withStatusBar,!O)],align:"center",elevated:!0,children:(0,s.FD)(w.S,{clsx:W().editor,p:12,children:[(0,s.FD)(w.S,{row:!0,justify:"space-between",children:[(0,s.Y)(w.S,{children:(0,s.Y)(v.l,{targetedElement:K,openPane:B})}),(0,s.Y)(g.$n,{text:"",iconLeft:(0,s.Y)(ey.A,{}),variant:"nofill",onClick:function(){if((0,o.vB)(),q)return void G(null);(0,o.J8)(!1,!1)}})]}),eC?(0,s.Y)(w.S,{p:8,children:(0,s.Y)(ep.EY,{color:"dimmer",children:"You can modify this element by describing the change in the chat. No deterministic edits are supported for this element."})}):null,e_.textSectionHeader?(0,s.Y)(ep.EY,{className:W().sectionTitle,children:"Text"}):null,e_.content?(0,s.Y)(w.S,{className:W().formRow,children:(0,s.Y)(U,{})}):null,e_.imageSectionHeader?(0,s.Y)(ep.EY,{className:W().sectionTitle,children:"Image"}):null,e_.imageSource?(0,s.Y)(w.S,{className:W().formRow,children:(0,s.Y)(w.S,{className:W().formField,children:(0,s.Y)($,{})})}):null,e_.fontSize||e_.fontStyle?(0,s.FD)(w.S,{className:W().formRow,children:[e_.fontSize?(0,s.Y)(w.S,{className:W().formField,children:(0,s.Y)(P,{})}):null,e_.fontStyle?(0,s.Y)(w.S,{className:W().formField,children:(0,s.Y)(H,{})}):null]}):null,e_.alignment?(0,s.Y)(w.S,{className:W().formRow,children:(0,s.Y)(w.S,{className:W().formField,children:(0,s.Y)(E,{})})}):null,e_.appearanceSectionHeader?(0,s.Y)(ep.EY,{className:W().sectionTitle,children:"Appearance"}):null,e_.textColor||e_.backgroundColor?(0,s.FD)(w.S,{className:W().formRow,children:[e_.textColor?(0,s.Y)(w.S,{className:W().formField,children:(0,s.Y)(L,{})}):null,e_.backgroundColor?(0,s.Y)(w.S,{className:W().formField,children:(0,s.Y)(D,{})}):null]}):null,e_.layoutSectionHeader?(0,s.Y)(ep.EY,{className:W().sectionTitle,children:"Layout"}):null,e_.margin?(0,s.Y)(w.S,{className:W().formRow,children:(0,s.Y)(w.S,{className:W().formField,children:(0,s.Y)(X,{})})}):null,e_.padding?(0,s.Y)(w.S,{className:W().formRow,children:(0,s.Y)(w.S,{className:W().formField,children:(0,s.Y)(en,{})})}):null,(0,s.Y)(w.S,{row:!0,justify:"space-between",align:"center",gap:8,pt:8,children:eC?null:(0,s.FD)(s.FK,{children:[(0,s.Y)(g.$n,{text:"Delete",iconLeft:(0,s.Y)(ew.A,{}),variant:"outlined",colorway:"negative",onClick:function(){et(!0)}}),(0,s.Y)(eg.m_,{tooltip:"No changes to save",isDisabled:eS,placement:"top",children:(0,s.Y)(g.$n,{text:"Save changes",onClick:function(){return(0,a._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:if(!K)return[2];return[4,eb()];case 1:return e.sent(),[2]}})})()},colorway:"primary",isDisabled:!eS})})]})}),(0,s.Y)(em.a,{isOpen:ee,onRequestClose:eA,children:(0,s.Y)(eh.A,{prompt:"Delete Element",desc:"Are you sure you want to delete this element?",confirmText:"Yes, delete this element",danger:!0,onCancel:eA,onConfirm:function(){return(0,a._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:if(!K)return[2];return(0,o.dT)({style:"display: none;"}),eA(),[4,ex("Delete Element",K)];case 1:return e.sent(),(0,o.J8)(!1,!1),[2]}})})()},icon:(0,s.Y)(ew.A,{})})})]})}):null}},65568:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(45773),i=new(n(74309)).k(function(e){return e?r.Lz.lineWrapping:void 0})},65620:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,A:()=>l});var r=n(21462),i=n(49069),o=n(45773);function a(e){var t=e.view,n=e.line,r=e.col,a=t.state.doc,l=Math.max(1,Math.min(n,a.lines)),c=a.line(l),u=c.to,s=Math.min(c.from+(r||0),u),d=i.OF.cursor(s);t.dispatch({selection:d,effects:[o.Lz.scrollIntoView(s,{x:"center",y:"center"})]})}function l(e){var t=e.view,n=e.isLoading,i=e.deeplink,o=e.onDeeplinkUpdated;(0,r.useEffect)(function(){if(t&&!n&&i){var e=i.line,r=i.col;void 0!==e&&(a({view:t,line:e,col:r}),o&&o())}},[t,n,i,o])}},66787:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,s:()=>f});var r=n(45773);function i(e){return{"&":{fontSize:"".concat(e,"px")},".cm-scroller":{fontSize:"".concat(e,"px")},".cm-tooltip":{fontSize:"".concat(e,"px")}}}var o=r.Lz.theme(i(10)),a=r.Lz.theme(i(12)),l=r.Lz.theme(i(14)),c=r.Lz.theme(i(18)),u=r.Lz.theme(i(20)),s=r.Lz.theme(i(24));function d(e){switch(e){case 10:return o;case 12:return a;case 14:return l;case 18:return c;case 20:return u;case 24:return s;default:throw Error("Unexpected font size")}}function f(e){switch(e){case 10:return"15px";case 12:return"18px";case 14:return"21px";case 18:return"27px";case 20:return"30px";case 24:return"36px";default:throw Error("Unexpected font size")}}},68488:(e,t,n)=>{"use strict";n.d(t,{op:()=>s,P$:()=>f,L:()=>u,$H:()=>g});var r=n(37743),i=n(53847),o=n(45773),a=n(49069),l=n(32978),c=[],u=function(){function e(t){var n=this;(0,r._)(this,e),this.value=t,this.listeners=new l.do,this.compartment=new a.xx,this.extension=o.Z9.define(function(e){var t=!1,r=!1,i=n.getResolvedExtension(e);n.compartment.get(e.state)!==i&&(r=!0,Promise.resolve().then(function(){if(!t&&r){r=!1;try{e.dispatch({effects:n.compartment.reconfigure(i)})}catch(t){(0,o.c_)(e.state,t)}}}));var a=n.listeners.add(function(){if(!t){r=!1;var i=n.getResolvedExtension(e);if(n.compartment.get(e.state)!==i)try{e.dispatch({effects:n.compartment.reconfigure(i)})}catch(t){(0,o.c_)(e.state,t)}}});return{destroy:function(){t=!0,a()}}},{provide:function(){return{get extension(){return n.compartment.of(n.getResolvedExtension())}}}})}var t=e.prototype;return t.getResolvedExtension=function(e){var t;if("function"==typeof this.value)if(e)try{t=this.value(e)}catch(n){(0,o.c_)(e.state,n),t=null}else t=null;else t=this.value;return!t||Array.isArray(t)&&0===t.length?c:t},t.set=function(e){this.value!==e&&(this.value=e,this.listeners.notify())},e}(),s=function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r._)(this,e);var l=a.initialValue;if((0,i._)(t,Promise)){n=new u(l);var c=!1;t.then(function(e){return n.set(e)}).catch(function(e){return n.set(function(t){return c||(c=!0,(0,o.c_)(t.state,e)),"function"==typeof l?l(t):l})})}else n=new u(function(e){return t(e).then(function(e){return n.set(e)}).catch(function(t){return(0,o.c_)(e.state,t)}),"function"==typeof l?l(e):l});this.extension=n},d=n(17459);function f(e,t){var n=t.isEnabled,r=(0,d._)(t,["isEnabled"]);return o.Z9.define(function(t){var r=n(t.state)?e(t):void 0;return{plugin:function(){return r},update:function(i){var o,a;!n(i.startState)&&n(i.state)&&(r=e(t)),n(i.startState)&&!n(i.state)&&(null==r||null==(a=r.destroy)||a.call(r),r=void 0),null==r||null==(o=r.update)||o.call(r,i)},destroy:function(){var e;return null==r||null==(e=r.destroy)?void 0:e.call(r)}}},r)}n(18254);var h=n(48122),m=n(17844),v=n(93629),p=n(86105);function g(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.some(function(t){var n=e,r=t;if("doc"===r)return n.docChanged;if("selection"===r)return!n.startState.selection.eq(n.state.selection);if("focus"===r)return"transactions"in n&&n.focusChanged;if("viewport"===r)return"transactions"in n&&n.viewportChanged;if("tabSize"===r)return n.startState.tabSize!==n.state.tabSize;if("lineBreak"===r)return n.startState.lineBreak!==n.state.lineBreak;if("readOnly"===r)return n.startState.readOnly!==n.state.readOnly;if((0,i._)(r,a.DA))return"transactions"in n?n.transactions.some(function(e){return e.effects.some(function(e){return e.is(r)})}):n.effects.some(function(e){return e.is(r)});if((0,i._)(r,a.sj))return n.startState.facet(r)!==n.state.facet(r);if((0,i._)(r,a.sU))return n.startState.field(r,!1)!==n.state.field(r,!1);if("function"==typeof r)return r(n.startState)!==r(n.state);throw Error("invalid value type")})}function y(e,t){return e.value===t.value&&e.loading===t.loading&&e.error===t.error}(function(){function e(t){var n=this,i=t.initial,l=t.map,c=t.provide,u=t.source;(0,r._)(this,e);var s=[];this.extension=s,this.mutate=a.Pe.define(),this.refresh=a.Pe.define(),this.map=l,this.data=a.sU.define({create:function(){return{value:i,loading:!1,error:null}},update:function(e,t){var r=!1,i=!0,o=!1,a=void 0;try{for(var l,c=t.effects[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;u.is(n.mutate)&&(e=u.value,r=!0)}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}if(!r&&n.map){var s=n.map(e.value,t);s!==e.value&&(e=(0,v._)((0,m._)({},e),{value:s}))}return e},compare:function(e,t){return y(e,t)}}),this.value=a.sU.define({create:function(){return i},update:function(e,t){return t.state.field(n.data).value}}),this.sources=a.sj.define({combine:u?function(e){var t;return null!=(t=e.filter(Boolean)[0])?t:u}:function(e){var t;return null!=(t=e.filter(Boolean)[0])?t:null},enables:this}),this.plugin=o.Z9.define(function(t){return new e.PluginImpl(t,n)},{provide:function(e){return o.Lz.updateListener.of(function(t){var n;null==(n=t.view.plugin(e))||n.postUpdate(t)})}}),s.push(this.data,this.value,this.plugin),c&&s.push("function"==typeof c?c(this):c)}return e.prototype.source=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.debounce,i=n.chain;return this.sources.of({dependencies:e,source:t,debounce:void 0===r?null:r,chain:void 0!==i&&i})},e.define=function(t,n){var r,i,o,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new e({initial:"initial"in l?l.initial:null,map:null!=(r=l.map)?r:null,provide:null!=(i=l.provide)?i:null,source:{dependencies:t,source:n,debounce:null!=(o=l.debounce)?o:null,chain:null!=(a=l.chain)&&a}})},e.scaffold=function(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({initial:"initial"in r?r.initial:null,map:null!=(t=r.map)?t:null,provide:null!=(n=r.provide)?n:null,source:null})},e})().PluginImpl=function(){function e(t,n){var i=this;(0,r._)(this,e),this.view=t,this.resource=n,this.controller=null,this.timeout=null,this.missed=null,this.pending=null,this.queued=!1,this.timeout=setTimeout(function(){i.timeout=null,i.fetch()},0)}var t=e.prototype;return t.abort=function(){if(this.queued&&(this.queued=!1,this.pending=null),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.missed&&(this.missed=null),this.controller){var e=this.controller;this.controller=null,e.abort()}},t.dispatchValue=function(e){if(this.resource.map&&(null==(i=this.missed)?void 0:i.length)){var t=!0,n=!1,r=void 0;try{for(var i,o,a=this.missed[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value;e=this.resource.map(e,l)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}var c=this.view.state.field(this.resource.data),u={value:e,loading:!1,error:null};y(c,u)||this.view.dispatch({effects:this.resource.mutate.of(u)})},t.dispatchLoading=function(){var e=this.view.state.field(this.resource.data),t={value:e.value,loading:!0,error:null};y(e,t)||this.view.dispatch({effects:this.resource.mutate.of(t)})},t.dispatchError=function(e){var t=(0,i._)(e,Error)?e:Error(String(e));(0,o.c_)(this.view.state,t);var n=this.view.state.field(this.resource.data),r={value:n.value,loading:!1,error:t};y(n,r)||this.view.dispatch({effects:this.resource.mutate.of(r)})},t.fetch=function(){var e=this;this.abort();var t=this.view.state,n=t.facet(this.resource.sources),r=t.field(this.resource.data);if(n){this.controller=new AbortController;var o=this.controller.signal;this.resource.map&&(this.missed=[]);var a=this.pending?(0,p._)(this.pending):[],l=function(){!o.aborted&&(e.controller=null,e.missed=null,e.pending=e.pending&&e.queued?e.pending.filter(function(e){return!a.includes(e)}):null,e.queued&&(e.queued=!1,e.fetch()))};try{var c=n.source(t,{data:r,signal:o,transactions:a});if(o.aborted)return;if(!(0,i._)(c,Promise)){this.dispatchValue(c),l();return}this.dispatchLoading(),c.then(function(t){o.aborted||e.dispatchValue(t)}).catch(function(t){o.aborted||e.dispatchError(t)}).finally(l)}catch(e){o.aborted||this.dispatchError(e),l()}}},t.postUpdate=function(e){var t,n,r=this,i=e.state.facet(this.resource.sources);if(!i)return void this.abort();if(e.startState.facet(this.resource.sources)!==i){this.abort(),this.fetch();return}if(this.missed&&(t=this.missed).push.apply(t,(0,p._)(e.transactions)),this.pending&&(n=this.pending).push.apply(n,(0,p._)(e.transactions)),!this.running||!this.queued){var o=g(e,this.resource.refresh);o||(o=Array.isArray(i.dependencies)?g.apply(void 0,[e].concat((0,p._)(i.dependencies))):e.transactions.some(i.dependencies)),o&&(null!=this.pending||(this.pending=(0,p._)(e.transactions)),i.debounce?(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){r.timeout=null,i.chain&&r.running?r.queued=!0:r.fetch()},i.debounce)):i.chain&&this.running?this.queued=!0:this.fetch())}},t.destroy=function(){this.abort()},(0,h._)(e,[{key:"running",get:function(){return null!==this.controller}}]),e}()},68689:(e,t,n)=>{"use strict";n.d(t,{$j:()=>p,AW:()=>h,Bx:()=>s,DV:()=>g,J:()=>_,NN:()=>C,PG:()=>d,cT:()=>w,e0:()=>c,f5:()=>u,fI:()=>f,gN:()=>x,ki:()=>v,vD:()=>y,wP:()=>b,x8:()=>S,y0:()=>l,zq:()=>m});var r=n(17844),i=n(93629),o=n(76957),a=n(33369),l=(0,o.eU)({element:null,metadata:null,isActive:!1,isSelectorScriptLoaded:!1,version:null,screenshotBlob:null}),c=(0,o.eU)(function(e){return e(l).metadata}),u=(0,o.eU)(function(e){return e(l).element}),s=(0,o.eU)(function(e){return e(l).isActive}),d=(0,o.eU)(function(e){return e(l).isSelectorScriptLoaded}),f=(0,o.eU)(function(e){return e(l).screenshotBlob}),h=(0,o.eU)(function(e){return e(l).version}),m=(0,o.eU)(null,function(e,t,n){t(l,(0,i._)((0,r._)({},e(l)),{metadata:n,element:n?(0,a.xC)(n):null,isActive:!0}))}),v=(0,o.eU)(null,function(e,t,n){t(l,(0,i._)((0,r._)({},e(l)),{element:n,isActive:!0}))}),p=(0,o.eU)(null,function(e,t,n){t(l,(0,i._)((0,r._)({},e(l)),{isActive:n}))}),g=(0,o.eU)(null,function(e,t,n){t(l,(0,i._)((0,r._)({},e(l)),{isSelectorScriptLoaded:n}))}),y=(0,o.eU)(null,function(e,t,n){t(l,(0,i._)((0,r._)({},e(l)),{screenshotBlob:n}))}),w=(0,o.eU)(null,function(e,t,n){t(l,(0,i._)((0,r._)({},e(l)),{version:n}))}),x=(0,o.eU)(null,function(e,t){t(l,(0,i._)((0,r._)({},e(l)),{element:null,isActive:!1,screenshotBlob:null}))}),b=(0,o.eU)(!1),S=(0,o.eU)(null,function(e,t){t(b,!0),setTimeout(function(){t(b,!1)},100)}),_=(0,o.eU)(!1),C=(0,o.eU)(null,function(e,t,n){t(_,n)})},68803:(e,t,n)=>{"use strict";n.d(t,{C:()=>function e(t,n,r){if("effects"in t){var i=!0,o=!1,a=void 0;try{for(var l,c=t.effects[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;u.is(n)&&r(u)}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}}else{var s=!0,d=!1,f=void 0;try{for(var h,m=t.transactions[Symbol.iterator]();!(s=(h=m.next()).done);s=!0){var v=h.value;e(v,n,r)}}catch(e){d=!0,f=e}finally{try{s||null==m.return||m.return()}finally{if(d)throw f}}}}})},68843:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(34837),a=n(25590);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M6.513 1.598a1.75 1.75 0 0 1 2.475 0l1.414 1.414a1.75 1.75 0 0 1 0 2.475L8.25 7.64v3.111h8.01l2.574-2.573a1.75 1.75 0 0 1 2.474 0l.708.707a1.75 1.75 0 0 1 0 2.475l-2.829 2.828a1.75 1.75 0 0 1-2.475 0l-.707-.707c-.34-.34-.51-.785-.512-1.23H8.25v6.25c0 .138.112.25.25.25h7.76l2.574-2.573a1.75 1.75 0 0 1 2.474 0l.708.707a1.75 1.75 0 0 1 0 2.475l-2.829 2.828a1.75 1.75 0 0 1-2.475 0l-.707-.707c-.34-.34-.51-.785-.512-1.23H8.5a1.75 1.75 0 0 1-1.75-1.75V9.14l-1.263 1.262a1.75 1.75 0 0 1-2.475 0L1.598 8.988a1.75 1.75 0 0 1 0-2.475l4.915-4.915ZM17.1 12.031l-.035.035a.25.25 0 0 0 0 .353l.707.707a.25.25 0 0 0 .354 0l2.828-2.828a.25.25 0 0 0 0-.353l-.707-.708a.25.25 0 0 0-.354 0l-2.792 2.793H17.1ZM9.34 4.427a.25.25 0 0 0 0-.354L7.927 2.659a.25.25 0 0 0-.353 0L2.659 7.574a.25.25 0 0 0 0 .353l1.414 1.414a.25.25 0 0 0 .353 0l4.915-4.914Zm10.907 12.81a.25.25 0 0 0-.354 0l-2.828 2.829a.25.25 0 0 0 0 .353l.707.707a.25.25 0 0 0 .354 0l2.828-2.828a.25.25 0 0 0 0-.353l-.707-.708Z",clipRule:"evenodd"})}))}},69379:(e,t,n)=>{"use strict";function r(e,t){var n=0;e:for(var r=0;r<e.length;r++)switch(e[r]){case" ":n+=1;continue;case"	":n+=t-n%t;continue;case"\r":continue;default:break e}return n}n.d(t,{t:()=>r})},69420:(e,t,n)=>{"use strict";n.d(t,{X:()=>o,q:()=>a});var r=n(49069),i=n(41118),o=r.sj.define({combine:function(e){return(0,i.z)(e.flat())}}),a=o.reader},70411:(e,t,n)=>{"use strict";n.d(t,{h:()=>p});var r,i=n(83846),o=n(9066),a=n(44725),l=n(83265),c=n(49069),u=n(45773),s=n(59911),d=new(n(68488)).L(function(e){return u.Lz.clickAddsSelectionRange.of(function(t){if(t.altKey)return!0;if(window.navigator.userAgent.includes("Macintosh")&&t.ctrlKey){var n=t.clientX,r=t.clientY,i=e.posAtCoords({x:n,y:r});return null!==i&&e.state.selection.ranges.some(function(e){return i>=e.from&&i<=e.to})}return!1})}),f=n(73009),h=n(80258),m=n(74309),v=u.Lz.theme({".cm-cursorLayer":{display:"none"},"&:not(.cm-focused)":(r={"& .cm-activeLineGutter":{backgroundColor:"unset",color:"unset"}},(0,i._)(r,"& .".concat(h.Fb),{display:"none"}),(0,i._)(r,"& .cm-selectionLayer",{display:"none"}),r)}),p=new m.k(function(e,t,n,r){if(e){var i=[c.$t.readOnly.of(!0),v,(0,l.gN)(),(0,u.VH)(),(0,s.$)(),h.p4];return n&&i.push(f.Tj),i}var m=[(0,u.VH)(),h.p4,(0,u.A)(),c.$t.allowMultipleSelections.of(!0),d,(0,l.gN)(),(0,u.D4)({eventFilter:function(e){return e.altKey&&e.shiftKey}}),(0,a.SG)(),(0,s.$)(),(0,l.$P)({top:!0})];return t||m.push((0,u.N$)()),n&&m.push(f.Tj),r&&m.push((0,o.wm)()),m})},71466:(e,t,n)=>{"use strict";n.d(t,{RJ:()=>y,UW:()=>f,xq:()=>g});var r=n(37743),i=n(49069),o=n(55778),a=n(53847),l=n(86105),c=n(82643),u=n(85361),s=function(){function e(t,n){if((0,r._)(this,e),this.updates=n,(0,a._)(t,i.om))this.ranges=t;else{(0,a._)(t,i.VR)||(t=i.VR.of(t,1/0));var o=[];t.iterChanges(function(e,t,n,r,i){i.length&&o.push(u.kp.range(t,i)),e!==t&&o.push(u.v7.range(e,t))}),this.ranges=i.om.of(o,!0)}}var t=e.prototype;return t.update=function(t){var n=this,r=this.updates?(0,l._)(this.updates).concat([t]):[t];if(t.empty)return new e(this.ranges,r);var i=!1,o=!0,c=new Set,s=[];if(t.iterChanges(function(e,t,r,d,f){if(!i){var h=null,m=!0,v=!1,p=void 0;try{for(var g,y=n[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var w=g.value,x=(0,a._)(w,u.kp)?w.fulfilledRange(w.from):w,b=null===h||h!==x.from;h=x.to;var S=(0,u.Jv)(w,b,e,t,r,d,f);if(S===w){o&&!w.value.isFulfilled&&(o=!1);continue}if(S){if(c.has(w.value)){i=!0;break}if(c.add(w.value),Array.isArray(S)){if(c.add(w.value),s.push.apply(s,(0,l._)(S)),o){var _=!0,C=!1,A=void 0;try{for(var k,E=S[Symbol.iterator]();!(_=(k=E.next()).done);_=!0)if(!k.value.value.isFulfilled){o=!1;break}}catch(e){C=!0,A=e}finally{try{_||null==E.return||E.return()}finally{if(C)throw A}}}}else s.push(S),o&&!S.value.isFulfilled&&(o=!1);continue}i=!0;break}}catch(e){v=!0,p=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw p}}}}),i)return null;var d=this.ranges;return c.size&&(d=d.update({filter:function(e,t,n){return!c.has(n)}})),d=d.map(t),s.length&&(d=d.update({add:s,sort:!0})),!!d.size&&!o&&new e(d,r)},t.merge=function(t){var n=new e(t);if(n&&this.updates){var r=!0,i=!1,o=void 0;try{for(var a,l=this.updates[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;if(!(n=n.update(c)))break}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}return n},t.touches=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=!0,r=!1,i=void 0;try{for(var o,a=this[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if((0,u.r_)(l,e,t))return!0}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1},t.closestRange=function(e){var t=null,n=!0,r=!1,i=void 0;try{for(var o,l=this[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value;if(!c.value.isFulfilled){if(null===t){t=c;continue}c.from===t.from?(0,a._)(c.value,u.kp)&&(t=c):Math.abs(c.from-e)<Math.abs(t.from-e)&&(t=c)}}}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}if(null===t)throw Error("No unfulfilled ranges found");return t},t.asChangeSpec=function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=this[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;!l.value.isFulfilled&&((0,a._)(l.value,u.kp)?e.push({from:l.from,insert:l.value.unfulfilled}):(0,a._)(l.value,u.v7)&&e.push({from:l.from,to:l.to}))}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e},t.extendSelection=function(e){var t=i.VR.of(this.asChangeSpec(),1/0),n=e.map(t),r=n.main.to;return(t.iterChangedRanges(function(e,t,n,i){i>r&&(r=i)}),r!==n.main.to)?n.replaceRange(i.OF.cursor(r),n.mainIndex):n},t.isFulfilledUpTo=function(e){var t=!0;return this.ranges.between(0,e,function(n,r,i){if(r<e&&!i.isFulfilled)return t=!1,!1}),t},t[Symbol.iterator]=function(){var e;return(0,c.YH)(this,function(t){switch(t.label){case 0:if(!(e=this.ranges.iter()).value)return[2];t.label=1;case 1:if(!e.value)return[3,3];return[4,e.value.range(e.from,e.to)];case 2:return t.sent(),e.next(),[3,1];case 3:return[2]}})},e}(),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,r._)(this,e),this.updates=t}var t=e.prototype;return t.update=function(t){return new e((0,l._)(this.updates).concat([t]))},t.upgrade=function(e){var t=new s(e);if(t&&this.updates.length){var n=!0,r=!1,i=void 0;try{for(var o,a=this.updates[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(!(t=t.update(l)))break}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}return t},e}(),f=function(e){return e.FULLY_TYPED_INTO="FULLY_TYPED_INTO",e.ACCEPTED_BY_USER="ACCEPTED_BY_USER",e.DISMISSED_BY_USER="DISMISSED_BY_USER",e.INCOMPATIBLE_DOCUMENT_CHANGE="INCOMPATIBLE_DOCUMENT_CHANGE",e.INCOMPATIBLE_CURSOR_CHANGE="INCOMPATIBLE_CURSOR_CHANGE",e.INCOMPATIBLE_SUGGESTION="INCOMPATIBLE_SUGGESTION",e.OTHER="OTHER",e}({}),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OTHER";(0,r._)(this,e),this.stopped=!0,this.slotted=!1,this.active=!1,this.presented=!1,this.reason=t}var t=e.prototype;return t.dismiss=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OTHER";return this.reason===t?this:new e(t)},t.start=function(){return new m},e}(),m=function(){function e(t){(0,r._)(this,e),this.stopped=!1,this.slotted=!0,this.active=!1,this.presented=!1,this.slot=null!=t?t:new d}var t=e.prototype;return t.dismiss=function(e){return new h(e)},t.update=function(t){return t.docChanged?new e(this.slot.update(t.changes)):this},t.upgrade=function(e){var t=this.slot.upgrade(e.insertions);return null===t?this.dismiss("INCOMPATIBLE_SUGGESTION"):!1===t?this.dismiss("FULLY_TYPED_INTO"):new v(e,t)},e}(),v=function(){function e(t,n){(0,r._)(this,e),this.stopped=!1,this.slotted=!1,this.active=!0,this.presented=!1,this.suggestion=t,this.changes=null!=n?n:new s(t.insertions)}var t=e.prototype;return t.dismiss=function(e){return new h(e)},t.with=function(t){var n=this.suggestion.with(t),r=this.changes.merge(n.insertions);return r?new e(n,r):this.dismiss("INCOMPATIBLE_SUGGESTION")},t.update=function(t){if(t.docChanged||t.selection){var n=t.docChanged?this.changes.update(t.changes):this.changes;if(null===n)return this.dismiss("INCOMPATIBLE_DOCUMENT_CHANGE");if(!1===n)return this.dismiss("FULLY_TYPED_INTO");var r=t.newSelection.main.head;if(!n.touches(r)||!n.isFulfilledUpTo(r))return this.dismiss("INCOMPATIBLE_CURSOR_CHANGE");if(n!==this.changes)return new e(this.suggestion,n)}return this},t.present=function(){return new p(this.suggestion,Date.now(),this.changes)},e}(),p=function(){function e(t,n,i){(0,r._)(this,e),this.stopped=!1,this.slotted=!1,this.active=!0,this.presented=!0,this.suggestion=t,this.changes=null!=i?i:new s(t.insertions),this.timestamp=n}var t=e.prototype;return t.dismiss=function(e){return new h(e)},t.with=function(t){var n=this.suggestion.with(t),r=this.changes.merge(n.insertions);return r?new e(n,this.timestamp,r):this.dismiss("INCOMPATIBLE_SUGGESTION")},t.update=function(t){if(t.docChanged||t.selection){var n=t.docChanged?this.changes.update(t.changes):this.changes;if(null===n)return this.dismiss("INCOMPATIBLE_DOCUMENT_CHANGE");if(!1===n)return this.dismiss("FULLY_TYPED_INTO");var r=t.newSelection.main.head;if(!n.touches(r)||!n.isFulfilledUpTo(r))return this.dismiss("INCOMPATIBLE_CURSOR_CHANGE");if(n!==this.changes)return new e(this.suggestion,this.timestamp,n)}return this},e}(),g=i.Pe.define(),y=i.sU.define({create:function(){return new h},update:function(e,t){var n=!1,r=!0,i=!1,o=void 0;try{for(var a,l=t.effects[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;if(c.is(g))if(n=!0,c.value.active){var u=t.newSelection.main.head,s=c.value.changes;e=s.touches(u)&&s.isFulfilledUpTo(u)?c.value:c.value.dismiss("INCOMPATIBLE_CURSOR_CHANGE")}else e=c.value}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n||e.stopped||(e=e.update(t)),e},provide:function(e){return[o.x.from(e,function(e){return e.presented?e.changes.asChangeSpec():null})]}})},72764:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,f:()=>l});var r=n(49069),i=n(45773);function o(e){var t=r.Pe.define();return[r.sU.define({create:function(){return e.current},update:function(e,n){var r=!0,i=!1,o=void 0;try{for(var a,l=n.effects[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;c.is(t)&&(e=c.value)}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return e},provide:function(e){return a.from(e)}}),i.Z9.define(function(n){var r=e.subscribe(function(e){n.dispatch({effects:[t.of(e),e&&i.vo].filter(Boolean)})});return{destroy:function(){r()}}})]}var a=r.sj.define({combine:function(e){return e.some(Boolean)}}),l=a.reader},73009:(e,t,n)=>{"use strict";n.d(t,{Gw:()=>m,Tj:()=>v,vR:()=>f});var r=n(52422),i=n(49069),o=n(45773),a=n(68488),l=n(27250),c=n(64498),u=n(74309),s="--cm-tooltip-max-width",d=o.Lz.theme({".cm-tooltips-container > &":{display:"block !important",overflow:"visible !important",position:"relative !important",height:"0 !important",width:"0 !important",border:"none !important"},".cm-tooltip":{maxHeight:(0,r.isMobile)()?"min(300px, 70vh)":"70vh",maxWidth:(0,r.isMobile)()?"min(var(".concat(s,", 470px), 80vw) !important"):"min(var(".concat(s,", 300px), 40vw) !important")}}),f=new WeakMap,h=i.sj.define({combine:function(e){return e.some(Boolean)}}),m=new u.k(function(e){return e?h.of(!0):null}),v=new a.L(function(e){var t=document.createElement("div");t.className="cm-tooltips-container",t.style.zIndex="1000",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.height="0",t.style.width="0",document.body.appendChild(t),f.set(e,t),(0,c.N)(t,e);var n={key:{},read:function(){return e.dom.clientWidth},write:function(e){return t.style.setProperty(s,"".concat(e,"px"))}};e.requestMeasure(n);var r=e.state.facet(h);r&&(t.style.display="none");var u=o.Z9.define(function(){return{update:function(i){(0,a.$H)(i,l.k)&&e.requestMeasure(n);var o=i.state.facet(h);r!==o&&(r=o,t.style.display=r?"none":"")},destroy:function(){t.remove(),f.delete(e)}}});return[i.Nb.highest(d),(0,o.vX)({position:"fixed",parent:t}),u]})},73488:(e,t,n)=>{"use strict";n.d(t,{h:()=>s,u:()=>r});var r,i=n(62019),o=n(37743),a=n(1833),l=n(89264),c=n(45773),u=n(80367);r=function(e){function t(e){var n;return(0,o._)(this,t),(n=(0,i._)(this,t))._mount=null==e?void 0:e.mount,n._unmount=null==e?void 0:e.unmount,n}(0,a._)(t,e);var n=t.prototype;return n.connectedCallback=function(){if(this.isConnected){var e;null==(e=this._mount)||e.call(this,this)}},n.disconnectedCallback=function(){var e;null==(e=this._unmount)||e.call(this,this)},t}((0,l._)(HTMLElement)),customElements.get("cm-editor-lifecycle")||customElements.define("cm-editor-lifecycle",r);var s=c.Lz.styleModule.of(new u.G({"cm-editor-lifecycle":{display:"block"}}))},74177:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,R:()=>o});var r=n(71466),i=n(75028);function o(e){var t;return!!(null==(t=e.field(r.RJ,!1))?void 0:t.presented)}function a(e){var t=e.state.field(r.RJ,!1);return void 0!==t&&(e.dispatch({effects:[r.xq.of(t.dismiss()),i.hB.of(i.l9.NOW)]}),!0)}},74286:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(34837),a=n(25590);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M9.903 1.455a10.799 10.799 0 0 1 4.194 0 .75.75 0 0 1-.29 1.471 9.3 9.3 0 0 0-3.613 0 .75.75 0 1 1-.291-1.471Zm7.03 1.812a.75.75 0 0 1 1.04-.206 10.804 10.804 0 0 1 2.966 2.966.75.75 0 0 1-1.247.834 9.304 9.304 0 0 0-2.553-2.553.75.75 0 0 1-.206-1.04Zm-9.866 0a.75.75 0 0 1-.206 1.04 9.305 9.305 0 0 0-2.553 2.554.75.75 0 1 1-1.247-.834A10.805 10.805 0 0 1 6.027 3.06a.75.75 0 0 1 1.04.206ZM2.336 9.313a.75.75 0 0 1 .59.88 9.3 9.3 0 0 0 0 3.613.75.75 0 0 1-1.471.291 10.8 10.8 0 0 1 0-4.194.75.75 0 0 1 .88-.59Zm19.328 0a.75.75 0 0 1 .881.59 10.799 10.799 0 0 1 0 4.194.75.75 0 0 1-1.471-.29 9.295 9.295 0 0 0 0-3.613.75.75 0 0 1 .59-.881Zm-.931 7.62a.75.75 0 0 1 .206 1.04 10.804 10.804 0 0 1-2.966 2.966.75.75 0 0 1-.834-1.247 9.302 9.302 0 0 0 2.553-2.553.75.75 0 0 1 1.04-.206Zm-17.466 0a.75.75 0 0 1 1.04.206 9.304 9.304 0 0 0 2.554 2.553.75.75 0 0 1-.834 1.247 10.804 10.804 0 0 1-2.966-2.966.75.75 0 0 1 .206-1.04Zm6.046 4.731a.75.75 0 0 1 .88-.59 9.295 9.295 0 0 0 3.613 0 .75.75 0 0 1 .291 1.471 10.8 10.8 0 0 1-4.194 0 .75.75 0 0 1-.59-.88Z",clipRule:"evenodd"})}))}},74309:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var r=n(37743),i=n(86105),o=n(21462),a=n(68488),l=n(860),c=function(){function e(t){(0,r._)(this,e),this.factory=t}return e.prototype.use=function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var c=(0,o.useRef)(!1),u=(0,l.A)(function(){var t=new a.L(e.factory.apply(e,(0,i._)(n)));return c.current=!0,t},[]);return(0,o.useEffect)(function(){c.current?c.current=!1:u.set(e.factory.apply(e,(0,i._)(n)))},(0,i._)(n)),u},e}()},75028:(e,t,n)=>{"use strict";n.d(t,{Lf:()=>b,Ly:()=>w,SQ:()=>S,hB:()=>x,l9:()=>y});var r=n(86105),i=n(9066),o=n(44725),a=n(49069),l=n(45773),c=n(18254),u=n(95866),s=n(79301),d=n(71466),f=n(82824),h=new Set(["\n"]),m=new Set(["	"," "]),v=new Set(["@",".","[","(",":","{",'"',"'"]),p=new Set(["@",":","::","..","...","=>","->",","]),g=new Set([u._A.self,u._A.null,u._A.atom,u._A.unit]),y=function(e){return e[e.IDLE=0]="IDLE",e[e.STOP=1]="STOP",e[e.ENQUEUE=2]="ENQUEUE",e[e.NOW=3]="NOW",e}({}),w=a.sj.define(),x=a.Pe.define(),b=a.sU.define({create:function(){return 1},update:function(e,t){if(t.state.facet(w).some(function(e){return null!==e&&e(t)}))return 1;var n=!0,l=!1,y=void 0;try{for(var b,S,_=t.effects[Symbol.iterator]();!(n=(S=_.next()).done);n=!0){var C=S.value;if(C.is(x))return C.value}}catch(e){l=!0,y=e}finally{try{n||null==_.return||_.return()}finally{if(l)throw y}}if((null==(b=t.state.field(d.RJ,!1))?void 0:b.presented)||t.annotation(a.ZX.remote))return 0;if(t.isUserEvent("input.drop")||t.isUserEvent("input.complete")||t.isUserEvent("undo")||t.isUserEvent("input.type.compose")||!t.newSelection.main.empty||t.newSelection.ranges.length>1||"active"===(0,i.DH)(t.state))return 1;var A=t.startState.selection.main.head,k=t.newSelection.main.head;if((t.docChanged||t.selection)&&!(0,s.pF)(t.newDoc,k)){if(!(0,o.nd)(t.state,k))return 1;var E=(0,f.gJ)((0,o.mv)(t.state),k);if(!E||E.inside.to<=k)return 1;var Y=t.newDoc.slice(0,E.inside.to);if(!(0,s.pF)(Y,k))return 1}if(t.docChanged&&t.isUserEvent("input")){var D=(0,s.Ys)(t.changes,A,k);if(!D)return 2;var L=D.from,T=D.to,U=D.char;if(null!==U&&h.has(U))return 3;if(null!==U&&m.has(U)){if((0,s.$s)(t.newDoc,k))return 3;if((0,s.Im)(t.newDoc.sliceString(L,T)))return 2}if(t.state.facet(o.BH)&&(0,o.nd)(t.state,T)){var R,F=(0,o.mv)(t.state),M=(0,f.t1)(t.newDoc,F,L,k);if(!M||f.ti.apply(void 0,[M].concat((0,r._)(g))))return 2;if((0,f.ti)(M,u._A.string))return L<=M.from&&k===M.from+1?3:2;if(M.to<=k){if((0,f.ti)(M,u._A.bracket)&&(null==(R=M.type.prop(c.uY.closedBy))?void 0:R.length)||(0,f.ti)(M,u._A.keyword,u._A.operator))return 3;if((0,f.ti)(M,u._A.meta,u._A.punctuation)){var P=t.newDoc.sliceString(M.from,M.to);if(p.has(P))return 3}}return 2}return null!==U&&v.has(U)?3:2}return t.docChanged&&t.isUserEvent("delete.backward")?2:0},provide:function(){return[l.Lz.focusChangeEffect.of(function(e,t){return t?null:x.of(1)})]}});function S(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)switch(o.value.state.field(b)){case 1:return 1;case 2:3!==t&&(t=2);break;case 3:t=3}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},77537:(e,t,n)=>{"use strict";n.d(t,{a:()=>l,e:()=>a});var r=n(49069),i=n(74309),o=r.sj.define({combine:function(e){return e[0]}});function a(e,t,n){var r=e.state.facet(o);if(r){var i=e.coordsAtPos(null!=n?n:e.state.selection.main.from);i&&r({x:i.left,y:i.bottom},t)}}var l=new i.k(function(e){return o.of(e)})},78925:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(34837),a=n(25590);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M14.5 2.75A2.25 2.25 0 0 0 12.25 5v2.75h4.25a.75.75 0 0 1 0 1.5h-4.25V19a3.75 3.75 0 0 1-3.75 3.75h-1a.75.75 0 0 1 0-1.5h1A2.25 2.25 0 0 0 10.75 19V9.25H7.5a.75.75 0 0 1 0-1.5h3.25V5a3.75 3.75 0 0 1 3.75-3.75h2a.75.75 0 0 1 0 1.5h-2Z",clipRule:"evenodd"})}))}},79301:(e,t,n)=>{"use strict";n.d(t,{$s:()=>f,BA:()=>s,Im:()=>u,Ph:()=>d,Ys:()=>m,pF:()=>h,uz:()=>l,zb:()=>c});var r=n(40247),i=/\r\n?|\n/,o=/^\s*[)\]};]+\s*$/,a=/^((?:[^\S\n]*\n)*)([^\S\n]*)([^]*)/;function l(e){return e.split(i)}function c(e){return o.test(e)}function u(e){return"string"!=typeof e&&(e=e.text),0===e.length||""===e.trim()}function s(e){var t=a.exec(e);if(!t)throw Error("Unexpected no match");return{newlines:"\n".repeat(l(t[1]).length-1),indentation:t[2],content:t[3]}}function d(e,t){return t>0&&t>=r.am&&!r.HH.has(e.sliceString(t-1,t))}function f(e,t){return u(e.lineAt(t))}function h(e,t){var n=e.lineAt(t);if(t===n.to||u(n))return!0;for(var i=n.text.slice(t-n.from),o=0;o<i.length;o++)if(!r.EN.has(i[o]))return!1;return!0}function m(e,t,n){var r=null,i=null,o=null;return(e.iterChanges(function(e,a,l,c,u){if(u.length>0&&e<=t&&a>=t&&l<=n&&c>=n&&(null!==i&&null!==o&&l===o?c=o:(i=l,o=c),n!==l)){var s=n-l-1;r=u.sliceString(s,s+1)}},!0),null===i||null===o)?null:{from:i,to:o,char:r}}},80258:(e,t,n)=>{"use strict";n.d(t,{Fb:()=>c,p4:()=>m});var r,i=n(37743),o=n(83846),a=n(45773),l=n(39534),c="cm-active-line-layer",u="cm-active-line-layer-element",s=a.Lz.theme((r={},(0,o._)(r,".".concat(c),{width:"100%"}),(0,o._)(r,".".concat(u),{backgroundColor:l.LU.backgroundHigher,width:"100%",opacity:.5}),r)),d=(0,a.qd)({above:!1,class:c,update:function(e){return e.docChanged||e.selectionSet},markers:function(e){var t=[],n=-1,r=!0,i=!1,o=void 0;try{for(var l,c=e.state.selection.ranges[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var s=l.value;if(!(s.head<=n)){var d=e.lineBlockAt(s.head);if(n=d.to,d.type===a._B.Text){t.push(new a.Ip(u,0,d.top+e.documentPadding.top,null,d.height));continue}if(Array.isArray(d.type)){var f=d.type,h=!0,m=!1,v=void 0;try{for(var p,g=f[Symbol.iterator]();!(h=(p=g.next()).done);h=!0){var y=p.value;y.type===a._B.Text&&t.push(new a.Ip(u,0,y.top+e.documentPadding.top,null,y.height))}}catch(e){m=!0,v=e}finally{try{h||null==g.return||g.return()}finally{if(m)throw v}}}}}}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return t}}),f=a.NZ.line({class:"cm-replit-active-line"}),h=function(){function e(t){(0,i._)(this,e),this.decorations=this.makeDecorations(t)}var t=e.prototype;return t.makeDecorations=function(e){var t=[],n=-1,r=!0,i=!1,o=void 0;try{for(var l,c=e.state.selection.ranges[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;if(u.head>n){var s=e.lineBlockAt(u.head);t.push(f.range(s.from)),n=s.to}}}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return a.NZ.set(t)},t.update=function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.makeDecorations(e.view))},e}(),m=[s,d,a.Z9.fromClass(h,{decorations:function(e){return e.decorations}})]},81176:(e,t,n)=>{"use strict";n.d(t,{f:()=>B,Q:()=>I});var r=n(17844),i=n(93629),o=n(49069),a=n(45773),l=n(68488),c=n(17795),u=n(34837),s=n(73321),d=n(83846),f=n(17459),h=n(21462),m=n(86846),v=n(41409),p=n(14229),g=n(88189),y=n(17437),w=n(39534),x=n(70764),b=n(51292),S=n(19944),_=n(18712),C=n(91953),A=n(25227),k=(0,S.v)(["bgColor","bgOpacity"]),E=k.cssVars,Y=k.styleTokens,D=(0,x.x)({liWithOnClick:[_.wp.display.flex,_.wp.flex.row,b.b.listItem],liWithoutOnClick:[_.wp.display.flex,_.wp.flex.row],icon:[_.wp.display.flex,_.wp.flex.column,_.wp.justify.center,_.wp.px(8),{backgroundColor:Y.bgColor}],background:[_.wp.position.relative,_.wp.px(8),_.wp.py(4),{"&::before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:Y.bgColor,opacity:Y.bgOpacity}}],content:[_.wp.zIndex(1),_.wp.rowWithGap(8),_.wp.flex.shrink(1)],text:[_.wp.flex.shrink(1),_.wp.overflowX("hidden"),{textOverflow:"ellipsis",whiteSpace:"nowrap"}],source:[_.wp.color.foregroundDimmest],position:[_.wp.color.foregroundDimmest,_.wp.flex.grow(1),_.wp.align.end]}),L=function(e){var t,n,r,i;switch(e){case m.DiagnosticSeverity.Error:return t={},(0,d._)(t,E.bgColor,w.LU.accentNegativeDimmer),(0,d._)(t,E.bgOpacity,"0.4"),t;case m.DiagnosticSeverity.Warning:return n={},(0,d._)(n,E.bgColor,w.LU.yellowDimmer),(0,d._)(n,E.bgOpacity,"0.4"),n;case m.DiagnosticSeverity.Hint:case m.DiagnosticSeverity.Information:return r={},(0,d._)(r,E.bgColor,w.LU.greyDimmest),(0,d._)(r,E.bgOpacity,"0"),r;default:return i={},(0,d._)(i,E.bgColor,"unset"),(0,d._)(i,E.bgOpacity,"0"),i}};function T(e){var t=e.problem,n=e.showSource,o=e.showPosition,a=e.withSeverityBackgroundColor,l=void 0!==a&&a,c=(0,f._)(e,["problem","showSource","showPosition","withSeverityBackgroundColor"]),s=t.range.start.line+1,m=t.range.start.character,w=(0,h.useRef)(null),x=(0,h.useMemo)(function(){return(0,v.F)({severity:t.severity,show:l})},[t.severity,l]);return(0,p.d)(w,x,function(e){var t,n=e.show,r=e.severity;return n?L(r):(t={},(0,d._)(t,E.bgColor,"unset"),(0,d._)(t,E.bgOpacity,"0"),t)}),(0,u.FD)(A.D.li,(0,i._)((0,r._)({ref:w,css:c.onClick?D.liWithOnClick:D.liWithoutOnClick,tabIndex:0},c),{children:[(0,u.Y)(A.S,{css:D.icon,children:(0,u.Y)(g.N.Provider,{value:l,children:(0,u.Y)(y.A,{severity:t.severity})})}),(0,u.Y)(A.S,{css:D.background,grow:!0,shrink:!0,children:(0,u.FD)(A.S,{css:D.content,children:[(0,u.Y)(C.EY,{css:D.text,children:t.message}),(void 0===n||n)&&t.source?(0,u.Y)(C.EY,{css:D.source,children:"(".concat(t.source,")")}):null,void 0===o||o?(0,u.Y)(A.S,{css:D.position,children:(0,u.Y)(C.EY,{children:"Ln ".concat(s,", Col ").concat(m+1)})}):null]})})]}))}var U=n(73455),R=n(70399),F=(0,x.x)({header:[_.wp.border({direction:"bottom",color:w.LU.outlineDimmest,width:1})],list:[_.wp.flex.grow(1),_.wp.overflowY("auto"),{flexShrink:"unset"}],none:[_.wp.py(4),_.wp.px(8)],root:[_.wp.height("100%"),_.wp.flex.column]}),M=n(89832),P=n(14603),I=function(e){return e.dispatch({effects:N.of(null)}),!0},N=o.Pe.define(),H=new M.E(function(e){var t=e.problems,n=e.onFocus,r=e.onClose,i=e.onKeyDown;return(0,u.Y)(s.n1,{autoFocus:!0,children:(0,u.FD)(A.S,{css:F.root,onKeyDown:function(e){return i(e.nativeEvent)},children:[(0,u.FD)(A.S,{css:F.header,px:8,py:4,row:!0,gap:4,align:"center",justify:"space-between",children:[(0,u.Y)(A.S,{children:(0,u.Y)(C.EY,{children:"Code Diagnostics"})}),(0,u.Y)(U.K0,{alt:"Close",onClick:r,children:(0,u.Y)(R.A,{})})]}),(0,u.FD)(A.D.ul,{css:F.list,children:[0===t.length?(0,u.Y)(C.EY,{css:F.none,children:"No problems detected in this file"}):null,t.map(function(e,t){return(0,u.Y)(T,{problem:e,onClick:function(){n(e,!1)},onDoubleClick:function(){n(e,!0)},onFocus:function(t){null!==t.relatedTarget&&(t.stopPropagation(),t.preventDefault(),n(e,!1))},onKeyDown:function(t){"Enter"===t.key&&(t.stopPropagation(),t.preventDefault(),n(e,!0))}},t)})]})]})})}),B=o.sU.define({create:function(){return!1},update:function(e,t){return(0,l.$H)(t,N)?!e:e},provide:function(e){var t=function(t){var n=H.create({problems:(0,c.VS)(t.state),onFocus:function(e,n){t.dispatch({selection:{anchor:(0,P.TU)(t.state.doc,e.range.start),head:(0,P.TU)(t.state.doc,e.range.end)},scrollIntoView:!0}),n&&t.focus()},onClose:function(){I(t),t.focus()},onKeyDown:function(e){(0,a.TS)(t,e,"problems-panel")&&e.preventDefault()}});return{dom:n,update:function(t){(!t.state.field(e)||(0,l.$H)(t,c.VS))&&H.update(n,function(e){return(0,i._)((0,r._)({},e),{problems:(0,c.VS)(t.state)})})}}};return[a.S7.from(e,function(e){return e?t:null}),a.w4.of([{key:"Escape",scope:"editor problems-panel",run:function(t){return!!t.state.field(e)&&I(t)}}])]}})},81269:(e,t,n)=>{"use strict";n.d(t,{H:()=>d,Q:()=>f});var r=n(17844),i=n(93629),o=n(53811),a=n(90629),l=n(34778),c={workspace:!0,bsod:!1},u="undefined-event-id";function s(e,t){var n=u;return a.v4(function(i){var o;i.setTags((0,r._)({},c,null!=(o=null==t?void 0:t.tags)?o:{})),(null==t?void 0:t.componentStack)&&i.setContext("react",{componentStack:t.componentStack}),(null==t?void 0:t.extras)&&i.setExtras(t.extras),n=a.Cp(e)||u}),n}function d(e,t){return(0,l.u4)(l.AZ.WS_CRASHED),(t=null!=t?t:{}).tags=(0,i._)((0,r._)({},t.tags),{workspace:!0,bsod:!0}),o.L.addError(e,(0,r._)({},t.tags)),s(e,t)}function f(e,t){return(t=null!=t?t:{}).tags=(0,i._)((0,r._)({},t.tags),{workspace:!0,bsod:!1}),s(e,t)}},82824:(e,t,n)=>{"use strict";n.d(t,{G2:()=>l,gJ:()=>c,gu:()=>f,t1:()=>u,ti:()=>d});var r=n(18254),i=n(95866);function o(e,t){return e===t||e.type===t.type&&e.from===t.from&&e.to===t.to}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return""===e.sliceString(t.from+n,t.to).trim()}function l(e,t,n){var i,l=t.resolveInner(n);if(a(e,l)){var c=l;for(l=null;c;)if((c=c.parent)&&!a(e,c)){l=c;break}if(!l)return!1}if(function(e,t){if(1!==e.slice(t.from,t.to).lines)return!1;var n=t.firstChild,r=t.lastChild;return(null==n?void 0:n.name)==="("&&(null==r?void 0:r.name)===")"||(null==n?void 0:n.name)==="<"&&(null==r?void 0:r.name)===">"}(e,l))return!1;var u=e.lineAt(n);if("Script"===l.name&&""!==u.text&&u.number>1&&e.line(u.number-1).text.trimEnd().endsWith(":")||"Body"===l.name&&(null==(i=l.firstChild)?void 0:i.name)===":"&&u.number!==e.lineAt(l.from).number&&a(e,l,1))return!0;if(l.type.isTop)return!1;var s=l.firstChild,d=l.lastChild;if(!s||!d||o(s,d))return!1;var f=s.type.prop(r.uY.closedBy),h=d.type.prop(r.uY.openedBy);return!!f&&!!h&&!!f.includes(d.name)&&!!h.includes(s.name)&&""===e.sliceString(s.to,d.from).trim()}function c(e,t){for(var n=e.resolveStack(t);null==n?void 0:n.node;){var i,a=n.node;n=n.next;var l={from:a.from,to:a.to};if("Body"===a.name&&(null==(i=a.firstChild)?void 0:i.name)===":")return l.from=a.firstChild.to,{node:a,inside:l};if(a.type.isTop)break;if(a.from>t||a.to<t)continue;var c=a.firstChild,u=a.lastChild;if(!(!c||!u||o(c,u))){var s=c.type.prop(r.uY.closedBy),d=u.type.prop(r.uY.openedBy);if(s&&d&&s.includes(u.name)&&d.includes(c.name))return l.from=c.to,l.to=u.from,{node:a,inside:l}}}return null}function u(e,t,n,r){var i=r,o=!0,l=!1,c=void 0;try{for(var u,s=e.iterRange(r,n)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var d=u.value;if(""===d){i--;continue}var f=d.trimEnd();if(i-=d.length-f.length,f)break}}catch(e){l=!0,c=e}finally{try{o||null==s.return||s.return()}finally{if(l)throw c}}var h=t.resolveInner(i,-1).cursor(),m=null;do if(!a(e,h.node)){m=h.node;break}while(h.prev()&&h.to>n);return m}var s=new WeakMap;function d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0===n.length)return!1;var o=s.get(e);if(null===o)return!1;if(void 0===o){var a=(0,i.pg)(e);if(!a||0===a.tags.length)return s.set(e,null),!1;o=new Set;var l=!0,c=!1,u=void 0;try{for(var d,f=a.tags[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var h=d.value;!function e(t,n){if(!t.has(n)&&(t.add(n),n.set.length>1)){var r=!0,i=!1,o=void 0;try{for(var a,l=n.set[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;e(t,c)}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}}(o,h)}}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}s.set(e,o)}var m=!0,v=!1,p=void 0;try{for(var g,y=n[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var w=g.value;if(o.has(w))return!0}}catch(e){v=!0,p=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw p}}return!1}function f(e,t){var n=new Map,r=0,i=!1;e.iterate({from:t,enter:function(e){if(e.type.isError&&(i=!0),i)return!1;if(e.from>=t){var o=n.get(e.from);(void 0===o||o.depth>r)&&n.set(e.from,{node:e.node,depth:r}),r++}},leave:function(e){e.from>=t&&r--}});var o=Array.from(n.entries()).sort(function(e,t){return e[0]-t[0]}).map(function(e){return{node:e[1].node,depth:e[1].depth}}),a=[],l=null,c=!0,u=!1,s=void 0;try{for(var d,f=o[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=d.value,m=h.node.from,v=h.node.to;if(0===h.depth){l&&(l.to=m,a.push(l)),l={from:m,to:v};continue}l&&(l.to=v)}}catch(e){u=!0,s=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw s}}return a}},83831:(e,t,n)=>{"use strict";n.d(t,{xu:()=>w,WD:()=>x,_t:()=>p,f$:()=>_,mh:()=>y,SF:()=>b});var r=n(17844),i=n(23099),o=n.n(i),a=n(6268),l=n(44725),c=n(49069),u=n(68488),s=n(12694),d=n(88231),f=n(69379),h=n(60490),m=n(63806);function v(e){var t,n=null!=(t=e.facet(h.cL))?t:e.facet(h.Md);if(!n)return null;var r=m.Jh.from(n),i=null==r?void 0:r.getFeature("indentation");return"tabs"===i?d.c.TABS:"spaces"===i?d.c.SPACES:null}var p=c.sU.define({create:function(e){return v(e)},update:function(e,t){return(0,u.$H)(t,h.cL,h.Md)?v(t.state):e}});function g(e){var t=e.facet(_),n=t.type,r=t.size;return t.detect?function(e,t,n){if(0===e.length||e.lines<5)return null;var r=0,i=0,o=0,a=new Map,l=0,c=!0,u=!1,h=void 0;try{for(var m,v=e.iterLines()[Symbol.iterator]();!(c=(m=v.next()).done);c=!0){var p=m.value;if(++l>5e3)break;if(0!==p.length&&0!==p.trim().length){if("	"===p[0])r++;else if(" "===p[0]&&" "===p[1])i++;else{o=0;continue}var g=(0,f.t)(p,n);if(o!==g){var y=Math.abs(o-g);if(1!==y){var w,x=null!=(w=a.get(y))?w:0;a.set(y,x+1)}}o=g}}}catch(e){u=!0,h=e}finally{try{c||null==v.return||v.return()}finally{if(u)throw h}}if(0===r&&0===i)return null;var b=t,S=n;if(r>i?b=d.c.TABS:i>r&&(b=d.c.SPACES),b===d.c.SPACES){var _=0,C=!0,A=!1,k=void 0;try{for(var E,Y=a[Symbol.iterator]();!(C=(E=Y.next()).done);C=!0){var D=(0,s._)(E.value,2),L=D[0],T=D[1];T>_&&(_=T,S=L)}}catch(e){A=!0,k=e}finally{try{C||null==Y.return||Y.return()}finally{if(A)throw k}}}return{type:b,size:S}}(e.doc,n,r):null}var y=c.Pe.define(),w=c.sU.define({create:function(e){return e.doc.lines>=5},update:function(e,t){return t.docChanged?t.newDoc.lines>=5:e}}),x=c.sU.define({create:function(e){return g(e)},update:function(e,t){return(0,u.$H)(t,y)||(0,u.$H)(t,_)&&t.startState.facet(_).detect!==t.state.facet(_).detect?g(t.state):t.docChanged&&0===t.startState.doc.length?g(t.state):e},compare:function(e,t){return o()(e,t)},provide:function(){return a.g_.of(function(e){return(0,u.$H)(e,y)?[y.of(!0)]:[]})}}),b=c.Pe.define(),S=c.sU.define({create:function(){return{}},update:function(e,t){var n=!0,i=!1,o=void 0;try{for(var a,l=t.effects[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;c.is(b)&&(e=(0,r._)({},e,c.value))}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}return e}}),_=c.sj.define({combine:function(e){return e[0]},enables:function(e){return[p,w,x,S,l.Xt.compute([e,p,x,S],function(t){var n,r,i,o,a,l=t.facet(e),c=t.field(p),u=t.field(x),s=t.field(S),f=null!=(i=null!=(r=null!=(n=s.type)?n:c)?r:null==u?void 0:u.type)?i:l.type,h=null!=(a=null!=(o=s.size)?o:null==u?void 0:u.size)?a:l.size;return f===d.c.SPACES?" ".repeat(h):"	"}),c.$t.tabSize.compute([e,x,S],function(t){var n=t.facet(e),r=t.field(x),i=t.field(S);return i.size?i.size:r&&r.type===d.c.SPACES?r.size:n.size})]}})},85361:(e,t,n)=>{"use strict";n.d(t,{v7:()=>g,kp:()=>p,r_:()=>y,Jv:()=>function e(t,n,r,i,o,l,c){if(!y(t,r,i))return t;var u=null,s=null,d=null;if(r!==i&&c.length>0){var x=c.length<=i-r?c:c.slice(0,i-r),b=r+x.length;u={from:r,to:b,text:x}}if(r===i||u&&u.to===i||(s={from:u?u.to:r,to:i}),c.length>0&&c.length>i-r){var S=u?c.slice(i-r):c;d={pos:i,text:S}}if(n){var _=(0,a._)(t.value,p)?t.value.fulfilledRange(t.from):t;if(s&&s.from<_.from&&s.to>=_.from)return null}if((0,a._)(t.value,p)){var C=t.from,A=t.value;if(s&&s.from<C&&s.to>C)return null;if(A.fulfilled.length>0){var k=A.fulfilledRange(C);if(d&&d.pos>k.from&&d.pos<k.to)return null;if(s&&s.from<k.to&&s.to>k.from)return s.to>=k.to&&s.from>k.from?e(p.range(s.from,A.text,A.offset-(k.to-s.from)),n,r,s.from,o,l,c):null;if(u&&u.from<k.to&&u.to>k.from){if(!(u.from>=k.from)||!(u.to<=k.to))return null;else if(!A.fulfilled.slice(u.from-k.from,u.to-k.from).eq(u.text))return null}}if(A.isFulfilled||!d||d.pos!==C)return t;if(d.text.length<=A.unfulfilled.length){if(d.text.eq(A.unfulfilled.slice(0,d.text.length)))return p.range(l,A.text,A.offset+d.text.length);if(A.unfulfilled.lines>=2&&w.test(d.text.toString())&&"\n"===A.unfulfilled.sliceString(A.unfulfilled.length-1,A.unfulfilled.length)){var E=d.text.length-1;if(A.unfulfilled.slice(0,E).eq(d.text.slice(0,E)))return[p.range(l-1,A.text.slice(0,A.text.length-1),A.offset+E),p.range(l,A.text.slice(A.text.length-1),1)]}if(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.length<2||t<0||t>=e.length-1)return!1;var n=e.sliceString(t,t+2);if(2!==n.length)return!1;var r=n.charAt(0),i=n.charAt(1);return f(r)&&h(i)&&m(r,i)}(d.text,d.text.length-2)&&d.text.slice(0,d.text.length-1).eq(A.unfulfilled.slice(0,d.text.length-1))){var Y=function(e,t){var n=e.sliceString(t,t+1);if(!f(n))return null;if(v(n))return function(e,t,n){var r=!1,i=!0,o=!1,a=void 0;try{for(var l,c=e.iterRange(t)[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;if(0===u.length){t++;continue}for(var s=0;s<u.length;s++)if(u.charAt(s)===n&&!r)return t+s;else r="\\"===u.charAt(s)&&!r;t+=u.length}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return null}(e,t+1,n);var r=[n],i=null,o=!1,a=t+1,l=!0,c=!1,u=void 0;try{for(var s,d=e.iterRange(a)[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var p=s.value;if(0===p.length){a++;continue}for(var g=0;g<p.length;g++){var y=p.charAt(g);if(null!==i){y!==i||o?o="\\"===y&&!o:i=null;continue}if(f(y))v(y)?i=y:r.push(y);else if(h(y)&&m(n,y)){var w=r.lastIndexOf(n);-1!==w&&r.splice(w,r.length-w)}if(0===r.length)return a+g}a+=p.length}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}return null}(A.text,A.offset+d.text.length-2);if(Y)return[p.range(l-1,A.text.slice(0,Y),A.offset+d.text.length-1),p.range(l,A.text.slice(Y),1)]}}return null}if((0,a._)(t.value,g)){if(d&&d.pos>t.from&&d.pos<t.to||u&&u.from<t.to&&u.to>t.from)return null;if(!s||s.to<=t.from||s.from>=t.to||t.value.isFulfilled)return t;var D={from:Math.max(s.from,t.from),to:Math.min(s.to,t.to)},L=D.from-t.from,T=t.to-D.to;return g.range(o-L,o+T)}throw Error("Invalid range value")}});var r=n(62019),i=n(37743),o=n(1833),a=n(53847),l=n(49069),c={open:"(",close:")"},u={open:"[",close:"]"},s={open:"{",close:"}"},d={open:"<",close:">"};function f(e){return e===c.open||e===u.open||e===s.open||e===d.open||'"'===e||"'"===e||"`"===e}function h(e){return e===c.close||e===u.close||e===s.close||e===d.close||'"'===e||"'"===e||"`"===e}function m(e,t){return e===c.open&&t===c.close||e===u.open&&t===u.close||e===s.open&&t===s.close||e===d.open&&t===d.close||'"'===e&&'"'===t||"'"===e&&"'"===t||"`"===e&&"`"===t}function v(e){return'"'===e||"'"===e||"`"===e}var p=function(e){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,i._)(this,t),(n=(0,r._)(this,t)).point=!0,n.mapMode=l.iR.Simple,n.text=e,n.offset=o,n.unfulfilled=e.slice(o),n.fulfilled=e.slice(0,o),n.isFulfilled=0===n.unfulfilled.length,n}(0,o._)(t,e);var n=t.prototype;return n.eq=function(e){return(0,a._)(e,t)&&this.text.eq(e.text)&&this.offset===e.offset},n.fulfilledRange=function(e){return{from:e-this.offset,to:e}},t.range=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new t(n,r).range(e)},t}(l.FB),g=function(e){function t(e){var n;return(0,i._)(this,t),(n=(0,r._)(this,t)).mapMode=l.iR.Simple,n.startSide=-1,n.endSide=-1,n.isFulfilled=e,e&&(n.point=!0),n}return(0,o._)(t,e),t.prototype.eq=function(e){return(0,a._)(e,t)&&this.isFulfilled===e.isFulfilled},t.range=function(e,n){return new t(e===n).range(e,n)},t}(l.FB);function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if((0,a._)(e.value,p)){var r=e.value.fulfilledRange(e.from);return r.from<=n&&r.to>=t}if((0,a._)(e.value,g))return e.from<=n&&e.to>=t;throw Error("Invalid range value")}var w=/^\n[^\S\r\n]*\n$/},85692:(e,t,n)=>{"use strict";n.d(t,{Pb:()=>h,Vn:()=>m});var r=n(37743),i=n(53847),o=n(12694),a=n(86105),l=n(21462),c=n(49069),u=n(45773),s=n(68488),d=n(39938),f=function(){function e(t){(0,r._)(this,e),this.view=t,this.listeners=new Map,this.pending=new Set,this.destroyed=!1}var t=e.prototype;return t.bind=function(e){var t=this;if(this.destroyed)return function(){};var n={changed:function(t){try{return e.changed(t)}catch(e){return!1}},callback:function(t){try{e.callback(t)}catch(e){}}};e.destroy&&(n.destroy=function(t){try{var n;null==(n=e.destroy)||n.call(e,t)}catch(e){}});var r=function(){t.listeners.delete(r),t.pending.delete(n)};return this.listeners.set(r,n),n.callback(this.view),r},t.update=function(e){var t=this;if(!this.destroyed&&0!==this.listeners.size){var n=this.pending.size>0,r=!0,i=!1,o=void 0;try{for(var a,l=this.listeners.values()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;c.changed(e)&&this.pending.add(c)}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}!n&&this.pending.size>0&&Promise.resolve().then(function(){if(t.pending.size>0&&!t.destroyed){var e=!0,n=!1,r=void 0;try{for(var i,o=t.pending[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)i.value.callback(t.view)}catch(e){n=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}t.pending.clear()}})}},t.destroy=function(){var e=this;this.destroyed=!0,Promise.resolve().then(function(){var t=!0,n=!1,r=void 0;try{for(var i,o=e.listeners.values()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.destroy&&a.destroy(e.view)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}e.listeners.clear(),e.pending.clear()})},e}(),h=u.Z9.fromClass(f);function m(e,t){var n,r,u,f,m,v,p,g;return n={dependencies:[t],changed:function(e){return(0,s.$H)(e,t)},read:function(e){var n;return(0,i._)(t,c.sU)?null!=(n=e.state.field(t,!1))?n:null:e.state.facet(t)}},f=null!=(r=null==e?void 0:e.plugin(h))?r:null,v=(m=(0,o._)((0,l.useState)(function(){return f&&e?n.read(e):null}),2))[0],p=m[1],g=(0,d.A)(n),f||null===v||p(null),(0,l.useEffect)(function(){if(!f||f.destroyed)return void p(null);var e=f.bind({changed:function(e){return g.current.changed(e)},callback:function(e){return p(function(){return g.current.read(e)})},destroy:function(){return p(null)}});return function(){e(),p(null)}},[f,g].concat((0,a._)(null!=(u=n.dependencies)?u:[]))),v}},86057:(e,t,n)=>{"use strict";n.d(t,{P:()=>Y,H:()=>D});var r=n(29935),i=n(82643),o=n(21462),a=n(86035),l=n(86402),c=n(17459),u=n(12694),s=n(86105),d=n(47888),f=["package-lock.json","yarn.lock","poetry.lock","replit.nix",".breakpoints"],h=[".out",".pkl",".bin",".csv",".log",".zip",".tar",".gz"],m=["node_modules",".config","venv",".next",".git"],v=n(63806),p=n(59270),g=n(36163),y=n(69071),w=n(10788),x=d.X(a.z91);function b(e){return!(!(0,p.m6)(e)||function(e){if("Dockerfile"===e.split("/").pop())return!1;var t=(0,p.an)(e),n=f.some(function(t){return e.endsWith(t)}),r=h.some(function(t){return e.endsWith(t)}),i=m.some(function(t){return e.split("/").some(function(e){return e===t})});return!t||n||r||i}(e))}var S=n(41897),_=n(20907),C=n(41390),A=n(40115),k=n(65242),E=n(843);function Y(e,t){var n,d,f,h,m=(d=(n=(0,l.so)()).basicModel,f=n.advancedModel,h=n.overrideModel,(0,o.useCallback)(function(e){var t=e.modelType,n=d;return h?n=h:t===a.e3q.ADVANCED&&(n=f),n},[f,d,h])),S=(0,k.Zo)({context:"agent"}).element,A=null==S?void 0:S.filePath;return(0,o.useCallback)(function(n){var o=n.modelType,l=n.filePreferences,d=n.recentFiles;return(0,r._)(function(){var n,f;return(0,i.YH)(this,function(h){switch(h.label){case 0:return[4,t.getConfig()];case 1:var S;return f=((null==(n=h.sent().config)?void 0:n.hidden)||[]).map(function(e){return(0,_.tL)(e)}).filter(Boolean),[2,(S={model:m({modelType:o}),filePreferences:l,filter:function(e){return!(0,C.Mo)(e,f)},recentFiles:d,targetedElementFile:A,entrypoint:(null==n?void 0:n.entrypoint)||void 0,fs:e},(0,r._)(function(){var e,t,n,o,l,d,f,h,m,_,C,A,k,E,Y,D,L,T,U,R,F,M,P,I,N,H,B,O,z,q,Z,j,V,K,G,W,$,Q,J,X,ee,et,en,er,ei,eo,ea,el,ec,eu,es,ed,ef,eh,em,ev;return(0,i.YH)(this,function(ep){switch(ep.label){case 0:e=S.filter,t=S.filePreferences,n=S.entrypoint,o=S.model,l=S.fs,d=S.targetedElementFile,f=(0,c._)(S,["filter","filePreferences","entrypoint","model","fs","targetedElementFile"]),h=o.limits.fileContextCharacters,m=[],_=[],C=new Set,A=!0,k=!1,E=void 0;try{for(Y=t[Symbol.iterator]();!(A=(D=Y.next()).done);A=!0){if(T=(L=(0,u._)(D.value,2))[0],U=L[1],"exclude"===U){m.push(T);continue}if(!b(T)){C.add(T);continue}_.push(T)}}catch(e){k=!0,E=e}finally{try{A||null==Y.return||Y.return()}finally{if(k)throw E}}R=[],F=!0,M=!1,P=void 0;try{for(I=f.recentFiles[Symbol.iterator]();!(F=(N=I.next()).done)&&((H=N.value,!(!m.includes(H)&&b(H)&&e(H)))||_.includes(H)||(R.push(H),3!==R.length));F=!0);}catch(e){M=!0,P=e}finally{try{F||null==I.return||I.return()}finally{if(M)throw P}}if(B=(0,s._)(_).concat((0,s._)(R)),d&&b(d)&&B.unshift(d),!(n&&B.length<10))return[3,2];return z=""===(O=(0,p._6)(n))?g.Dl:O,[4,l.readDir(z)];case 1:if(!(q=ep.sent()).error){Z=0,j=!0,V=!1,K=void 0;try{for(G=q.children[Symbol.iterator]();!(j=(W=G.next()).done)&&(($=W.value,Q=z===g.Dl?$.filename:z+$.filename,!(!m.includes(Q)&&b(Q)&&e(Q)))||B.includes(Q)||(B.push(Q),1!=++Z));j=!0);}catch(e){V=!0,K=e}finally{try{j||null==G.return||G.return()}finally{if(V)throw K}}}ep.label=2;case 2:return y.vF.info("AI got file context",{numRecentFiles:R.length,numPreferredFiles:_.length,maxFiles:10}),J=B.slice(0,10),X=B.slice(10),[4,Promise.all(J.map(function(e){return(0,r._)(function(){var t;return(0,i.YH)(this,function(n){return t=new Promise(function(e){return setTimeout(e,5e3)}),[2,Promise.race([Promise.all([l.readFile(e),function(){try{return l.getOTVersion(e)}catch(e){}return 0}()]),t])]})})()}))];case 3:for(ei=0,ee=ep.sent(),et=h,en=[],er=[];ei<J.length;ei++){if(eo=J[ei],!(ea=ee[ei])){y.vF.info("AI file read timeout",{filePath:eo});continue}if(ec=(el=(0,u._)(ea,2))[0],eu=el[1],ec.error){y.vF.info("AI failed to read file",{filePath:eo});continue}if((0,w.A)(ec.content.toBuffer())){y.vF.info("GhostwriterChat filtered out binary file",{filePath:eo});continue}if(et<=0){X.push(eo);continue}if(ed=(es=ec.content.toString()).slice(0,et),ef=es.length>ed.length,ev=null!=(em=null==(eh=v.Jh.from(eo))?void 0:eh.id)?em:(0,p.an)(eo),ef){en.push(eo);continue}et-=ed.length,er.push({filePath:eo,fileContent:ed,fileVersion:eu,language:ev,referenceType:a.fDX.FILE,code:"",range:x})}return[2,{fileContext:er,preferredFiles:_,mostRecentFile:R.length?R[0]:void 0,truncatedFiles:en,overflowingFiles:X,unsupportedPreferredFiles:C}]}})})())]}})})()},[e,t,m,A])}function D(){var e=(0,A.A)(),t=e.fs,n=e.dotReplit,r="advanced"===(0,l.k)().assistantInlineMode?a.e3q.ADVANCED:a.e3q.BASIC,i=(0,S.Vg)(),c=Y(t,n),u=(0,E.Sx)();return(0,o.useCallback)(function(){return c({modelType:r,filePreferences:i(),recentFiles:u()})},[i,u,c,r])}},86910:e=>{e.exports={root:"diagnostics_root__xpM4W",buttonRow:"diagnostics_buttonRow__VYWN_",text:"diagnostics_text__FtPuk",icon:"diagnostics_icon__BDqne"}},87145:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(29935),i=n(53847),o=n(82643),a=n(98565),l=n(49555),c=n(33795);function u(e){var t=e.path,n=e.fs,r=e.edits,i=!1,o=n.watchTextFile(t,{onReady:function(e){var t=e.writeChange,n=e.initialContent;t((0,c.A)(r,n.toString())),i=!0},onStatusChange:function(e){e===l.BM.Clean&&i&&o()}})}function s(e){return(0,r._)(function(){return(0,o.YH)(this,function(t){return[2,(function(e){return(0,r._)(function(e){var t,n,r,i,c,s,d,f,h,m,v,p,g,y,w,x,b,S,_,C,A,k,E,Y,D,L,T,U,R;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(t=e.edit,n=e.fs,r=e.client,i=t.documentChanges,c=t.changes,!i)return[3,18];s=!0,d=!1,f=void 0,o.label=1;case 1:o.trys.push([1,16,17,18]),h=i[Symbol.iterator](),o.label=2;case 2:if(s=(m=h.next()).done)return[3,15];if("textDocument"in(v=m.value))return p=v.edits,g=v.textDocument,u({path:r.documentUriToPath(g.uri),fs:n,edits:p}),[3,14];switch(v.kind){case"create":return[3,3];case"delete":return[3,7];case"rename":return[3,10]}return[3,14];case 3:if(y=r.documentUriToPath(v.uri),(null==(w=v.options)?void 0:w.overwrite)||!(null==w?void 0:w.ignoreIfExists))return[3,5];return[4,n.stat(y)];case 4:if(o.sent().exists)return[3,14];o.label=5;case 5:return[4,n.writeFile(y,a.A.from(""))];case 6:if(x=o.sent().error)throw Error("Something went wrong writing to a file: ".concat(x));return[3,14];case 7:return b=r.documentUriToPath(v.uri),_=!!(null==(S=v.options)?void 0:S.recursive),C=!!(null==S?void 0:S.ignoreIfNotExists),[4,n.stat(b)];case 8:if(!(A=o.sent()).exists){if(C)return[3,14];throw Error("Expected file to exist")}if(A.type===l.pt.Directory&&!_)throw Error("Trying to delete a directory without recursive option enabled");return[4,n.deleteFile(b)];case 9:if((k=o.sent().error)===l.Tr.NotFound&&C)return[3,14];if(k)throw Error("Something went wrong deleting the file: ".concat(k));return[3,14];case 10:if(E=r.documentUriToPath(v.oldUri),Y=r.documentUriToPath(v.newUri),(null==(D=v.options)?void 0:D.overwrite)||!(null==D?void 0:D.ignoreIfExists))return[3,12];return[4,n.stat(E)];case 11:if(o.sent().exists)return[3,14];o.label=12;case 12:return[4,n.moveFile(E,Y)];case 13:if(L=o.sent().error)throw Error("Something went wrong moving a file: ".concat(L));return[3,14];case 14:return s=!0,[3,2];case 15:return[3,18];case 16:return T=o.sent(),d=!0,f=T,[3,18];case 17:try{s||null==h.return||h.return()}finally{if(d)throw f}return[7];case 18:if(c)for(var F in c)U=r.documentUriToPath(F),R=c[F],u({path:U,fs:n,edits:R});return[2]}})}).apply(this,arguments)})(e).then(function(){return{applied:!0}}).catch(function(e){return{applied:!1,failureReason:(0,i._)(e,Error)?e.message:e}})]})})()}},87777:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=n(49069).YH.define()},88189:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var r=(0,n(21462).createContext)(!1)},88231:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r=function(e){return e.SPACES="spaces",e.TABS="tabs",e}({})},89832:(e,t,n)=>{"use strict";n.d(t,{E:()=>p,J:()=>g});var r=n(37743),i=n(17844),o=n(34837),a=n(47993),l=n(45773),c=n(64498),u=n(73488),s=n(5336),d=n(41409),f=n(48373),h=n(77135);function m(e){for(var t=null,n=e;n;){var r=c.e.get(n);if(r){t=r;break}if(n.classList.contains("cm-editor")){if(!(t=l.Lz.findFromDOM(n)))throw Error("cm-editor element found without editor view");break}n=n.parentElement}if(!t)throw Error("no editor view found for given DOM element");var i=t.plugin(s.LI);if(!i)throw Error("no root plugin found for given DOM element");return i}function v(e){var t=(0,f.A)(e.props),n=(0,h.S)(["ref"in t?t.ref:void 0,e.innerRef],{breadcrumb:"client/codemirror/react/dom.tsx:153"});return"$$typeof"in e.component?(0,o.Y)(e.component,(0,i._)({ref:n},t)):(0,o.Y)(e.component,(0,i._)({},t))}var p=function(){function e(t){(0,r._)(this,e),this.component=t,this.props=new WeakMap,this.refs=new WeakMap}var t=e.prototype;return t.getPropsObservable=function(e){var t=this.props.get(e);if(!t)throw Error("no instance is associated with the given element");return t},t.render=function(e,t){var n=this,r=(0,o.Y)(v,{component:this.component,props:t,innerRef:function(t){n.refs.set(e,t)}});return(0,a.createPortal)(r,e)},t.create=function(e){var t=this,n=(0,d.F)(e),r=!1,i=(0,d.F)(n.current);n.subscribe(function(){r||(r=!0,Promise.resolve().then(function(){r=!1,(0,a.flushSync)(function(){i.set(n.current)})}))});var o=null,l=new u.u({mount:function(){o=m(l).mount(t.render(l,i))},unmount:function(){o&&(o(),o=null,t.refs.set(l,void 0))}});return this.props.set(l,n),this.refs.set(l,void 0),l},t.has=function(e){return this.props.has(e)},t.get=function(e){return this.getPropsObservable(e).current},t.set=function(e,t){var n=this.getPropsObservable(e);n.current!==t&&n.set(t)},t.update=function(e,t){var n=this.getPropsObservable(e),r=n.current,i=t(r);r!==i&&n.set(i)},t.ref=function(e){return this.refs.get(e)},e}();function g(e){var t=null;return new u.u({mount:function(n){var r=m(n),i=(0,a.createPortal)(e,n);t=r.mount(i)},unmount:function(){t&&(t(),t=null)}})}},91539:(e,t,n)=>{"use strict";n.d(t,{Qq:()=>g,ZM:()=>x,eY:()=>w,gR:()=>v,iO:()=>y,jk:()=>p});var r=n(17844),i=n(93629),o=n(21462),a=n(35992),l=n(76957),c=n(79203),u=n(26325),s=n(81269),d=(0,l.eU)(null),f=(0,l.eU)(null,function(e,t,n){var o=n.error,a=n.tags,l=n.extras,c=n.componentStack,u=n.origin,f=(0,i._)((0,r._)({},a),{origin:u});"statusCode"in o?f.statusCode=o.statusCode:"status"in o&&(f.statusCode=o.status),e(d)||t(d,{eventId:(0,s.H)(o,{tags:f,extras:l,componentStack:c}),error:o,componentStack:c,sentry:{tags:f,extras:l},origin:u})}),h=(0,l.eU)(null,function(e,t){t(d,null)}),m=(0,l.eU)(new Map);function v(){return(0,u.yF)((0,o.useCallback)(function(e,t,n){var r=n.filePath;return e(m).get(r)},[]))}function p(){return(0,u.yF)((0,o.useCallback)(function(e,t,n){var r=n.filePath,i=n.version;t(m,function(e){return(0,a.jM)(e,function(e){e.set(r,i)})})},[]))}function g(){return(0,u.yF)((0,o.useCallback)(function(e,t,n){var r=n.filePath;t(m,function(e){return(0,a.jM)(e,function(e){e.delete(r)})})},[]))}function y(){return(0,c.Xr)(f)}function w(){return[(0,c.md)(d),y()]}function x(){return(0,c.Xr)(h)}},91785:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(34837),a=n(25590);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M13.5 4.75c-4.165 0-8.75 3.24-8.75 8.75 0 1.928.365 3.487 1.162 4.55.767 1.022 2.021 1.7 4.088 1.7a7.999 7.999 0 0 0 6.4-3.2.75.75 0 1 1 1.2.9 9.499 9.499 0 0 1-7.6 3.8c-2.433 0-4.18-.822-5.288-2.3-1.077-1.437-1.462-3.378-1.462-5.45 0-6.49 5.415-10.25 10.25-10.25 1.88 0 3.234.887 4.025 2.087.2.303.362.624.49.956l.814-1.628a.75.75 0 1 1 1.342.67l-2 4a.75.75 0 0 1-1.398-.517c.197-.79.046-1.825-.5-2.655-.527-.8-1.422-1.413-2.773-1.413Z",clipRule:"evenodd"})}))}},92023:(e,t,n)=>{"use strict";n.d(t,{wG:()=>y,E_:()=>g,dU:()=>w,Ay:()=>x});var r=n(17844),i=n(68248),o=n(36312),a=n(96631),l=n(29935),c=n(82643),u=n(74651),s=u.ZU.Object({token:u.ZU.String()}),d=n(53847),f=n(93629),h="SERVER",m={codec:o.MU,heartbeatIntervalMs:2500,heartbeatsUntilDead:4,sessionDisconnectGraceMs:1e4,connectionTimeoutMs:1e4,handshakeTimeoutMs:1e4};(0,r._)({},m);var v=[4002,4004],p=(0,f._)((0,r._)({},m),{baseIntervalMs:250,maxJitterMs:250,maxBackoffMs:32e3,attemptBudgetCapacity:5,budgetRestoreIntervalMs:500,isFatalConnectionError:function(e){return!!((0,d._)(e,o.kc)&&v.includes(e.code))}}),g=i.rE,y=h,w=o.bd;let x=function(e,t,n,o){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"info",d=arguments.length>5?arguments[5]:void 0,f=new a.I(t,e,d?(0,r._)({},p,d):p);return f.bindLogger(o,u),{client:(0,i.UU)(f,h,{eagerlyConnect:!1,connectOnInvoke:!1,handshakeOptions:(0,i.f2)(s,function(){return(0,l._)(function(){var e;return(0,c.YH)(this,function(t){switch(t.label){case 0:return e={},[4,n()];case 1:return[2,(e.token=t.sent(),e)]}})})()})}),transport:f}}},95272:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(53847),i=n(44725),o=n(18254);function a(e){var t=e.text,n=e.parser,a=e.changes,l=e.base,c=e.upTo,u=e.maxTime,s=Date.now(),d=void 0;if(l&&(Array.isArray(l)?l.length&&(d=l):d=(0,r._)(l,o.PH)?o.rr.addTree(l):o.rr.addTree((0,i.mv)(l)),d&&a)){var f=[];a.iterChangedRanges(function(e,t,n,r){f.push({fromA:e,toA:t,fromB:n,toB:r})}),d=o.rr.applyChanges(d,f)}var h=new i.FZ(t),m=n.startParse(h,d);void 0!==c&&m.parsedPos<=c&&m.stopAt(c);for(var v=m.advance(),p=!1;!v&&!(v=m.advance());)if(!p&&void 0!==u){if(null!==m.stoppedAt&&m.stoppedAt<=m.parsedPos){p=!0;continue}Date.now()-s>u&&(p=!0,m.stopAt(m.parsedPos))}return v}},96617:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(34837),a=n(25590);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M3.25 6A2.75 2.75 0 0 1 6 3.25h12A2.75 2.75 0 0 1 20.75 6v12A2.75 2.75 0 0 1 18 20.75H6A2.75 2.75 0 0 1 3.25 18V6ZM6 4.75c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h12c.69 0 1.25-.56 1.25-1.25V6c0-.69-.56-1.25-1.25-1.25H6Z",clipRule:"evenodd"})}))}},97581:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(34837),a=n(25590);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 2.75a9.25 9.25 0 1 0 0 18.5 9.25 9.25 0 0 0 0-18.5ZM1.25 12C1.25 6.063 6.063 1.25 12 1.25S22.75 6.063 22.75 12 17.937 22.75 12 22.75 1.25 17.937 1.25 12Z",clipRule:"evenodd"})}))}},99335:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,n:()=>o});var r=n(49069),i=n(74309),o=r.sj.define({combine:function(e){return e.some(function(e){return e})}}),a=new i.k(function(e){return o.of(e)})}}]);
//# sourceMappingURL=7420-b5590e52cd9ad3ab.js.map